var cw=e=>{throw TypeError(e)};var vm=(e,t,r)=>t.has(e)||cw("Cannot "+r);var xe=(e,t,r)=>(vm(e,t,"read from private field"),r?r.call(e):t.get(e)),wt=(e,t,r)=>t.has(e)?cw("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ct=(e,t,r,n)=>(vm(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),fn=(e,t,r)=>(vm(e,t,"access private method"),r);var gf=(e,t,r,n)=>({set _(s){ct(e,t,s,r)},get _(){return xe(e,t,n)}});function yS(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var al=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ax(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Md(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var wS={exports:{}},sp={},_S={exports:{}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bd=Symbol.for("react.element"),OO=Symbol.for("react.portal"),PO=Symbol.for("react.fragment"),IO=Symbol.for("react.strict_mode"),DO=Symbol.for("react.profiler"),FO=Symbol.for("react.provider"),LO=Symbol.for("react.context"),MO=Symbol.for("react.forward_ref"),BO=Symbol.for("react.suspense"),$O=Symbol.for("react.memo"),UO=Symbol.for("react.lazy"),uw=Symbol.iterator;function zO(e){return e===null||typeof e!="object"?null:(e=uw&&e[uw]||e["@@iterator"],typeof e=="function"?e:null)}var bS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},SS=Object.assign,ES={};function Ac(e,t,r){this.props=e,this.context=t,this.refs=ES,this.updater=r||bS}Ac.prototype.isReactComponent={};Ac.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ac.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function NS(){}NS.prototype=Ac.prototype;function Rx(e,t,r){this.props=e,this.context=t,this.refs=ES,this.updater=r||bS}var Ox=Rx.prototype=new NS;Ox.constructor=Rx;SS(Ox,Ac.prototype);Ox.isPureReactComponent=!0;var dw=Array.isArray,jS=Object.prototype.hasOwnProperty,Px={current:null},CS={key:!0,ref:!0,__self:!0,__source:!0};function TS(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)jS.call(t,n)&&!CS.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Bd,type:e,key:a,ref:o,props:s,_owner:Px.current}}function VO(e,t){return{$$typeof:Bd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ix(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bd}function WO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var fw=/\/+/g;function xm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?WO(""+e.key):t.toString(36)}function hh(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Bd:case OO:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+xm(o,0):n,dw(s)?(r="",e!=null&&(r=e.replace(fw,"$&/")+"/"),hh(s,t,r,"",function(u){return u})):s!=null&&(Ix(s)&&(s=VO(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(fw,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",dw(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+xm(a,l);o+=hh(a,t,r,c,s)}else if(c=zO(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+xm(a,l++),o+=hh(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function vf(e,t,r){if(e==null)return e;var n=[],s=0;return hh(e,n,"","",function(a){return t.call(r,a,s++)}),n}function HO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var In={current:null},ph={transition:null},GO={ReactCurrentDispatcher:In,ReactCurrentBatchConfig:ph,ReactCurrentOwner:Px};function kS(){throw Error("act(...) is not supported in production builds of React.")}gt.Children={map:vf,forEach:function(e,t,r){vf(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return vf(e,function(){t++}),t},toArray:function(e){return vf(e,function(t){return t})||[]},only:function(e){if(!Ix(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};gt.Component=Ac;gt.Fragment=PO;gt.Profiler=DO;gt.PureComponent=Rx;gt.StrictMode=IO;gt.Suspense=BO;gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GO;gt.act=kS;gt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=SS({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Px.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)jS.call(t,c)&&!CS.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Bd,type:e.type,key:s,ref:a,props:n,_owner:o}};gt.createContext=function(e){return e={$$typeof:LO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:FO,_context:e},e.Consumer=e};gt.createElement=TS;gt.createFactory=function(e){var t=TS.bind(null,e);return t.type=e,t};gt.createRef=function(){return{current:null}};gt.forwardRef=function(e){return{$$typeof:MO,render:e}};gt.isValidElement=Ix;gt.lazy=function(e){return{$$typeof:UO,_payload:{_status:-1,_result:e},_init:HO}};gt.memo=function(e,t){return{$$typeof:$O,type:e,compare:t===void 0?null:t}};gt.startTransition=function(e){var t=ph.transition;ph.transition={};try{e()}finally{ph.transition=t}};gt.unstable_act=kS;gt.useCallback=function(e,t){return In.current.useCallback(e,t)};gt.useContext=function(e){return In.current.useContext(e)};gt.useDebugValue=function(){};gt.useDeferredValue=function(e){return In.current.useDeferredValue(e)};gt.useEffect=function(e,t){return In.current.useEffect(e,t)};gt.useId=function(){return In.current.useId()};gt.useImperativeHandle=function(e,t,r){return In.current.useImperativeHandle(e,t,r)};gt.useInsertionEffect=function(e,t){return In.current.useInsertionEffect(e,t)};gt.useLayoutEffect=function(e,t){return In.current.useLayoutEffect(e,t)};gt.useMemo=function(e,t){return In.current.useMemo(e,t)};gt.useReducer=function(e,t,r){return In.current.useReducer(e,t,r)};gt.useRef=function(e){return In.current.useRef(e)};gt.useState=function(e){return In.current.useState(e)};gt.useSyncExternalStore=function(e,t,r){return In.current.useSyncExternalStore(e,t,r)};gt.useTransition=function(){return In.current.useTransition()};gt.version="18.3.1";_S.exports=gt;var g=_S.exports;const we=Ax(g),Dx=yS({__proto__:null,default:we},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qO=g,KO=Symbol.for("react.element"),XO=Symbol.for("react.fragment"),YO=Object.prototype.hasOwnProperty,JO=qO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QO={key:!0,ref:!0,__self:!0,__source:!0};function AS(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)YO.call(t,n)&&!QO.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:KO,type:e,key:a,ref:o,props:s,_owner:JO.current}}sp.Fragment=XO;sp.jsx=AS;sp.jsxs=AS;wS.exports=sp;var i=wS.exports,RS={exports:{}},ms={},OS={exports:{}},PS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(X,J){var Y=X.length;X.push(J);e:for(;0<Y;){var ge=Y-1>>>1,P=X[ge];if(0<s(P,J))X[ge]=J,X[Y]=P,Y=ge;else break e}}function r(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var J=X[0],Y=X.pop();if(Y!==J){X[0]=Y;e:for(var ge=0,P=X.length,G=P>>>1;ge<G;){var B=2*(ge+1)-1,W=X[B],ee=B+1,U=X[ee];if(0>s(W,Y))ee<P&&0>s(U,W)?(X[ge]=U,X[ee]=Y,ge=ee):(X[ge]=W,X[B]=Y,ge=B);else if(ee<P&&0>s(U,Y))X[ge]=U,X[ee]=Y,ge=ee;else break e}}return J}function s(X,J){var Y=X.sortIndex-J.sortIndex;return Y!==0?Y:X.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,x=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(X){for(var J=r(u);J!==null;){if(J.callback===null)n(u);else if(J.startTime<=X)n(u),J.sortIndex=J.expirationTime,t(c,J);else break;J=r(u)}}function S(X){if(m=!1,y(X),!x)if(r(c)!==null)x=!0,q(E);else{var J=r(u);J!==null&&ie(S,J.startTime-X)}}function E(X,J){x=!1,m&&(m=!1,_(j),j=-1),p=!0;var Y=h;try{for(y(J),f=r(c);f!==null&&(!(f.expirationTime>J)||X&&!k());){var ge=f.callback;if(typeof ge=="function"){f.callback=null,h=f.priorityLevel;var P=ge(f.expirationTime<=J);J=e.unstable_now(),typeof P=="function"?f.callback=P:f===r(c)&&n(c),y(J)}else n(c);f=r(c)}if(f!==null)var G=!0;else{var B=r(u);B!==null&&ie(S,B.startTime-J),G=!1}return G}finally{f=null,h=Y,p=!1}}var C=!1,b=null,j=-1,N=5,R=-1;function k(){return!(e.unstable_now()-R<N)}function O(){if(b!==null){var X=e.unstable_now();R=X;var J=!0;try{J=b(!0,X)}finally{J?L():(C=!1,b=null)}}else C=!1}var L;if(typeof w=="function")L=function(){w(O)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,M=K.port2;K.port1.onmessage=O,L=function(){M.postMessage(null)}}else L=function(){v(O,0)};function q(X){b=X,C||(C=!0,L())}function ie(X,J){j=v(function(){X(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,q(E))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(X){switch(h){case 1:case 2:case 3:var J=3;break;default:J=h}var Y=h;h=J;try{return X()}finally{h=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,J){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var Y=h;h=X;try{return J()}finally{h=Y}},e.unstable_scheduleCallback=function(X,J,Y){var ge=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ge+Y:ge):Y=ge,X){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=Y+P,X={id:d++,callback:J,priorityLevel:X,startTime:Y,expirationTime:P,sortIndex:-1},Y>ge?(X.sortIndex=Y,t(u,X),r(c)===null&&X===r(u)&&(m?(_(j),j=-1):m=!0,ie(S,Y-ge))):(X.sortIndex=P,t(c,X),x||p||(x=!0,q(E))),X},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(X){var J=h;return function(){var Y=h;h=J;try{return X.apply(this,arguments)}finally{h=Y}}}})(PS);OS.exports=PS;var ZO=OS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e3=g,ds=ZO;function Se(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var IS=new Set,qu={};function Yo(e,t){ac(e,t),ac(e+"Capture",t)}function ac(e,t){for(qu[e]=t,e=0;e<t.length;e++)IS.add(t[e])}var Wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Og=Object.prototype.hasOwnProperty,t3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hw={},pw={};function r3(e){return Og.call(pw,e)?!0:Og.call(hw,e)?!1:t3.test(e)?pw[e]=!0:(hw[e]=!0,!1)}function n3(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function s3(e,t,r,n){if(t===null||typeof t>"u"||n3(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Dn(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){cn[e]=new Dn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];cn[t]=new Dn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){cn[e]=new Dn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){cn[e]=new Dn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){cn[e]=new Dn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){cn[e]=new Dn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){cn[e]=new Dn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){cn[e]=new Dn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){cn[e]=new Dn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fx=/[\-:]([a-z])/g;function Lx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Fx,Lx);cn[t]=new Dn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Fx,Lx);cn[t]=new Dn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Fx,Lx);cn[t]=new Dn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){cn[e]=new Dn(e,1,!1,e.toLowerCase(),null,!1,!1)});cn.xlinkHref=new Dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){cn[e]=new Dn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Mx(e,t,r,n){var s=cn.hasOwnProperty(t)?cn[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(s3(t,r,s,n)&&(r=null),n||s===null?r3(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Za=e3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xf=Symbol.for("react.element"),bl=Symbol.for("react.portal"),Sl=Symbol.for("react.fragment"),Bx=Symbol.for("react.strict_mode"),Pg=Symbol.for("react.profiler"),DS=Symbol.for("react.provider"),FS=Symbol.for("react.context"),$x=Symbol.for("react.forward_ref"),Ig=Symbol.for("react.suspense"),Dg=Symbol.for("react.suspense_list"),Ux=Symbol.for("react.memo"),ci=Symbol.for("react.lazy"),LS=Symbol.for("react.offscreen"),mw=Symbol.iterator;function nu(e){return e===null||typeof e!="object"?null:(e=mw&&e[mw]||e["@@iterator"],typeof e=="function"?e:null)}var hr=Object.assign,ym;function gu(e){if(ym===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ym=t&&t[1]||""}return`
`+ym+e}var wm=!1;function _m(e,t){if(!e||wm)return"";wm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{wm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?gu(e):""}function a3(e){switch(e.tag){case 5:return gu(e.type);case 16:return gu("Lazy");case 13:return gu("Suspense");case 19:return gu("SuspenseList");case 0:case 2:case 15:return e=_m(e.type,!1),e;case 11:return e=_m(e.type.render,!1),e;case 1:return e=_m(e.type,!0),e;default:return""}}function Fg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sl:return"Fragment";case bl:return"Portal";case Pg:return"Profiler";case Bx:return"StrictMode";case Ig:return"Suspense";case Dg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case FS:return(e.displayName||"Context")+".Consumer";case DS:return(e._context.displayName||"Context")+".Provider";case $x:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ux:return t=e.displayName||null,t!==null?t:Fg(e.type)||"Memo";case ci:t=e._payload,e=e._init;try{return Fg(e(t))}catch{}}return null}function i3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fg(t);case 8:return t===Bx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function MS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function o3(e){var t=MS(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yf(e){e._valueTracker||(e._valueTracker=o3(e))}function BS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=MS(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Fh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Lg(e,t){var r=t.checked;return hr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function gw(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Vi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $S(e,t){t=t.checked,t!=null&&Mx(e,"checked",t,!1)}function Mg(e,t){$S(e,t);var r=Vi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bg(e,t.type,r):t.hasOwnProperty("defaultValue")&&Bg(e,t.type,Vi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vw(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Bg(e,t,r){(t!=="number"||Fh(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var vu=Array.isArray;function Dl(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Vi(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function $g(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Se(91));return hr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xw(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Se(92));if(vu(r)){if(1<r.length)throw Error(Se(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Vi(r)}}function US(e,t){var r=Vi(t.value),n=Vi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function yw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ug(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wf,VS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wf=wf||document.createElement("div"),wf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ku(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ju={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},l3=["Webkit","ms","Moz","O"];Object.keys(ju).forEach(function(e){l3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ju[t]=ju[e]})});function WS(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ju.hasOwnProperty(e)&&ju[e]?(""+t).trim():t+"px"}function HS(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=WS(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var c3=hr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zg(e,t){if(t){if(c3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Se(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Se(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Se(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Se(62))}}function Vg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wg=null;function zx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hg=null,Fl=null,Ll=null;function ww(e){if(e=zd(e)){if(typeof Hg!="function")throw Error(Se(280));var t=e.stateNode;t&&(t=cp(t),Hg(e.stateNode,e.type,t))}}function GS(e){Fl?Ll?Ll.push(e):Ll=[e]:Fl=e}function qS(){if(Fl){var e=Fl,t=Ll;if(Ll=Fl=null,ww(e),t)for(e=0;e<t.length;e++)ww(t[e])}}function KS(e,t){return e(t)}function XS(){}var bm=!1;function YS(e,t,r){if(bm)return e(t,r);bm=!0;try{return KS(e,t,r)}finally{bm=!1,(Fl!==null||Ll!==null)&&(XS(),qS())}}function Xu(e,t){var r=e.stateNode;if(r===null)return null;var n=cp(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Se(231,t,typeof r));return r}var Gg=!1;if(Wa)try{var su={};Object.defineProperty(su,"passive",{get:function(){Gg=!0}}),window.addEventListener("test",su,su),window.removeEventListener("test",su,su)}catch{Gg=!1}function u3(e,t,r,n,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Cu=!1,Lh=null,Mh=!1,qg=null,d3={onError:function(e){Cu=!0,Lh=e}};function f3(e,t,r,n,s,a,o,l,c){Cu=!1,Lh=null,u3.apply(d3,arguments)}function h3(e,t,r,n,s,a,o,l,c){if(f3.apply(this,arguments),Cu){if(Cu){var u=Lh;Cu=!1,Lh=null}else throw Error(Se(198));Mh||(Mh=!0,qg=u)}}function Jo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function JS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _w(e){if(Jo(e)!==e)throw Error(Se(188))}function p3(e){var t=e.alternate;if(!t){if(t=Jo(e),t===null)throw Error(Se(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return _w(s),e;if(a===n)return _w(s),t;a=a.sibling}throw Error(Se(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(Se(189))}}if(r.alternate!==n)throw Error(Se(190))}if(r.tag!==3)throw Error(Se(188));return r.stateNode.current===r?e:t}function QS(e){return e=p3(e),e!==null?ZS(e):null}function ZS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ZS(e);if(t!==null)return t;e=e.sibling}return null}var eE=ds.unstable_scheduleCallback,bw=ds.unstable_cancelCallback,m3=ds.unstable_shouldYield,g3=ds.unstable_requestPaint,Sr=ds.unstable_now,v3=ds.unstable_getCurrentPriorityLevel,Vx=ds.unstable_ImmediatePriority,tE=ds.unstable_UserBlockingPriority,Bh=ds.unstable_NormalPriority,x3=ds.unstable_LowPriority,rE=ds.unstable_IdlePriority,ap=null,wa=null;function y3(e){if(wa&&typeof wa.onCommitFiberRoot=="function")try{wa.onCommitFiberRoot(ap,e,void 0,(e.current.flags&128)===128)}catch{}}var Qs=Math.clz32?Math.clz32:b3,w3=Math.log,_3=Math.LN2;function b3(e){return e>>>=0,e===0?32:31-(w3(e)/_3|0)|0}var _f=64,bf=4194304;function xu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $h(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=xu(l):(a&=o,a!==0&&(n=xu(a)))}else o=r&~s,o!==0?n=xu(o):a!==0&&(n=xu(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Qs(t),s=1<<r,n|=e[r],t&=~s;return n}function S3(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E3(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Qs(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=S3(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Kg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nE(){var e=_f;return _f<<=1,!(_f&4194240)&&(_f=64),e}function Sm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function $d(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qs(t),e[t]=r}function N3(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Qs(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function Wx(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Qs(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Dt=0;function sE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var aE,Hx,iE,oE,lE,Xg=!1,Sf=[],Oi=null,Pi=null,Ii=null,Yu=new Map,Ju=new Map,hi=[],j3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sw(e,t){switch(e){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Ii=null;break;case"pointerover":case"pointerout":Yu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ju.delete(t.pointerId)}}function au(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=zd(t),t!==null&&Hx(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function C3(e,t,r,n,s){switch(t){case"focusin":return Oi=au(Oi,e,t,r,n,s),!0;case"dragenter":return Pi=au(Pi,e,t,r,n,s),!0;case"mouseover":return Ii=au(Ii,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Yu.set(a,au(Yu.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Ju.set(a,au(Ju.get(a)||null,e,t,r,n,s)),!0}return!1}function cE(e){var t=_o(e.target);if(t!==null){var r=Jo(t);if(r!==null){if(t=r.tag,t===13){if(t=JS(r),t!==null){e.blockedOn=t,lE(e.priority,function(){iE(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Wg=n,r.target.dispatchEvent(n),Wg=null}else return t=zd(r),t!==null&&Hx(t),e.blockedOn=r,!1;t.shift()}return!0}function Ew(e,t,r){mh(e)&&r.delete(t)}function T3(){Xg=!1,Oi!==null&&mh(Oi)&&(Oi=null),Pi!==null&&mh(Pi)&&(Pi=null),Ii!==null&&mh(Ii)&&(Ii=null),Yu.forEach(Ew),Ju.forEach(Ew)}function iu(e,t){e.blockedOn===t&&(e.blockedOn=null,Xg||(Xg=!0,ds.unstable_scheduleCallback(ds.unstable_NormalPriority,T3)))}function Qu(e){function t(s){return iu(s,e)}if(0<Sf.length){iu(Sf[0],e);for(var r=1;r<Sf.length;r++){var n=Sf[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Oi!==null&&iu(Oi,e),Pi!==null&&iu(Pi,e),Ii!==null&&iu(Ii,e),Yu.forEach(t),Ju.forEach(t),r=0;r<hi.length;r++)n=hi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<hi.length&&(r=hi[0],r.blockedOn===null);)cE(r),r.blockedOn===null&&hi.shift()}var Ml=Za.ReactCurrentBatchConfig,Uh=!0;function k3(e,t,r,n){var s=Dt,a=Ml.transition;Ml.transition=null;try{Dt=1,Gx(e,t,r,n)}finally{Dt=s,Ml.transition=a}}function A3(e,t,r,n){var s=Dt,a=Ml.transition;Ml.transition=null;try{Dt=4,Gx(e,t,r,n)}finally{Dt=s,Ml.transition=a}}function Gx(e,t,r,n){if(Uh){var s=Yg(e,t,r,n);if(s===null)Pm(e,t,n,zh,r),Sw(e,n);else if(C3(s,e,t,r,n))n.stopPropagation();else if(Sw(e,n),t&4&&-1<j3.indexOf(e)){for(;s!==null;){var a=zd(s);if(a!==null&&aE(a),a=Yg(e,t,r,n),a===null&&Pm(e,t,n,zh,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Pm(e,t,n,null,r)}}var zh=null;function Yg(e,t,r,n){if(zh=null,e=zx(n),e=_o(e),e!==null)if(t=Jo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=JS(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zh=e,null}function uE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(v3()){case Vx:return 1;case tE:return 4;case Bh:case x3:return 16;case rE:return 536870912;default:return 16}default:return 16}}var bi=null,qx=null,gh=null;function dE(){if(gh)return gh;var e,t=qx,r=t.length,n,s="value"in bi?bi.value:bi.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return gh=s.slice(e,1<n?1-n:void 0)}function vh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ef(){return!0}function Nw(){return!1}function gs(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ef:Nw,this.isPropagationStopped=Nw,this}return hr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ef)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ef)},persist:function(){},isPersistent:Ef}),t}var Rc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kx=gs(Rc),Ud=hr({},Rc,{view:0,detail:0}),R3=gs(Ud),Em,Nm,ou,ip=hr({},Ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ou&&(ou&&e.type==="mousemove"?(Em=e.screenX-ou.screenX,Nm=e.screenY-ou.screenY):Nm=Em=0,ou=e),Em)},movementY:function(e){return"movementY"in e?e.movementY:Nm}}),jw=gs(ip),O3=hr({},ip,{dataTransfer:0}),P3=gs(O3),I3=hr({},Ud,{relatedTarget:0}),jm=gs(I3),D3=hr({},Rc,{animationName:0,elapsedTime:0,pseudoElement:0}),F3=gs(D3),L3=hr({},Rc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),M3=gs(L3),B3=hr({},Rc,{data:0}),Cw=gs(B3),$3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=z3[e])?!!t[e]:!1}function Xx(){return V3}var W3=hr({},Ud,{key:function(e){if(e.key){var t=$3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?U3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xx,charCode:function(e){return e.type==="keypress"?vh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),H3=gs(W3),G3=hr({},ip,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tw=gs(G3),q3=hr({},Ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xx}),K3=gs(q3),X3=hr({},Rc,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y3=gs(X3),J3=hr({},ip,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Q3=gs(J3),Z3=[9,13,27,32],Yx=Wa&&"CompositionEvent"in window,Tu=null;Wa&&"documentMode"in document&&(Tu=document.documentMode);var eP=Wa&&"TextEvent"in window&&!Tu,fE=Wa&&(!Yx||Tu&&8<Tu&&11>=Tu),kw=" ",Aw=!1;function hE(e,t){switch(e){case"keyup":return Z3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var El=!1;function tP(e,t){switch(e){case"compositionend":return pE(t);case"keypress":return t.which!==32?null:(Aw=!0,kw);case"textInput":return e=t.data,e===kw&&Aw?null:e;default:return null}}function rP(e,t){if(El)return e==="compositionend"||!Yx&&hE(e,t)?(e=dE(),gh=qx=bi=null,El=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fE&&t.locale!=="ko"?null:t.data;default:return null}}var nP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nP[e.type]:t==="textarea"}function mE(e,t,r,n){GS(n),t=Vh(t,"onChange"),0<t.length&&(r=new Kx("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ku=null,Zu=null;function sP(e){jE(e,0)}function op(e){var t=Cl(e);if(BS(t))return e}function aP(e,t){if(e==="change")return t}var gE=!1;if(Wa){var Cm;if(Wa){var Tm="oninput"in document;if(!Tm){var Ow=document.createElement("div");Ow.setAttribute("oninput","return;"),Tm=typeof Ow.oninput=="function"}Cm=Tm}else Cm=!1;gE=Cm&&(!document.documentMode||9<document.documentMode)}function Pw(){ku&&(ku.detachEvent("onpropertychange",vE),Zu=ku=null)}function vE(e){if(e.propertyName==="value"&&op(Zu)){var t=[];mE(t,Zu,e,zx(e)),YS(sP,t)}}function iP(e,t,r){e==="focusin"?(Pw(),ku=t,Zu=r,ku.attachEvent("onpropertychange",vE)):e==="focusout"&&Pw()}function oP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return op(Zu)}function lP(e,t){if(e==="click")return op(t)}function cP(e,t){if(e==="input"||e==="change")return op(t)}function uP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ra=typeof Object.is=="function"?Object.is:uP;function ed(e,t){if(ra(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Og.call(t,s)||!ra(e[s],t[s]))return!1}return!0}function Iw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dw(e,t){var r=Iw(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Iw(r)}}function xE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yE(){for(var e=window,t=Fh();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Fh(e.document)}return t}function Jx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function dP(e){var t=yE(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&xE(r.ownerDocument.documentElement,r)){if(n!==null&&Jx(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=Dw(r,a);var o=Dw(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fP=Wa&&"documentMode"in document&&11>=document.documentMode,Nl=null,Jg=null,Au=null,Qg=!1;function Fw(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qg||Nl==null||Nl!==Fh(n)||(n=Nl,"selectionStart"in n&&Jx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Au&&ed(Au,n)||(Au=n,n=Vh(Jg,"onSelect"),0<n.length&&(t=new Kx("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Nl)))}function Nf(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var jl={animationend:Nf("Animation","AnimationEnd"),animationiteration:Nf("Animation","AnimationIteration"),animationstart:Nf("Animation","AnimationStart"),transitionend:Nf("Transition","TransitionEnd")},km={},wE={};Wa&&(wE=document.createElement("div").style,"AnimationEvent"in window||(delete jl.animationend.animation,delete jl.animationiteration.animation,delete jl.animationstart.animation),"TransitionEvent"in window||delete jl.transitionend.transition);function lp(e){if(km[e])return km[e];if(!jl[e])return e;var t=jl[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in wE)return km[e]=t[r];return e}var _E=lp("animationend"),bE=lp("animationiteration"),SE=lp("animationstart"),EE=lp("transitionend"),NE=new Map,Lw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zi(e,t){NE.set(e,t),Yo(t,[e])}for(var Am=0;Am<Lw.length;Am++){var Rm=Lw[Am],hP=Rm.toLowerCase(),pP=Rm[0].toUpperCase()+Rm.slice(1);Zi(hP,"on"+pP)}Zi(_E,"onAnimationEnd");Zi(bE,"onAnimationIteration");Zi(SE,"onAnimationStart");Zi("dblclick","onDoubleClick");Zi("focusin","onFocus");Zi("focusout","onBlur");Zi(EE,"onTransitionEnd");ac("onMouseEnter",["mouseout","mouseover"]);ac("onMouseLeave",["mouseout","mouseover"]);ac("onPointerEnter",["pointerout","pointerover"]);ac("onPointerLeave",["pointerout","pointerover"]);Yo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mP=new Set("cancel close invalid load scroll toggle".split(" ").concat(yu));function Mw(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,h3(n,t,void 0,e),e.currentTarget=null}function jE(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Mw(s,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Mw(s,l,u),a=c}}}if(Mh)throw e=qg,Mh=!1,qg=null,e}function Xt(e,t){var r=t[nv];r===void 0&&(r=t[nv]=new Set);var n=e+"__bubble";r.has(n)||(CE(t,e,2,!1),r.add(n))}function Om(e,t,r){var n=0;t&&(n|=4),CE(r,e,n,t)}var jf="_reactListening"+Math.random().toString(36).slice(2);function td(e){if(!e[jf]){e[jf]=!0,IS.forEach(function(r){r!=="selectionchange"&&(mP.has(r)||Om(r,!1,e),Om(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jf]||(t[jf]=!0,Om("selectionchange",!1,t))}}function CE(e,t,r,n){switch(uE(t)){case 1:var s=k3;break;case 4:s=A3;break;default:s=Gx}r=s.bind(null,t,r,e),s=void 0,!Gg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Pm(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=_o(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}YS(function(){var u=a,d=zx(r),f=[];e:{var h=NE.get(e);if(h!==void 0){var p=Kx,x=e;switch(e){case"keypress":if(vh(r)===0)break e;case"keydown":case"keyup":p=H3;break;case"focusin":x="focus",p=jm;break;case"focusout":x="blur",p=jm;break;case"beforeblur":case"afterblur":p=jm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=jw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=P3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=K3;break;case _E:case bE:case SE:p=F3;break;case EE:p=Y3;break;case"scroll":p=R3;break;case"wheel":p=Q3;break;case"copy":case"cut":case"paste":p=M3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Tw}var m=(t&4)!==0,v=!m&&e==="scroll",_=m?h!==null?h+"Capture":null:h;m=[];for(var w=u,y;w!==null;){y=w;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,_!==null&&(S=Xu(w,_),S!=null&&m.push(rd(w,S,y)))),v)break;w=w.return}0<m.length&&(h=new p(h,x,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Wg&&(x=r.relatedTarget||r.fromElement)&&(_o(x)||x[Ha]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(x=r.relatedTarget||r.toElement,p=u,x=x?_o(x):null,x!==null&&(v=Jo(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=u),p!==x)){if(m=jw,S="onMouseLeave",_="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(m=Tw,S="onPointerLeave",_="onPointerEnter",w="pointer"),v=p==null?h:Cl(p),y=x==null?h:Cl(x),h=new m(S,w+"leave",p,r,d),h.target=v,h.relatedTarget=y,S=null,_o(d)===u&&(m=new m(_,w+"enter",x,r,d),m.target=y,m.relatedTarget=v,S=m),v=S,p&&x)t:{for(m=p,_=x,w=0,y=m;y;y=il(y))w++;for(y=0,S=_;S;S=il(S))y++;for(;0<w-y;)m=il(m),w--;for(;0<y-w;)_=il(_),y--;for(;w--;){if(m===_||_!==null&&m===_.alternate)break t;m=il(m),_=il(_)}m=null}else m=null;p!==null&&Bw(f,h,p,m,!1),x!==null&&v!==null&&Bw(f,v,x,m,!0)}}e:{if(h=u?Cl(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=aP;else if(Rw(h))if(gE)E=cP;else{E=oP;var C=iP}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=lP);if(E&&(E=E(e,u))){mE(f,E,r,d);break e}C&&C(e,h,u),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Bg(h,"number",h.value)}switch(C=u?Cl(u):window,e){case"focusin":(Rw(C)||C.contentEditable==="true")&&(Nl=C,Jg=u,Au=null);break;case"focusout":Au=Jg=Nl=null;break;case"mousedown":Qg=!0;break;case"contextmenu":case"mouseup":case"dragend":Qg=!1,Fw(f,r,d);break;case"selectionchange":if(fP)break;case"keydown":case"keyup":Fw(f,r,d)}var b;if(Yx)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else El?hE(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(fE&&r.locale!=="ko"&&(El||j!=="onCompositionStart"?j==="onCompositionEnd"&&El&&(b=dE()):(bi=d,qx="value"in bi?bi.value:bi.textContent,El=!0)),C=Vh(u,j),0<C.length&&(j=new Cw(j,e,null,r,d),f.push({event:j,listeners:C}),b?j.data=b:(b=pE(r),b!==null&&(j.data=b)))),(b=eP?tP(e,r):rP(e,r))&&(u=Vh(u,"onBeforeInput"),0<u.length&&(d=new Cw("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=b))}jE(f,t)})}function rd(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Vh(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Xu(e,r),a!=null&&n.unshift(rd(e,a,s)),a=Xu(e,t),a!=null&&n.push(rd(e,a,s))),e=e.return}return n}function il(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bw(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Xu(r,a),c!=null&&o.unshift(rd(r,c,l))):s||(c=Xu(r,a),c!=null&&o.push(rd(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var gP=/\r\n?/g,vP=/\u0000|\uFFFD/g;function $w(e){return(typeof e=="string"?e:""+e).replace(gP,`
`).replace(vP,"")}function Cf(e,t,r){if(t=$w(t),$w(e)!==t&&r)throw Error(Se(425))}function Wh(){}var Zg=null,ev=null;function tv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rv=typeof setTimeout=="function"?setTimeout:void 0,xP=typeof clearTimeout=="function"?clearTimeout:void 0,Uw=typeof Promise=="function"?Promise:void 0,yP=typeof queueMicrotask=="function"?queueMicrotask:typeof Uw<"u"?function(e){return Uw.resolve(null).then(e).catch(wP)}:rv;function wP(e){setTimeout(function(){throw e})}function Im(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Qu(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Qu(t)}function Di(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Oc=Math.random().toString(36).slice(2),va="__reactFiber$"+Oc,nd="__reactProps$"+Oc,Ha="__reactContainer$"+Oc,nv="__reactEvents$"+Oc,_P="__reactListeners$"+Oc,bP="__reactHandles$"+Oc;function _o(e){var t=e[va];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ha]||r[va]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=zw(e);e!==null;){if(r=e[va])return r;e=zw(e)}return t}e=r,r=e.parentNode}return null}function zd(e){return e=e[va]||e[Ha],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Se(33))}function cp(e){return e[nd]||null}var sv=[],Tl=-1;function eo(e){return{current:e}}function Qt(e){0>Tl||(e.current=sv[Tl],sv[Tl]=null,Tl--)}function Gt(e,t){Tl++,sv[Tl]=e.current,e.current=t}var Wi={},Sn=eo(Wi),Wn=eo(!1),Fo=Wi;function ic(e,t){var r=e.type.contextTypes;if(!r)return Wi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Hn(e){return e=e.childContextTypes,e!=null}function Hh(){Qt(Wn),Qt(Sn)}function Vw(e,t,r){if(Sn.current!==Wi)throw Error(Se(168));Gt(Sn,t),Gt(Wn,r)}function TE(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Se(108,i3(e)||"Unknown",s));return hr({},r,n)}function Gh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wi,Fo=Sn.current,Gt(Sn,e),Gt(Wn,Wn.current),!0}function Ww(e,t,r){var n=e.stateNode;if(!n)throw Error(Se(169));r?(e=TE(e,t,Fo),n.__reactInternalMemoizedMergedChildContext=e,Qt(Wn),Qt(Sn),Gt(Sn,e)):Qt(Wn),Gt(Wn,r)}var Da=null,up=!1,Dm=!1;function kE(e){Da===null?Da=[e]:Da.push(e)}function SP(e){up=!0,kE(e)}function to(){if(!Dm&&Da!==null){Dm=!0;var e=0,t=Dt;try{var r=Da;for(Dt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Da=null,up=!1}catch(s){throw Da!==null&&(Da=Da.slice(e+1)),eE(Vx,to),s}finally{Dt=t,Dm=!1}}return null}var kl=[],Al=0,qh=null,Kh=0,_s=[],bs=0,Lo=null,La=1,Ma="";function fo(e,t){kl[Al++]=Kh,kl[Al++]=qh,qh=e,Kh=t}function AE(e,t,r){_s[bs++]=La,_s[bs++]=Ma,_s[bs++]=Lo,Lo=e;var n=La;e=Ma;var s=32-Qs(n)-1;n&=~(1<<s),r+=1;var a=32-Qs(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,La=1<<32-Qs(t)+s|r<<s|n,Ma=a+e}else La=1<<a|r<<s|n,Ma=e}function Qx(e){e.return!==null&&(fo(e,1),AE(e,1,0))}function Zx(e){for(;e===qh;)qh=kl[--Al],kl[Al]=null,Kh=kl[--Al],kl[Al]=null;for(;e===Lo;)Lo=_s[--bs],_s[bs]=null,Ma=_s[--bs],_s[bs]=null,La=_s[--bs],_s[bs]=null}var cs=null,ls=null,sr=!1,Ks=null;function RE(e,t){var r=Es(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Hw(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,cs=e,ls=Di(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,cs=e,ls=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Lo!==null?{id:La,overflow:Ma}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Es(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,cs=e,ls=null,!0):!1;default:return!1}}function av(e){return(e.mode&1)!==0&&(e.flags&128)===0}function iv(e){if(sr){var t=ls;if(t){var r=t;if(!Hw(e,t)){if(av(e))throw Error(Se(418));t=Di(r.nextSibling);var n=cs;t&&Hw(e,t)?RE(n,r):(e.flags=e.flags&-4097|2,sr=!1,cs=e)}}else{if(av(e))throw Error(Se(418));e.flags=e.flags&-4097|2,sr=!1,cs=e}}}function Gw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;cs=e}function Tf(e){if(e!==cs)return!1;if(!sr)return Gw(e),sr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tv(e.type,e.memoizedProps)),t&&(t=ls)){if(av(e))throw OE(),Error(Se(418));for(;t;)RE(e,t),t=Di(t.nextSibling)}if(Gw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Se(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ls=Di(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ls=null}}else ls=cs?Di(e.stateNode.nextSibling):null;return!0}function OE(){for(var e=ls;e;)e=Di(e.nextSibling)}function oc(){ls=cs=null,sr=!1}function e1(e){Ks===null?Ks=[e]:Ks.push(e)}var EP=Za.ReactCurrentBatchConfig;function lu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Se(309));var n=r.stateNode}if(!n)throw Error(Se(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Se(284));if(!r._owner)throw Error(Se(290,e))}return e}function kf(e,t){throw e=Object.prototype.toString.call(t),Error(Se(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qw(e){var t=e._init;return t(e._payload)}function PE(e){function t(_,w){if(e){var y=_.deletions;y===null?(_.deletions=[w],_.flags|=16):y.push(w)}}function r(_,w){if(!e)return null;for(;w!==null;)t(_,w),w=w.sibling;return null}function n(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function s(_,w){return _=Bi(_,w),_.index=0,_.sibling=null,_}function a(_,w,y){return _.index=y,e?(y=_.alternate,y!==null?(y=y.index,y<w?(_.flags|=2,w):y):(_.flags|=2,w)):(_.flags|=1048576,w)}function o(_){return e&&_.alternate===null&&(_.flags|=2),_}function l(_,w,y,S){return w===null||w.tag!==6?(w=zm(y,_.mode,S),w.return=_,w):(w=s(w,y),w.return=_,w)}function c(_,w,y,S){var E=y.type;return E===Sl?d(_,w,y.props.children,S,y.key):w!==null&&(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ci&&qw(E)===w.type)?(S=s(w,y.props),S.ref=lu(_,w,y),S.return=_,S):(S=Eh(y.type,y.key,y.props,null,_.mode,S),S.ref=lu(_,w,y),S.return=_,S)}function u(_,w,y,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==y.containerInfo||w.stateNode.implementation!==y.implementation?(w=Vm(y,_.mode,S),w.return=_,w):(w=s(w,y.children||[]),w.return=_,w)}function d(_,w,y,S,E){return w===null||w.tag!==7?(w=Oo(y,_.mode,S,E),w.return=_,w):(w=s(w,y),w.return=_,w)}function f(_,w,y){if(typeof w=="string"&&w!==""||typeof w=="number")return w=zm(""+w,_.mode,y),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case xf:return y=Eh(w.type,w.key,w.props,null,_.mode,y),y.ref=lu(_,null,w),y.return=_,y;case bl:return w=Vm(w,_.mode,y),w.return=_,w;case ci:var S=w._init;return f(_,S(w._payload),y)}if(vu(w)||nu(w))return w=Oo(w,_.mode,y,null),w.return=_,w;kf(_,w)}return null}function h(_,w,y,S){var E=w!==null?w.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:l(_,w,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case xf:return y.key===E?c(_,w,y,S):null;case bl:return y.key===E?u(_,w,y,S):null;case ci:return E=y._init,h(_,w,E(y._payload),S)}if(vu(y)||nu(y))return E!==null?null:d(_,w,y,S,null);kf(_,y)}return null}function p(_,w,y,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return _=_.get(y)||null,l(w,_,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case xf:return _=_.get(S.key===null?y:S.key)||null,c(w,_,S,E);case bl:return _=_.get(S.key===null?y:S.key)||null,u(w,_,S,E);case ci:var C=S._init;return p(_,w,y,C(S._payload),E)}if(vu(S)||nu(S))return _=_.get(y)||null,d(w,_,S,E,null);kf(w,S)}return null}function x(_,w,y,S){for(var E=null,C=null,b=w,j=w=0,N=null;b!==null&&j<y.length;j++){b.index>j?(N=b,b=null):N=b.sibling;var R=h(_,b,y[j],S);if(R===null){b===null&&(b=N);break}e&&b&&R.alternate===null&&t(_,b),w=a(R,w,j),C===null?E=R:C.sibling=R,C=R,b=N}if(j===y.length)return r(_,b),sr&&fo(_,j),E;if(b===null){for(;j<y.length;j++)b=f(_,y[j],S),b!==null&&(w=a(b,w,j),C===null?E=b:C.sibling=b,C=b);return sr&&fo(_,j),E}for(b=n(_,b);j<y.length;j++)N=p(b,_,j,y[j],S),N!==null&&(e&&N.alternate!==null&&b.delete(N.key===null?j:N.key),w=a(N,w,j),C===null?E=N:C.sibling=N,C=N);return e&&b.forEach(function(k){return t(_,k)}),sr&&fo(_,j),E}function m(_,w,y,S){var E=nu(y);if(typeof E!="function")throw Error(Se(150));if(y=E.call(y),y==null)throw Error(Se(151));for(var C=E=null,b=w,j=w=0,N=null,R=y.next();b!==null&&!R.done;j++,R=y.next()){b.index>j?(N=b,b=null):N=b.sibling;var k=h(_,b,R.value,S);if(k===null){b===null&&(b=N);break}e&&b&&k.alternate===null&&t(_,b),w=a(k,w,j),C===null?E=k:C.sibling=k,C=k,b=N}if(R.done)return r(_,b),sr&&fo(_,j),E;if(b===null){for(;!R.done;j++,R=y.next())R=f(_,R.value,S),R!==null&&(w=a(R,w,j),C===null?E=R:C.sibling=R,C=R);return sr&&fo(_,j),E}for(b=n(_,b);!R.done;j++,R=y.next())R=p(b,_,j,R.value,S),R!==null&&(e&&R.alternate!==null&&b.delete(R.key===null?j:R.key),w=a(R,w,j),C===null?E=R:C.sibling=R,C=R);return e&&b.forEach(function(O){return t(_,O)}),sr&&fo(_,j),E}function v(_,w,y,S){if(typeof y=="object"&&y!==null&&y.type===Sl&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case xf:e:{for(var E=y.key,C=w;C!==null;){if(C.key===E){if(E=y.type,E===Sl){if(C.tag===7){r(_,C.sibling),w=s(C,y.props.children),w.return=_,_=w;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ci&&qw(E)===C.type){r(_,C.sibling),w=s(C,y.props),w.ref=lu(_,C,y),w.return=_,_=w;break e}r(_,C);break}else t(_,C);C=C.sibling}y.type===Sl?(w=Oo(y.props.children,_.mode,S,y.key),w.return=_,_=w):(S=Eh(y.type,y.key,y.props,null,_.mode,S),S.ref=lu(_,w,y),S.return=_,_=S)}return o(_);case bl:e:{for(C=y.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===y.containerInfo&&w.stateNode.implementation===y.implementation){r(_,w.sibling),w=s(w,y.children||[]),w.return=_,_=w;break e}else{r(_,w);break}else t(_,w);w=w.sibling}w=Vm(y,_.mode,S),w.return=_,_=w}return o(_);case ci:return C=y._init,v(_,w,C(y._payload),S)}if(vu(y))return x(_,w,y,S);if(nu(y))return m(_,w,y,S);kf(_,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,w!==null&&w.tag===6?(r(_,w.sibling),w=s(w,y),w.return=_,_=w):(r(_,w),w=zm(y,_.mode,S),w.return=_,_=w),o(_)):r(_,w)}return v}var lc=PE(!0),IE=PE(!1),Xh=eo(null),Yh=null,Rl=null,t1=null;function r1(){t1=Rl=Yh=null}function n1(e){var t=Xh.current;Qt(Xh),e._currentValue=t}function ov(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Bl(e,t){Yh=e,t1=Rl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zn=!0),e.firstContext=null)}function ks(e){var t=e._currentValue;if(t1!==e)if(e={context:e,memoizedValue:t,next:null},Rl===null){if(Yh===null)throw Error(Se(308));Rl=e,Yh.dependencies={lanes:0,firstContext:e}}else Rl=Rl.next=e;return t}var bo=null;function s1(e){bo===null?bo=[e]:bo.push(e)}function DE(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,s1(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ga(e,n)}function Ga(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ui=!1;function a1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ba(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,xt&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ga(e,r)}return s=n.interleaved,s===null?(t.next=t,s1(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ga(e,r)}function xh(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Wx(e,r)}}function Kw(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Jh(e,t,r,n){var s=e.updateQueue;ui=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;o=0,d=u=c=null,l=a;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,m=l;switch(h=t,p=r,m.tag){case 1:if(x=m.payload,typeof x=="function"){f=x.call(p,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=m.payload,h=typeof x=="function"?x.call(p,f,h):x,h==null)break e;f=hr({},f,h);break e;case 2:ui=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Bo|=o,e.lanes=o,e.memoizedState=f}}function Xw(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Se(191,s));s.call(n)}}}var Vd={},_a=eo(Vd),sd=eo(Vd),ad=eo(Vd);function So(e){if(e===Vd)throw Error(Se(174));return e}function i1(e,t){switch(Gt(ad,t),Gt(sd,e),Gt(_a,Vd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ug(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ug(t,e)}Qt(_a),Gt(_a,t)}function cc(){Qt(_a),Qt(sd),Qt(ad)}function LE(e){So(ad.current);var t=So(_a.current),r=Ug(t,e.type);t!==r&&(Gt(sd,e),Gt(_a,r))}function o1(e){sd.current===e&&(Qt(_a),Qt(sd))}var cr=eo(0);function Qh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fm=[];function l1(){for(var e=0;e<Fm.length;e++)Fm[e]._workInProgressVersionPrimary=null;Fm.length=0}var yh=Za.ReactCurrentDispatcher,Lm=Za.ReactCurrentBatchConfig,Mo=0,fr=null,Lr=null,Ur=null,Zh=!1,Ru=!1,id=0,NP=0;function hn(){throw Error(Se(321))}function c1(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ra(e[r],t[r]))return!1;return!0}function u1(e,t,r,n,s,a){if(Mo=a,fr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yh.current=e===null||e.memoizedState===null?kP:AP,e=r(n,s),Ru){a=0;do{if(Ru=!1,id=0,25<=a)throw Error(Se(301));a+=1,Ur=Lr=null,t.updateQueue=null,yh.current=RP,e=r(n,s)}while(Ru)}if(yh.current=e0,t=Lr!==null&&Lr.next!==null,Mo=0,Ur=Lr=fr=null,Zh=!1,t)throw Error(Se(300));return e}function d1(){var e=id!==0;return id=0,e}function fa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ur===null?fr.memoizedState=Ur=e:Ur=Ur.next=e,Ur}function As(){if(Lr===null){var e=fr.alternate;e=e!==null?e.memoizedState:null}else e=Lr.next;var t=Ur===null?fr.memoizedState:Ur.next;if(t!==null)Ur=t,Lr=e;else{if(e===null)throw Error(Se(310));Lr=e,e={memoizedState:Lr.memoizedState,baseState:Lr.baseState,baseQueue:Lr.baseQueue,queue:Lr.queue,next:null},Ur===null?fr.memoizedState=Ur=e:Ur=Ur.next=e}return Ur}function od(e,t){return typeof t=="function"?t(e):t}function Mm(e){var t=As(),r=t.queue;if(r===null)throw Error(Se(311));r.lastRenderedReducer=e;var n=Lr,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Mo&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,fr.lanes|=d,Bo|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,ra(n,t.memoizedState)||(zn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,fr.lanes|=a,Bo|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Bm(e){var t=As(),r=t.queue;if(r===null)throw Error(Se(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);ra(a,t.memoizedState)||(zn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function ME(){}function BE(e,t){var r=fr,n=As(),s=t(),a=!ra(n.memoizedState,s);if(a&&(n.memoizedState=s,zn=!0),n=n.queue,f1(zE.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Ur!==null&&Ur.memoizedState.tag&1){if(r.flags|=2048,ld(9,UE.bind(null,r,n,s,t),void 0,null),Gr===null)throw Error(Se(349));Mo&30||$E(r,t,s)}return s}function $E(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=fr.updateQueue,t===null?(t={lastEffect:null,stores:null},fr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function UE(e,t,r,n){t.value=r,t.getSnapshot=n,VE(t)&&WE(e)}function zE(e,t,r){return r(function(){VE(t)&&WE(e)})}function VE(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ra(e,r)}catch{return!0}}function WE(e){var t=Ga(e,1);t!==null&&Zs(t,e,1,-1)}function Yw(e){var t=fa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:od,lastRenderedState:e},t.queue=e,e=e.dispatch=TP.bind(null,fr,e),[t.memoizedState,e]}function ld(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=fr.updateQueue,t===null?(t={lastEffect:null,stores:null},fr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function HE(){return As().memoizedState}function wh(e,t,r,n){var s=fa();fr.flags|=e,s.memoizedState=ld(1|t,r,void 0,n===void 0?null:n)}function dp(e,t,r,n){var s=As();n=n===void 0?null:n;var a=void 0;if(Lr!==null){var o=Lr.memoizedState;if(a=o.destroy,n!==null&&c1(n,o.deps)){s.memoizedState=ld(t,r,a,n);return}}fr.flags|=e,s.memoizedState=ld(1|t,r,a,n)}function Jw(e,t){return wh(8390656,8,e,t)}function f1(e,t){return dp(2048,8,e,t)}function GE(e,t){return dp(4,2,e,t)}function qE(e,t){return dp(4,4,e,t)}function KE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function XE(e,t,r){return r=r!=null?r.concat([e]):null,dp(4,4,KE.bind(null,t,e),r)}function h1(){}function YE(e,t){var r=As();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&c1(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function JE(e,t){var r=As();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&c1(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function QE(e,t,r){return Mo&21?(ra(r,t)||(r=nE(),fr.lanes|=r,Bo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zn=!0),e.memoizedState=r)}function jP(e,t){var r=Dt;Dt=r!==0&&4>r?r:4,e(!0);var n=Lm.transition;Lm.transition={};try{e(!1),t()}finally{Dt=r,Lm.transition=n}}function ZE(){return As().memoizedState}function CP(e,t,r){var n=Mi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},eN(e))tN(t,r);else if(r=DE(e,t,r,n),r!==null){var s=Rn();Zs(r,e,n,s),rN(r,t,n)}}function TP(e,t,r){var n=Mi(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(eN(e))tN(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,ra(l,o)){var c=t.interleaved;c===null?(s.next=s,s1(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=DE(e,t,s,n),r!==null&&(s=Rn(),Zs(r,e,n,s),rN(r,t,n))}}function eN(e){var t=e.alternate;return e===fr||t!==null&&t===fr}function tN(e,t){Ru=Zh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function rN(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Wx(e,r)}}var e0={readContext:ks,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},kP={readContext:ks,useCallback:function(e,t){return fa().memoizedState=[e,t===void 0?null:t],e},useContext:ks,useEffect:Jw,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,wh(4194308,4,KE.bind(null,t,e),r)},useLayoutEffect:function(e,t){return wh(4194308,4,e,t)},useInsertionEffect:function(e,t){return wh(4,2,e,t)},useMemo:function(e,t){var r=fa();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=fa();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=CP.bind(null,fr,e),[n.memoizedState,e]},useRef:function(e){var t=fa();return e={current:e},t.memoizedState=e},useState:Yw,useDebugValue:h1,useDeferredValue:function(e){return fa().memoizedState=e},useTransition:function(){var e=Yw(!1),t=e[0];return e=jP.bind(null,e[1]),fa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=fr,s=fa();if(sr){if(r===void 0)throw Error(Se(407));r=r()}else{if(r=t(),Gr===null)throw Error(Se(349));Mo&30||$E(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,Jw(zE.bind(null,n,a,e),[e]),n.flags|=2048,ld(9,UE.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=fa(),t=Gr.identifierPrefix;if(sr){var r=Ma,n=La;r=(n&~(1<<32-Qs(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=id++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=NP++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},AP={readContext:ks,useCallback:YE,useContext:ks,useEffect:f1,useImperativeHandle:XE,useInsertionEffect:GE,useLayoutEffect:qE,useMemo:JE,useReducer:Mm,useRef:HE,useState:function(){return Mm(od)},useDebugValue:h1,useDeferredValue:function(e){var t=As();return QE(t,Lr.memoizedState,e)},useTransition:function(){var e=Mm(od)[0],t=As().memoizedState;return[e,t]},useMutableSource:ME,useSyncExternalStore:BE,useId:ZE,unstable_isNewReconciler:!1},RP={readContext:ks,useCallback:YE,useContext:ks,useEffect:f1,useImperativeHandle:XE,useInsertionEffect:GE,useLayoutEffect:qE,useMemo:JE,useReducer:Bm,useRef:HE,useState:function(){return Bm(od)},useDebugValue:h1,useDeferredValue:function(e){var t=As();return Lr===null?t.memoizedState=e:QE(t,Lr.memoizedState,e)},useTransition:function(){var e=Bm(od)[0],t=As().memoizedState;return[e,t]},useMutableSource:ME,useSyncExternalStore:BE,useId:ZE,unstable_isNewReconciler:!1};function Us(e,t){if(e&&e.defaultProps){t=hr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function lv(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:hr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var fp={isMounted:function(e){return(e=e._reactInternals)?Jo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Rn(),s=Mi(e),a=Ba(n,s);a.payload=t,r!=null&&(a.callback=r),t=Fi(e,a,s),t!==null&&(Zs(t,e,s,n),xh(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Rn(),s=Mi(e),a=Ba(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Fi(e,a,s),t!==null&&(Zs(t,e,s,n),xh(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Rn(),n=Mi(e),s=Ba(r,n);s.tag=2,t!=null&&(s.callback=t),t=Fi(e,s,n),t!==null&&(Zs(t,e,n,r),xh(t,e,n))}};function Qw(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!ed(r,n)||!ed(s,a):!0}function nN(e,t,r){var n=!1,s=Wi,a=t.contextType;return typeof a=="object"&&a!==null?a=ks(a):(s=Hn(t)?Fo:Sn.current,n=t.contextTypes,a=(n=n!=null)?ic(e,s):Wi),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fp,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Zw(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&fp.enqueueReplaceState(t,t.state,null)}function cv(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},a1(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=ks(a):(a=Hn(t)?Fo:Sn.current,s.context=ic(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(lv(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&fp.enqueueReplaceState(s,s.state,null),Jh(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function uc(e,t){try{var r="",n=t;do r+=a3(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function $m(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function uv(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var OP=typeof WeakMap=="function"?WeakMap:Map;function sN(e,t,r){r=Ba(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){r0||(r0=!0,wv=n),uv(e,t)},r}function aN(e,t,r){r=Ba(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){uv(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){uv(e,t),typeof n!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function e_(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new OP;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=GP.bind(null,e,t,r),t.then(e,e))}function t_(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function r_(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ba(-1,1),t.tag=2,Fi(r,t,1))),r.lanes|=1),e)}var PP=Za.ReactCurrentOwner,zn=!1;function jn(e,t,r,n){t.child=e===null?IE(t,null,r,n):lc(t,e.child,r,n)}function n_(e,t,r,n,s){r=r.render;var a=t.ref;return Bl(t,s),n=u1(e,t,r,n,a,s),r=d1(),e!==null&&!zn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qa(e,t,s)):(sr&&r&&Qx(t),t.flags|=1,jn(e,t,n,s),t.child)}function s_(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!_1(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,iN(e,t,a,n,s)):(e=Eh(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:ed,r(o,n)&&e.ref===t.ref)return qa(e,t,s)}return t.flags|=1,e=Bi(a,n),e.ref=t.ref,e.return=t,t.child=e}function iN(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(ed(a,n)&&e.ref===t.ref)if(zn=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(zn=!0);else return t.lanes=e.lanes,qa(e,t,s)}return dv(e,t,r,n,s)}function oN(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(Pl,rs),rs|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Gt(Pl,rs),rs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Gt(Pl,rs),rs|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Gt(Pl,rs),rs|=n;return jn(e,t,s,r),t.child}function lN(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function dv(e,t,r,n,s){var a=Hn(r)?Fo:Sn.current;return a=ic(t,a),Bl(t,s),r=u1(e,t,r,n,a,s),n=d1(),e!==null&&!zn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qa(e,t,s)):(sr&&n&&Qx(t),t.flags|=1,jn(e,t,r,s),t.child)}function a_(e,t,r,n,s){if(Hn(r)){var a=!0;Gh(t)}else a=!1;if(Bl(t,s),t.stateNode===null)_h(e,t),nN(t,r,n),cv(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ks(u):(u=Hn(r)?Fo:Sn.current,u=ic(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Zw(t,o,n,u),ui=!1;var h=t.memoizedState;o.state=h,Jh(t,n,o,s),c=t.memoizedState,l!==n||h!==c||Wn.current||ui?(typeof d=="function"&&(lv(t,r,d,n),c=t.memoizedState),(l=ui||Qw(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,FE(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Us(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ks(c):(c=Hn(r)?Fo:Sn.current,c=ic(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Zw(t,o,n,c),ui=!1,h=t.memoizedState,o.state=h,Jh(t,n,o,s);var x=t.memoizedState;l!==f||h!==x||Wn.current||ui?(typeof p=="function"&&(lv(t,r,p,n),x=t.memoizedState),(u=ui||Qw(t,r,u,n,h,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return fv(e,t,r,n,a,s)}function fv(e,t,r,n,s,a){lN(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Ww(t,r,!1),qa(e,t,a);n=t.stateNode,PP.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=lc(t,e.child,null,a),t.child=lc(t,null,l,a)):jn(e,t,l,a),t.memoizedState=n.state,s&&Ww(t,r,!0),t.child}function cN(e){var t=e.stateNode;t.pendingContext?Vw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vw(e,t.context,!1),i1(e,t.containerInfo)}function i_(e,t,r,n,s){return oc(),e1(s),t.flags|=256,jn(e,t,r,n),t.child}var hv={dehydrated:null,treeContext:null,retryLane:0};function pv(e){return{baseLanes:e,cachePool:null,transitions:null}}function uN(e,t,r){var n=t.pendingProps,s=cr.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Gt(cr,s&1),e===null)return iv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=mp(o,n,0,null),e=Oo(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=pv(r),t.memoizedState=hv,e):p1(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return IP(e,t,o,n,l,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Bi(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Bi(l,a):(a=Oo(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?pv(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=hv,n}return a=e.child,e=a.sibling,n=Bi(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function p1(e,t){return t=mp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Af(e,t,r,n){return n!==null&&e1(n),lc(t,e.child,null,r),e=p1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function IP(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=$m(Error(Se(422))),Af(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=mp({mode:"visible",children:n.children},s,0,null),a=Oo(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&lc(t,e.child,null,o),t.child.memoizedState=pv(o),t.memoizedState=hv,a);if(!(t.mode&1))return Af(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(Se(419)),n=$m(a,n,void 0),Af(e,t,o,n)}if(l=(o&e.childLanes)!==0,zn||l){if(n=Gr,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Ga(e,s),Zs(n,e,s,-1))}return w1(),n=$m(Error(Se(421))),Af(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=qP.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,ls=Di(s.nextSibling),cs=t,sr=!0,Ks=null,e!==null&&(_s[bs++]=La,_s[bs++]=Ma,_s[bs++]=Lo,La=e.id,Ma=e.overflow,Lo=t),t=p1(t,n.children),t.flags|=4096,t)}function o_(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ov(e.return,t,r)}function Um(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function dN(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(jn(e,t,n.children,r),n=cr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&o_(e,r,t);else if(e.tag===19)o_(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Gt(cr,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Qh(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Um(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Qh(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Um(t,!0,r,null,a);break;case"together":Um(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _h(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qa(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Bo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Se(153));if(t.child!==null){for(e=t.child,r=Bi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Bi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function DP(e,t,r){switch(t.tag){case 3:cN(t),oc();break;case 5:LE(t);break;case 1:Hn(t.type)&&Gh(t);break;case 4:i1(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Gt(Xh,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Gt(cr,cr.current&1),t.flags|=128,null):r&t.child.childLanes?uN(e,t,r):(Gt(cr,cr.current&1),e=qa(e,t,r),e!==null?e.sibling:null);Gt(cr,cr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return dN(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Gt(cr,cr.current),n)break;return null;case 22:case 23:return t.lanes=0,oN(e,t,r)}return qa(e,t,r)}var fN,mv,hN,pN;fN=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};mv=function(){};hN=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,So(_a.current);var a=null;switch(r){case"input":s=Lg(e,s),n=Lg(e,n),a=[];break;case"select":s=hr({},s,{value:void 0}),n=hr({},n,{value:void 0}),a=[];break;case"textarea":s=$g(e,s),n=$g(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Wh)}zg(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qu.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qu.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Xt("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};pN=function(e,t,r,n){r!==n&&(t.flags|=4)};function cu(e,t){if(!sr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function pn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function FP(e,t,r){var n=t.pendingProps;switch(Zx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(t),null;case 1:return Hn(t.type)&&Hh(),pn(t),null;case 3:return n=t.stateNode,cc(),Qt(Wn),Qt(Sn),l1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Tf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ks!==null&&(Sv(Ks),Ks=null))),mv(e,t),pn(t),null;case 5:o1(t);var s=So(ad.current);if(r=t.type,e!==null&&t.stateNode!=null)hN(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Se(166));return pn(t),null}if(e=So(_a.current),Tf(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[va]=t,n[nd]=a,e=(t.mode&1)!==0,r){case"dialog":Xt("cancel",n),Xt("close",n);break;case"iframe":case"object":case"embed":Xt("load",n);break;case"video":case"audio":for(s=0;s<yu.length;s++)Xt(yu[s],n);break;case"source":Xt("error",n);break;case"img":case"image":case"link":Xt("error",n),Xt("load",n);break;case"details":Xt("toggle",n);break;case"input":gw(n,a),Xt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Xt("invalid",n);break;case"textarea":xw(n,a),Xt("invalid",n)}zg(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Cf(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Cf(n.textContent,l,e),s=["children",""+l]):qu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Xt("scroll",n)}switch(r){case"input":yf(n),vw(n,a,!0);break;case"textarea":yf(n),yw(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Wh)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zS(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[va]=t,e[nd]=n,fN(e,t,!1,!1),t.stateNode=e;e:{switch(o=Vg(r,n),r){case"dialog":Xt("cancel",e),Xt("close",e),s=n;break;case"iframe":case"object":case"embed":Xt("load",e),s=n;break;case"video":case"audio":for(s=0;s<yu.length;s++)Xt(yu[s],e);s=n;break;case"source":Xt("error",e),s=n;break;case"img":case"image":case"link":Xt("error",e),Xt("load",e),s=n;break;case"details":Xt("toggle",e),s=n;break;case"input":gw(e,n),s=Lg(e,n),Xt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=hr({},n,{value:void 0}),Xt("invalid",e);break;case"textarea":xw(e,n),s=$g(e,n),Xt("invalid",e);break;default:s=n}zg(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?HS(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&VS(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ku(e,c):typeof c=="number"&&Ku(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(qu.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Xt("scroll",e):c!=null&&Mx(e,a,c,o))}switch(r){case"input":yf(e),vw(e,n,!1);break;case"textarea":yf(e),yw(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Vi(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Dl(e,!!n.multiple,a,!1):n.defaultValue!=null&&Dl(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Wh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pn(t),null;case 6:if(e&&t.stateNode!=null)pN(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Se(166));if(r=So(ad.current),So(_a.current),Tf(t)){if(n=t.stateNode,r=t.memoizedProps,n[va]=t,(a=n.nodeValue!==r)&&(e=cs,e!==null))switch(e.tag){case 3:Cf(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cf(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[va]=t,t.stateNode=n}return pn(t),null;case 13:if(Qt(cr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(sr&&ls!==null&&t.mode&1&&!(t.flags&128))OE(),oc(),t.flags|=98560,a=!1;else if(a=Tf(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Se(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Se(317));a[va]=t}else oc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pn(t),a=!1}else Ks!==null&&(Sv(Ks),Ks=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||cr.current&1?Br===0&&(Br=3):w1())),t.updateQueue!==null&&(t.flags|=4),pn(t),null);case 4:return cc(),mv(e,t),e===null&&td(t.stateNode.containerInfo),pn(t),null;case 10:return n1(t.type._context),pn(t),null;case 17:return Hn(t.type)&&Hh(),pn(t),null;case 19:if(Qt(cr),a=t.memoizedState,a===null)return pn(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)cu(a,!1);else{if(Br!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Qh(e),o!==null){for(t.flags|=128,cu(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Gt(cr,cr.current&1|2),t.child}e=e.sibling}a.tail!==null&&Sr()>dc&&(t.flags|=128,n=!0,cu(a,!1),t.lanes=4194304)}else{if(!n)if(e=Qh(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),cu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!sr)return pn(t),null}else 2*Sr()-a.renderingStartTime>dc&&r!==1073741824&&(t.flags|=128,n=!0,cu(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Sr(),t.sibling=null,r=cr.current,Gt(cr,n?r&1|2:r&1),t):(pn(t),null);case 22:case 23:return y1(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?rs&1073741824&&(pn(t),t.subtreeFlags&6&&(t.flags|=8192)):pn(t),null;case 24:return null;case 25:return null}throw Error(Se(156,t.tag))}function LP(e,t){switch(Zx(t),t.tag){case 1:return Hn(t.type)&&Hh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cc(),Qt(Wn),Qt(Sn),l1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return o1(t),null;case 13:if(Qt(cr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Se(340));oc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qt(cr),null;case 4:return cc(),null;case 10:return n1(t.type._context),null;case 22:case 23:return y1(),null;case 24:return null;default:return null}}var Rf=!1,gn=!1,MP=typeof WeakSet=="function"?WeakSet:Set,$e=null;function Ol(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xr(e,t,n)}else r.current=null}function gv(e,t,r){try{r()}catch(n){xr(e,t,n)}}var l_=!1;function BP(e,t){if(Zg=Uh,e=yE(),Jx(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==a||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===a&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ev={focusedElem:e,selectionRange:r},Uh=!1,$e=t;$e!==null;)if(t=$e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$e=e;else for(;$e!==null;){t=$e;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var m=x.memoizedProps,v=x.memoizedState,_=t.stateNode,w=_.getSnapshotBeforeUpdate(t.elementType===t.type?m:Us(t.type,m),v);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Se(163))}}catch(S){xr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,$e=e;break}$e=t.return}return x=l_,l_=!1,x}function Ou(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&gv(t,r,a)}s=s.next}while(s!==n)}}function hp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function vv(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function mN(e){var t=e.alternate;t!==null&&(e.alternate=null,mN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[va],delete t[nd],delete t[nv],delete t[_P],delete t[bP])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gN(e){return e.tag===5||e.tag===3||e.tag===4}function c_(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Wh));else if(n!==4&&(e=e.child,e!==null))for(xv(e,t,r),e=e.sibling;e!==null;)xv(e,t,r),e=e.sibling}function yv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(yv(e,t,r),e=e.sibling;e!==null;)yv(e,t,r),e=e.sibling}var tn=null,Gs=!1;function ri(e,t,r){for(r=r.child;r!==null;)vN(e,t,r),r=r.sibling}function vN(e,t,r){if(wa&&typeof wa.onCommitFiberUnmount=="function")try{wa.onCommitFiberUnmount(ap,r)}catch{}switch(r.tag){case 5:gn||Ol(r,t);case 6:var n=tn,s=Gs;tn=null,ri(e,t,r),tn=n,Gs=s,tn!==null&&(Gs?(e=tn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):tn.removeChild(r.stateNode));break;case 18:tn!==null&&(Gs?(e=tn,r=r.stateNode,e.nodeType===8?Im(e.parentNode,r):e.nodeType===1&&Im(e,r),Qu(e)):Im(tn,r.stateNode));break;case 4:n=tn,s=Gs,tn=r.stateNode.containerInfo,Gs=!0,ri(e,t,r),tn=n,Gs=s;break;case 0:case 11:case 14:case 15:if(!gn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&gv(r,t,o),s=s.next}while(s!==n)}ri(e,t,r);break;case 1:if(!gn&&(Ol(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){xr(r,t,l)}ri(e,t,r);break;case 21:ri(e,t,r);break;case 22:r.mode&1?(gn=(n=gn)||r.memoizedState!==null,ri(e,t,r),gn=n):ri(e,t,r);break;default:ri(e,t,r)}}function u_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new MP),t.forEach(function(n){var s=KP.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ds(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:tn=l.stateNode,Gs=!1;break e;case 3:tn=l.stateNode.containerInfo,Gs=!0;break e;case 4:tn=l.stateNode.containerInfo,Gs=!0;break e}l=l.return}if(tn===null)throw Error(Se(160));vN(a,o,s),tn=null,Gs=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){xr(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xN(t,e),t=t.sibling}function xN(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ds(t,e),la(e),n&4){try{Ou(3,e,e.return),hp(3,e)}catch(m){xr(e,e.return,m)}try{Ou(5,e,e.return)}catch(m){xr(e,e.return,m)}}break;case 1:Ds(t,e),la(e),n&512&&r!==null&&Ol(r,r.return);break;case 5:if(Ds(t,e),la(e),n&512&&r!==null&&Ol(r,r.return),e.flags&32){var s=e.stateNode;try{Ku(s,"")}catch(m){xr(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&$S(s,a),Vg(l,o);var u=Vg(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?HS(s,f):d==="dangerouslySetInnerHTML"?VS(s,f):d==="children"?Ku(s,f):Mx(s,d,f,u)}switch(l){case"input":Mg(s,a);break;case"textarea":US(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Dl(s,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Dl(s,!!a.multiple,a.defaultValue,!0):Dl(s,!!a.multiple,a.multiple?[]:"",!1))}s[nd]=a}catch(m){xr(e,e.return,m)}}break;case 6:if(Ds(t,e),la(e),n&4){if(e.stateNode===null)throw Error(Se(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(m){xr(e,e.return,m)}}break;case 3:if(Ds(t,e),la(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Qu(t.containerInfo)}catch(m){xr(e,e.return,m)}break;case 4:Ds(t,e),la(e);break;case 13:Ds(t,e),la(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(v1=Sr())),n&4&&u_(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(gn=(u=gn)||d,Ds(t,e),gn=u):Ds(t,e),la(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for($e=e,d=e.child;d!==null;){for(f=$e=d;$e!==null;){switch(h=$e,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ou(4,h,h.return);break;case 1:Ol(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(m){xr(n,r,m)}}break;case 5:Ol(h,h.return);break;case 22:if(h.memoizedState!==null){f_(f);continue}}p!==null?(p.return=h,$e=p):f_(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=WS("display",o))}catch(m){xr(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){xr(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ds(t,e),la(e),n&4&&u_(e);break;case 21:break;default:Ds(t,e),la(e)}}function la(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(gN(r)){var n=r;break e}r=r.return}throw Error(Se(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ku(s,""),n.flags&=-33);var a=c_(e);yv(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=c_(e);xv(e,l,o);break;default:throw Error(Se(161))}}catch(c){xr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $P(e,t,r){$e=e,yN(e)}function yN(e,t,r){for(var n=(e.mode&1)!==0;$e!==null;){var s=$e,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Rf;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||gn;l=Rf;var u=gn;if(Rf=o,(gn=c)&&!u)for($e=s;$e!==null;)o=$e,c=o.child,o.tag===22&&o.memoizedState!==null?h_(s):c!==null?(c.return=o,$e=c):h_(s);for(;a!==null;)$e=a,yN(a),a=a.sibling;$e=s,Rf=l,gn=u}d_(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,$e=a):d_(e)}}function d_(e){for(;$e!==null;){var t=$e;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:gn||hp(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!gn)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Us(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Xw(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Xw(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Qu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Se(163))}gn||t.flags&512&&vv(t)}catch(h){xr(t,t.return,h)}}if(t===e){$e=null;break}if(r=t.sibling,r!==null){r.return=t.return,$e=r;break}$e=t.return}}function f_(e){for(;$e!==null;){var t=$e;if(t===e){$e=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$e=r;break}$e=t.return}}function h_(e){for(;$e!==null;){var t=$e;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{hp(4,t)}catch(c){xr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){xr(t,s,c)}}var a=t.return;try{vv(t)}catch(c){xr(t,a,c)}break;case 5:var o=t.return;try{vv(t)}catch(c){xr(t,o,c)}}}catch(c){xr(t,t.return,c)}if(t===e){$e=null;break}var l=t.sibling;if(l!==null){l.return=t.return,$e=l;break}$e=t.return}}var UP=Math.ceil,t0=Za.ReactCurrentDispatcher,m1=Za.ReactCurrentOwner,Ts=Za.ReactCurrentBatchConfig,xt=0,Gr=null,kr=null,on=0,rs=0,Pl=eo(0),Br=0,cd=null,Bo=0,pp=0,g1=0,Pu=null,$n=null,v1=0,dc=1/0,Pa=null,r0=!1,wv=null,Li=null,Of=!1,Si=null,n0=0,Iu=0,_v=null,bh=-1,Sh=0;function Rn(){return xt&6?Sr():bh!==-1?bh:bh=Sr()}function Mi(e){return e.mode&1?xt&2&&on!==0?on&-on:EP.transition!==null?(Sh===0&&(Sh=nE()),Sh):(e=Dt,e!==0||(e=window.event,e=e===void 0?16:uE(e.type)),e):1}function Zs(e,t,r,n){if(50<Iu)throw Iu=0,_v=null,Error(Se(185));$d(e,r,n),(!(xt&2)||e!==Gr)&&(e===Gr&&(!(xt&2)&&(pp|=r),Br===4&&pi(e,on)),Gn(e,n),r===1&&xt===0&&!(t.mode&1)&&(dc=Sr()+500,up&&to()))}function Gn(e,t){var r=e.callbackNode;E3(e,t);var n=$h(e,e===Gr?on:0);if(n===0)r!==null&&bw(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&bw(r),t===1)e.tag===0?SP(p_.bind(null,e)):kE(p_.bind(null,e)),yP(function(){!(xt&6)&&to()}),r=null;else{switch(sE(n)){case 1:r=Vx;break;case 4:r=tE;break;case 16:r=Bh;break;case 536870912:r=rE;break;default:r=Bh}r=CN(r,wN.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function wN(e,t){if(bh=-1,Sh=0,xt&6)throw Error(Se(327));var r=e.callbackNode;if($l()&&e.callbackNode!==r)return null;var n=$h(e,e===Gr?on:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=s0(e,n);else{t=n;var s=xt;xt|=2;var a=bN();(Gr!==e||on!==t)&&(Pa=null,dc=Sr()+500,Ro(e,t));do try{WP();break}catch(l){_N(e,l)}while(!0);r1(),t0.current=a,xt=s,kr!==null?t=0:(Gr=null,on=0,t=Br)}if(t!==0){if(t===2&&(s=Kg(e),s!==0&&(n=s,t=bv(e,s))),t===1)throw r=cd,Ro(e,0),pi(e,n),Gn(e,Sr()),r;if(t===6)pi(e,n);else{if(s=e.current.alternate,!(n&30)&&!zP(s)&&(t=s0(e,n),t===2&&(a=Kg(e),a!==0&&(n=a,t=bv(e,a))),t===1))throw r=cd,Ro(e,0),pi(e,n),Gn(e,Sr()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Se(345));case 2:ho(e,$n,Pa);break;case 3:if(pi(e,n),(n&130023424)===n&&(t=v1+500-Sr(),10<t)){if($h(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Rn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rv(ho.bind(null,e,$n,Pa),t);break}ho(e,$n,Pa);break;case 4:if(pi(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Qs(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=Sr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*UP(n/1960))-n,10<n){e.timeoutHandle=rv(ho.bind(null,e,$n,Pa),n);break}ho(e,$n,Pa);break;case 5:ho(e,$n,Pa);break;default:throw Error(Se(329))}}}return Gn(e,Sr()),e.callbackNode===r?wN.bind(null,e):null}function bv(e,t){var r=Pu;return e.current.memoizedState.isDehydrated&&(Ro(e,t).flags|=256),e=s0(e,t),e!==2&&(t=$n,$n=r,t!==null&&Sv(t)),e}function Sv(e){$n===null?$n=e:$n.push.apply($n,e)}function zP(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!ra(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pi(e,t){for(t&=~g1,t&=~pp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Qs(t),n=1<<r;e[r]=-1,t&=~n}}function p_(e){if(xt&6)throw Error(Se(327));$l();var t=$h(e,0);if(!(t&1))return Gn(e,Sr()),null;var r=s0(e,t);if(e.tag!==0&&r===2){var n=Kg(e);n!==0&&(t=n,r=bv(e,n))}if(r===1)throw r=cd,Ro(e,0),pi(e,t),Gn(e,Sr()),r;if(r===6)throw Error(Se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ho(e,$n,Pa),Gn(e,Sr()),null}function x1(e,t){var r=xt;xt|=1;try{return e(t)}finally{xt=r,xt===0&&(dc=Sr()+500,up&&to())}}function $o(e){Si!==null&&Si.tag===0&&!(xt&6)&&$l();var t=xt;xt|=1;var r=Ts.transition,n=Dt;try{if(Ts.transition=null,Dt=1,e)return e()}finally{Dt=n,Ts.transition=r,xt=t,!(xt&6)&&to()}}function y1(){rs=Pl.current,Qt(Pl)}function Ro(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,xP(r)),kr!==null)for(r=kr.return;r!==null;){var n=r;switch(Zx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Hh();break;case 3:cc(),Qt(Wn),Qt(Sn),l1();break;case 5:o1(n);break;case 4:cc();break;case 13:Qt(cr);break;case 19:Qt(cr);break;case 10:n1(n.type._context);break;case 22:case 23:y1()}r=r.return}if(Gr=e,kr=e=Bi(e.current,null),on=rs=t,Br=0,cd=null,g1=pp=Bo=0,$n=Pu=null,bo!==null){for(t=0;t<bo.length;t++)if(r=bo[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}bo=null}return e}function _N(e,t){do{var r=kr;try{if(r1(),yh.current=e0,Zh){for(var n=fr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Zh=!1}if(Mo=0,Ur=Lr=fr=null,Ru=!1,id=0,m1.current=null,r===null||r.return===null){Br=1,cd=t,kr=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=on,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=t_(o);if(p!==null){p.flags&=-257,r_(p,o,l,a,t),p.mode&1&&e_(a,u,t),t=p,c=u;var x=t.updateQueue;if(x===null){var m=new Set;m.add(c),t.updateQueue=m}else x.add(c);break e}else{if(!(t&1)){e_(a,u,t),w1();break e}c=Error(Se(426))}}else if(sr&&l.mode&1){var v=t_(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),r_(v,o,l,a,t),e1(uc(c,l));break e}}a=c=uc(c,l),Br!==4&&(Br=2),Pu===null?Pu=[a]:Pu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var _=sN(a,c,t);Kw(a,_);break e;case 1:l=c;var w=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Li===null||!Li.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=aN(a,l,t);Kw(a,S);break e}}a=a.return}while(a!==null)}EN(r)}catch(E){t=E,kr===r&&r!==null&&(kr=r=r.return);continue}break}while(!0)}function bN(){var e=t0.current;return t0.current=e0,e===null?e0:e}function w1(){(Br===0||Br===3||Br===2)&&(Br=4),Gr===null||!(Bo&268435455)&&!(pp&268435455)||pi(Gr,on)}function s0(e,t){var r=xt;xt|=2;var n=bN();(Gr!==e||on!==t)&&(Pa=null,Ro(e,t));do try{VP();break}catch(s){_N(e,s)}while(!0);if(r1(),xt=r,t0.current=n,kr!==null)throw Error(Se(261));return Gr=null,on=0,Br}function VP(){for(;kr!==null;)SN(kr)}function WP(){for(;kr!==null&&!m3();)SN(kr)}function SN(e){var t=jN(e.alternate,e,rs);e.memoizedProps=e.pendingProps,t===null?EN(e):kr=t,m1.current=null}function EN(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=LP(r,t),r!==null){r.flags&=32767,kr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Br=6,kr=null;return}}else if(r=FP(r,t,rs),r!==null){kr=r;return}if(t=t.sibling,t!==null){kr=t;return}kr=t=e}while(t!==null);Br===0&&(Br=5)}function ho(e,t,r){var n=Dt,s=Ts.transition;try{Ts.transition=null,Dt=1,HP(e,t,r,n)}finally{Ts.transition=s,Dt=n}return null}function HP(e,t,r,n){do $l();while(Si!==null);if(xt&6)throw Error(Se(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Se(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(N3(e,a),e===Gr&&(kr=Gr=null,on=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Of||(Of=!0,CN(Bh,function(){return $l(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ts.transition,Ts.transition=null;var o=Dt;Dt=1;var l=xt;xt|=4,m1.current=null,BP(e,r),xN(r,e),dP(ev),Uh=!!Zg,ev=Zg=null,e.current=r,$P(r),g3(),xt=l,Dt=o,Ts.transition=a}else e.current=r;if(Of&&(Of=!1,Si=e,n0=s),a=e.pendingLanes,a===0&&(Li=null),y3(r.stateNode),Gn(e,Sr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(r0)throw r0=!1,e=wv,wv=null,e;return n0&1&&e.tag!==0&&$l(),a=e.pendingLanes,a&1?e===_v?Iu++:(Iu=0,_v=e):Iu=0,to(),null}function $l(){if(Si!==null){var e=sE(n0),t=Ts.transition,r=Dt;try{if(Ts.transition=null,Dt=16>e?16:e,Si===null)var n=!1;else{if(e=Si,Si=null,n0=0,xt&6)throw Error(Se(331));var s=xt;for(xt|=4,$e=e.current;$e!==null;){var a=$e,o=a.child;if($e.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for($e=u;$e!==null;){var d=$e;switch(d.tag){case 0:case 11:case 15:Ou(8,d,a)}var f=d.child;if(f!==null)f.return=d,$e=f;else for(;$e!==null;){d=$e;var h=d.sibling,p=d.return;if(mN(d),d===u){$e=null;break}if(h!==null){h.return=p,$e=h;break}$e=p}}}var x=a.alternate;if(x!==null){var m=x.child;if(m!==null){x.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}$e=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,$e=o;else e:for(;$e!==null;){if(a=$e,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ou(9,a,a.return)}var _=a.sibling;if(_!==null){_.return=a.return,$e=_;break e}$e=a.return}}var w=e.current;for($e=w;$e!==null;){o=$e;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,$e=y;else e:for(o=w;$e!==null;){if(l=$e,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:hp(9,l)}}catch(E){xr(l,l.return,E)}if(l===o){$e=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,$e=S;break e}$e=l.return}}if(xt=s,to(),wa&&typeof wa.onPostCommitFiberRoot=="function")try{wa.onPostCommitFiberRoot(ap,e)}catch{}n=!0}return n}finally{Dt=r,Ts.transition=t}}return!1}function m_(e,t,r){t=uc(r,t),t=sN(e,t,1),e=Fi(e,t,1),t=Rn(),e!==null&&($d(e,1,t),Gn(e,t))}function xr(e,t,r){if(e.tag===3)m_(e,e,r);else for(;t!==null;){if(t.tag===3){m_(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Li===null||!Li.has(n))){e=uc(r,e),e=aN(t,e,1),t=Fi(t,e,1),e=Rn(),t!==null&&($d(t,1,e),Gn(t,e));break}}t=t.return}}function GP(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Rn(),e.pingedLanes|=e.suspendedLanes&r,Gr===e&&(on&r)===r&&(Br===4||Br===3&&(on&130023424)===on&&500>Sr()-v1?Ro(e,0):g1|=r),Gn(e,t)}function NN(e,t){t===0&&(e.mode&1?(t=bf,bf<<=1,!(bf&130023424)&&(bf=4194304)):t=1);var r=Rn();e=Ga(e,t),e!==null&&($d(e,t,r),Gn(e,r))}function qP(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),NN(e,r)}function KP(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Se(314))}n!==null&&n.delete(t),NN(e,r)}var jN;jN=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Wn.current)zn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return zn=!1,DP(e,t,r);zn=!!(e.flags&131072)}else zn=!1,sr&&t.flags&1048576&&AE(t,Kh,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;_h(e,t),e=t.pendingProps;var s=ic(t,Sn.current);Bl(t,r),s=u1(null,t,n,e,s,r);var a=d1();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Hn(n)?(a=!0,Gh(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,a1(t),s.updater=fp,t.stateNode=s,s._reactInternals=t,cv(t,n,e,r),t=fv(null,t,n,!0,a,r)):(t.tag=0,sr&&a&&Qx(t),jn(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(_h(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=YP(n),e=Us(n,e),s){case 0:t=dv(null,t,n,e,r);break e;case 1:t=a_(null,t,n,e,r);break e;case 11:t=n_(null,t,n,e,r);break e;case 14:t=s_(null,t,n,Us(n.type,e),r);break e}throw Error(Se(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Us(n,s),dv(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Us(n,s),a_(e,t,n,s,r);case 3:e:{if(cN(t),e===null)throw Error(Se(387));n=t.pendingProps,a=t.memoizedState,s=a.element,FE(e,t),Jh(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=uc(Error(Se(423)),t),t=i_(e,t,n,r,s);break e}else if(n!==s){s=uc(Error(Se(424)),t),t=i_(e,t,n,r,s);break e}else for(ls=Di(t.stateNode.containerInfo.firstChild),cs=t,sr=!0,Ks=null,r=IE(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(oc(),n===s){t=qa(e,t,r);break e}jn(e,t,n,r)}t=t.child}return t;case 5:return LE(t),e===null&&iv(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,tv(n,s)?o=null:a!==null&&tv(n,a)&&(t.flags|=32),lN(e,t),jn(e,t,o,r),t.child;case 6:return e===null&&iv(t),null;case 13:return uN(e,t,r);case 4:return i1(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=lc(t,null,n,r):jn(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Us(n,s),n_(e,t,n,s,r);case 7:return jn(e,t,t.pendingProps,r),t.child;case 8:return jn(e,t,t.pendingProps.children,r),t.child;case 12:return jn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Gt(Xh,n._currentValue),n._currentValue=o,a!==null)if(ra(a.value,o)){if(a.children===s.children&&!Wn.current){t=qa(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Ba(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),ov(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Se(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),ov(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}jn(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Bl(t,r),s=ks(s),n=n(s),t.flags|=1,jn(e,t,n,r),t.child;case 14:return n=t.type,s=Us(n,t.pendingProps),s=Us(n.type,s),s_(e,t,n,s,r);case 15:return iN(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Us(n,s),_h(e,t),t.tag=1,Hn(n)?(e=!0,Gh(t)):e=!1,Bl(t,r),nN(t,n,s),cv(t,n,s,r),fv(null,t,n,!0,e,r);case 19:return dN(e,t,r);case 22:return oN(e,t,r)}throw Error(Se(156,t.tag))};function CN(e,t){return eE(e,t)}function XP(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Es(e,t,r,n){return new XP(e,t,r,n)}function _1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function YP(e){if(typeof e=="function")return _1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$x)return 11;if(e===Ux)return 14}return 2}function Bi(e,t){var r=e.alternate;return r===null?(r=Es(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Eh(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")_1(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Sl:return Oo(r.children,s,a,t);case Bx:o=8,s|=8;break;case Pg:return e=Es(12,r,t,s|2),e.elementType=Pg,e.lanes=a,e;case Ig:return e=Es(13,r,t,s),e.elementType=Ig,e.lanes=a,e;case Dg:return e=Es(19,r,t,s),e.elementType=Dg,e.lanes=a,e;case LS:return mp(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case DS:o=10;break e;case FS:o=9;break e;case $x:o=11;break e;case Ux:o=14;break e;case ci:o=16,n=null;break e}throw Error(Se(130,e==null?e:typeof e,""))}return t=Es(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function Oo(e,t,r,n){return e=Es(7,e,n,t),e.lanes=r,e}function mp(e,t,r,n){return e=Es(22,e,n,t),e.elementType=LS,e.lanes=r,e.stateNode={isHidden:!1},e}function zm(e,t,r){return e=Es(6,e,null,t),e.lanes=r,e}function Vm(e,t,r){return t=Es(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function JP(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sm(0),this.expirationTimes=Sm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sm(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function b1(e,t,r,n,s,a,o,l,c){return e=new JP(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Es(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},a1(a),e}function QP(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bl,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function TN(e){if(!e)return Wi;e=e._reactInternals;e:{if(Jo(e)!==e||e.tag!==1)throw Error(Se(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Hn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Se(171))}if(e.tag===1){var r=e.type;if(Hn(r))return TE(e,r,t)}return t}function kN(e,t,r,n,s,a,o,l,c){return e=b1(r,n,!0,e,s,a,o,l,c),e.context=TN(null),r=e.current,n=Rn(),s=Mi(r),a=Ba(n,s),a.callback=t??null,Fi(r,a,s),e.current.lanes=s,$d(e,s,n),Gn(e,n),e}function gp(e,t,r,n){var s=t.current,a=Rn(),o=Mi(s);return r=TN(r),t.context===null?t.context=r:t.pendingContext=r,t=Ba(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Fi(s,t,o),e!==null&&(Zs(e,s,o,a),xh(e,s,o)),o}function a0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function g_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function S1(e,t){g_(e,t),(e=e.alternate)&&g_(e,t)}function ZP(){return null}var AN=typeof reportError=="function"?reportError:function(e){console.error(e)};function E1(e){this._internalRoot=e}vp.prototype.render=E1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Se(409));gp(e,t,null,null)};vp.prototype.unmount=E1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$o(function(){gp(null,e,null,null)}),t[Ha]=null}};function vp(e){this._internalRoot=e}vp.prototype.unstable_scheduleHydration=function(e){if(e){var t=oE();e={blockedOn:null,target:e,priority:t};for(var r=0;r<hi.length&&t!==0&&t<hi[r].priority;r++);hi.splice(r,0,e),r===0&&cE(e)}};function N1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function v_(){}function eI(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=a0(o);a.call(u)}}var o=kN(t,n,e,0,null,!1,!1,"",v_);return e._reactRootContainer=o,e[Ha]=o.current,td(e.nodeType===8?e.parentNode:e),$o(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=a0(c);l.call(u)}}var c=b1(e,0,!1,null,null,!1,!1,"",v_);return e._reactRootContainer=c,e[Ha]=c.current,td(e.nodeType===8?e.parentNode:e),$o(function(){gp(t,c,r,n)}),c}function yp(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=a0(o);l.call(c)}}gp(t,o,e,s)}else o=eI(r,t,e,s,n);return a0(o)}aE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=xu(t.pendingLanes);r!==0&&(Wx(t,r|1),Gn(t,Sr()),!(xt&6)&&(dc=Sr()+500,to()))}break;case 13:$o(function(){var n=Ga(e,1);if(n!==null){var s=Rn();Zs(n,e,1,s)}}),S1(e,1)}};Hx=function(e){if(e.tag===13){var t=Ga(e,134217728);if(t!==null){var r=Rn();Zs(t,e,134217728,r)}S1(e,134217728)}};iE=function(e){if(e.tag===13){var t=Mi(e),r=Ga(e,t);if(r!==null){var n=Rn();Zs(r,e,t,n)}S1(e,t)}};oE=function(){return Dt};lE=function(e,t){var r=Dt;try{return Dt=e,t()}finally{Dt=r}};Hg=function(e,t,r){switch(t){case"input":if(Mg(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=cp(n);if(!s)throw Error(Se(90));BS(n),Mg(n,s)}}}break;case"textarea":US(e,r);break;case"select":t=r.value,t!=null&&Dl(e,!!r.multiple,t,!1)}};KS=x1;XS=$o;var tI={usingClientEntryPoint:!1,Events:[zd,Cl,cp,GS,qS,x1]},uu={findFiberByHostInstance:_o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rI={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Za.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=QS(e),e===null?null:e.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||ZP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pf.isDisabled&&Pf.supportsFiber)try{ap=Pf.inject(rI),wa=Pf}catch{}}ms.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tI;ms.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N1(t))throw Error(Se(200));return QP(e,t,null,r)};ms.createRoot=function(e,t){if(!N1(e))throw Error(Se(299));var r=!1,n="",s=AN;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=b1(e,1,!1,null,null,r,!1,n,s),e[Ha]=t.current,td(e.nodeType===8?e.parentNode:e),new E1(t)};ms.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Se(188)):(e=Object.keys(e).join(","),Error(Se(268,e)));return e=QS(t),e=e===null?null:e.stateNode,e};ms.flushSync=function(e){return $o(e)};ms.hydrate=function(e,t,r){if(!xp(t))throw Error(Se(200));return yp(null,e,t,!0,r)};ms.hydrateRoot=function(e,t,r){if(!N1(e))throw Error(Se(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=AN;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=kN(t,null,e,1,r??null,s,!1,a,o),e[Ha]=t.current,td(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new vp(t)};ms.render=function(e,t,r){if(!xp(t))throw Error(Se(200));return yp(null,e,t,!1,r)};ms.unmountComponentAtNode=function(e){if(!xp(e))throw Error(Se(40));return e._reactRootContainer?($o(function(){yp(null,null,e,!1,function(){e._reactRootContainer=null,e[Ha]=null})}),!0):!1};ms.unstable_batchedUpdates=x1;ms.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!xp(r))throw Error(Se(200));if(e==null||e._reactInternals===void 0)throw Error(Se(38));return yp(e,t,r,!1,n)};ms.version="18.3.1-next-f1338f8080-20240426";function RN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RN)}catch(e){console.error(e)}}RN(),RS.exports=ms;var Ns=RS.exports;const ON=Ax(Ns);var PN,x_=Ns;PN=x_.createRoot,x_.hydrateRoot;const nI=1,sI=1e6;let Wm=0;function aI(){return Wm=(Wm+1)%Number.MAX_SAFE_INTEGER,Wm.toString()}const Hm=new Map,y_=e=>{if(Hm.has(e))return;const t=setTimeout(()=>{Hm.delete(e),Du({type:"REMOVE_TOAST",toastId:e})},sI);Hm.set(e,t)},iI=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,nI)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?y_(r):e.toasts.forEach(n=>{y_(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Nh=[];let jh={toasts:[]};function Du(e){jh=iI(jh,e),Nh.forEach(t=>{t(jh)})}function oI({...e}){const t=aI(),r=s=>Du({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Du({type:"DISMISS_TOAST",toastId:t});return Du({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function pr(){const[e,t]=g.useState(jh);return g.useEffect(()=>(Nh.push(t),()=>{const r=Nh.indexOf(t);r>-1&&Nh.splice(r,1)}),[e]),{...e,toast:oI,dismiss:r=>Du({type:"DISMISS_TOAST",toastId:r})}}function ze(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function w_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function IN(...e){return t=>{let r=!1;const n=e.map(s=>{const a=w_(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():w_(e[s],null)}}}}function pt(...e){return g.useCallback(IN(...e),e)}function lI(e,t){const r=g.createContext(t),n=a=>{const{children:o,...l}=a,c=g.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(a){const o=g.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function Yn(e,t=[]){let r=[];function n(a,o){const l=g.createContext(o),c=r.length;r=[...r,o];const u=f=>{var _;const{scope:h,children:p,...x}=f,m=((_=h==null?void 0:h[e])==null?void 0:_[c])||l,v=g.useMemo(()=>x,Object.values(x));return i.jsx(m.Provider,{value:v,children:p})};u.displayName=a+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,x=g.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,cI(s,...t)]}function cI(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Uo(e){const t=dI(e),r=g.forwardRef((n,s)=>{const{children:a,...o}=n,l=g.Children.toArray(a),c=l.find(hI);if(c){const u=c.props.children,d=l.map(f=>f===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}var uI=Uo("Slot");function dI(e){const t=g.forwardRef((r,n)=>{const{children:s,...a}=r;if(g.isValidElement(s)){const o=mI(s),l=pI(a,s.props);return s.type!==g.Fragment&&(l.ref=n?IN(n,o):o),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var DN=Symbol("radix.slottable");function fI(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=DN,t}function hI(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===DN}function pI(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function mI(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function j1(e){const t=e+"CollectionProvider",[r,n]=Yn(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:v,children:_}=m,w=we.useRef(null),y=we.useRef(new Map).current;return i.jsx(s,{scope:v,itemMap:y,collectionRef:w,children:_})};o.displayName=t;const l=e+"CollectionSlot",c=Uo(l),u=we.forwardRef((m,v)=>{const{scope:_,children:w}=m,y=a(l,_),S=pt(v,y.collectionRef);return i.jsx(c,{ref:S,children:w})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Uo(d),p=we.forwardRef((m,v)=>{const{scope:_,children:w,...y}=m,S=we.useRef(null),E=pt(v,S),C=a(d,_);return we.useEffect(()=>(C.itemMap.set(S,{ref:S,...y}),()=>void C.itemMap.delete(S))),i.jsx(h,{[f]:"",ref:E,children:w})});p.displayName=d;function x(m){const v=a(e+"CollectionConsumer",m);return we.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const y=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((C,b)=>y.indexOf(C.ref.current)-y.indexOf(b.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},x,n]}var gI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ke=gI.reduce((e,t)=>{const r=Uo(`Primitive.${t}`),n=g.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function FN(e,t){e&&Ns.flushSync(()=>e.dispatchEvent(t))}function Ar(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function vI(e,t=globalThis==null?void 0:globalThis.document){const r=Ar(e);g.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var xI="DismissableLayer",Ev="dismissableLayer.update",yI="dismissableLayer.pointerDownOutside",wI="dismissableLayer.focusOutside",__,LN=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pc=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=g.useContext(LN),[d,f]=g.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=g.useState({}),x=pt(t,b=>f(b)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=m.indexOf(v),w=d?m.indexOf(d):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,S=w>=_,E=bI(b=>{const j=b.target,N=[...u.branches].some(R=>R.contains(j));!S||N||(s==null||s(b),o==null||o(b),b.defaultPrevented||l==null||l())},h),C=SI(b=>{const j=b.target;[...u.branches].some(R=>R.contains(j))||(a==null||a(b),o==null||o(b),b.defaultPrevented||l==null||l())},h);return vI(b=>{w===u.layers.size-1&&(n==null||n(b),!b.defaultPrevented&&l&&(b.preventDefault(),l()))},h),g.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(__=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),b_(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=__)}},[d,h,r,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),b_())},[d,u]),g.useEffect(()=>{const b=()=>p({});return document.addEventListener(Ev,b),()=>document.removeEventListener(Ev,b)},[]),i.jsx(Ke.div,{...c,ref:x,style:{pointerEvents:y?S?"auto":"none":void 0,...e.style},onFocusCapture:ze(e.onFocusCapture,C.onFocusCapture),onBlurCapture:ze(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ze(e.onPointerDownCapture,E.onPointerDownCapture)})});Pc.displayName=xI;var _I="DismissableLayerBranch",MN=g.forwardRef((e,t)=>{const r=g.useContext(LN),n=g.useRef(null),s=pt(t,n);return g.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),i.jsx(Ke.div,{...e,ref:s})});MN.displayName=_I;function bI(e,t=globalThis==null?void 0:globalThis.document){const r=Ar(e),n=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){BN(yI,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function SI(e,t=globalThis==null?void 0:globalThis.document){const r=Ar(e),n=g.useRef(!1);return g.useEffect(()=>{const s=a=>{a.target&&!n.current&&BN(wI,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function b_(){const e=new CustomEvent(Ev);document.dispatchEvent(e)}function BN(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?FN(s,a):s.dispatchEvent(a)}var EI=Pc,NI=MN,_r=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},jI="Portal",Wd=g.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=g.useState(!1);_r(()=>a(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?ON.createPortal(i.jsx(Ke.div,{...n,ref:t}),o):null});Wd.displayName=jI;function CI(e,t){return g.useReducer((r,n)=>t[r][n]??r,e)}var Fn=e=>{const{present:t,children:r}=e,n=TI(t),s=typeof r=="function"?r({present:n.isPresent}):g.Children.only(r),a=pt(n.ref,kI(s));return typeof r=="function"||n.isPresent?g.cloneElement(s,{ref:a}):null};Fn.displayName="Presence";function TI(e){const[t,r]=g.useState(),n=g.useRef(null),s=g.useRef(e),a=g.useRef("none"),o=e?"mounted":"unmounted",[l,c]=CI(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=If(n.current);a.current=l==="mounted"?u:"none"},[l]),_r(()=>{const u=n.current,d=s.current;if(d!==e){const h=a.current,p=If(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),_r(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=If(n.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!s.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=p=>{p.target===t&&(a.current=If(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function If(e){return(e==null?void 0:e.animationName)||"none"}function kI(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var AI=Dx[" useInsertionEffect ".trim().toString()]||_r;function na({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,o]=RI({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=g.useRef(e!==void 0);g.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=g.useCallback(d=>{var f;if(l){const h=OI(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else a(d)},[l,e,a,o]);return[c,u]}function RI({defaultProp:e,onChange:t}){const[r,n]=g.useState(e),s=g.useRef(r),a=g.useRef(t);return AI(()=>{a.current=t},[t]),g.useEffect(()=>{var o;s.current!==r&&((o=a.current)==null||o.call(a,r),s.current=r)},[r,s]),[r,n,a]}function OI(e){return typeof e=="function"}var $N=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),PI="VisuallyHidden",wp=g.forwardRef((e,t)=>i.jsx(Ke.span,{...e,ref:t,style:{...$N,...e.style}}));wp.displayName=PI;var II=wp,C1="ToastProvider",[T1,DI,FI]=j1("Toast"),[UN,mJ]=Yn("Toast",[FI]),[LI,_p]=UN(C1),zN=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[l,c]=g.useState(null),[u,d]=g.useState(0),f=g.useRef(!1),h=g.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${C1}\`. Expected non-empty \`string\`.`),i.jsx(T1.Provider,{scope:t,children:i.jsx(LI,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:g.useCallback(()=>d(p=>p+1),[]),onToastRemove:g.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};zN.displayName=C1;var VN="ToastViewport",MI=["F8"],Nv="toast.viewportPause",jv="toast.viewportResume",WN=g.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=MI,label:s="Notifications ({hotkey})",...a}=e,o=_p(VN,r),l=DI(r),c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),f=g.useRef(null),h=pt(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;g.useEffect(()=>{const v=_=>{var y;n.length!==0&&n.every(S=>_[S]||_.code===S)&&((y=f.current)==null||y.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),g.useEffect(()=>{const v=c.current,_=f.current;if(x&&v&&_){const w=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(Nv);_.dispatchEvent(C),o.isClosePausedRef.current=!0}},y=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(jv);_.dispatchEvent(C),o.isClosePausedRef.current=!1}},S=C=>{!v.contains(C.relatedTarget)&&y()},E=()=>{v.contains(document.activeElement)||y()};return v.addEventListener("focusin",w),v.addEventListener("focusout",S),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",E),window.addEventListener("blur",w),window.addEventListener("focus",y),()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",S),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",E),window.removeEventListener("blur",w),window.removeEventListener("focus",y)}}},[x,o.isClosePausedRef]);const m=g.useCallback(({tabbingDirection:v})=>{const w=l().map(y=>{const S=y.ref.current,E=[S,...JI(S)];return v==="forwards"?E:E.reverse()});return(v==="forwards"?w.reverse():w).flat()},[l]);return g.useEffect(()=>{const v=f.current;if(v){const _=w=>{var E,C,b;const y=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!y){const j=document.activeElement,N=w.shiftKey;if(w.target===v&&N){(E=u.current)==null||E.focus();return}const O=m({tabbingDirection:N?"backwards":"forwards"}),L=O.findIndex(K=>K===j);Gm(O.slice(L+1))?w.preventDefault():N?(C=u.current)==null||C.focus():(b=d.current)==null||b.focus()}};return v.addEventListener("keydown",_),()=>v.removeEventListener("keydown",_)}},[l,m]),i.jsxs(NI,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&i.jsx(Cv,{ref:u,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"forwards"});Gm(v)}}),i.jsx(T1.Slot,{scope:r,children:i.jsx(Ke.ol,{tabIndex:-1,...a,ref:h})}),x&&i.jsx(Cv,{ref:d,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"backwards"});Gm(v)}})]})});WN.displayName=VN;var HN="ToastFocusProxy",Cv=g.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,a=_p(HN,r);return i.jsx(wp,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});Cv.displayName=HN;var Hd="Toast",BI="toast.swipeStart",$I="toast.swipeMove",UI="toast.swipeCancel",zI="toast.swipeEnd",GN=g.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...o}=e,[l,c]=na({prop:n,defaultProp:s??!0,onChange:a,caller:Hd});return i.jsx(Fn,{present:r||l,children:i.jsx(HI,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Ar(e.onPause),onResume:Ar(e.onResume),onSwipeStart:ze(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ze(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ze(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ze(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});GN.displayName=Hd;var[VI,WI]=UN(Hd,{onClose(){}}),HI=g.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...x}=e,m=_p(Hd,r),[v,_]=g.useState(null),w=pt(t,K=>_(K)),y=g.useRef(null),S=g.useRef(null),E=s||m.duration,C=g.useRef(0),b=g.useRef(E),j=g.useRef(0),{onToastAdd:N,onToastRemove:R}=m,k=Ar(()=>{var M;(v==null?void 0:v.contains(document.activeElement))&&((M=m.viewport)==null||M.focus()),o()}),O=g.useCallback(K=>{!K||K===1/0||(window.clearTimeout(j.current),C.current=new Date().getTime(),j.current=window.setTimeout(k,K))},[k]);g.useEffect(()=>{const K=m.viewport;if(K){const M=()=>{O(b.current),u==null||u()},q=()=>{const ie=new Date().getTime()-C.current;b.current=b.current-ie,window.clearTimeout(j.current),c==null||c()};return K.addEventListener(Nv,q),K.addEventListener(jv,M),()=>{K.removeEventListener(Nv,q),K.removeEventListener(jv,M)}}},[m.viewport,E,c,u,O]),g.useEffect(()=>{a&&!m.isClosePausedRef.current&&O(E)},[a,E,m.isClosePausedRef,O]),g.useEffect(()=>(N(),()=>R()),[N,R]);const L=g.useMemo(()=>v?ZN(v):null,[v]);return m.viewport?i.jsxs(i.Fragment,{children:[L&&i.jsx(GI,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),i.jsx(VI,{scope:r,onClose:k,children:Ns.createPortal(i.jsx(T1.ItemSlot,{scope:r,children:i.jsx(EI,{asChild:!0,onEscapeKeyDown:ze(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||k(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Ke.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...x,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ze(e.onKeyDown,K=>{K.key==="Escape"&&(l==null||l(K.nativeEvent),K.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:ze(e.onPointerDown,K=>{K.button===0&&(y.current={x:K.clientX,y:K.clientY})}),onPointerMove:ze(e.onPointerMove,K=>{if(!y.current)return;const M=K.clientX-y.current.x,q=K.clientY-y.current.y,ie=!!S.current,X=["left","right"].includes(m.swipeDirection),J=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,Y=X?J(0,M):0,ge=X?0:J(0,q),P=K.pointerType==="touch"?10:2,G={x:Y,y:ge},B={originalEvent:K,delta:G};ie?(S.current=G,Df($I,f,B,{discrete:!1})):S_(G,m.swipeDirection,P)?(S.current=G,Df(BI,d,B,{discrete:!1}),K.target.setPointerCapture(K.pointerId)):(Math.abs(M)>P||Math.abs(q)>P)&&(y.current=null)}),onPointerUp:ze(e.onPointerUp,K=>{const M=S.current,q=K.target;if(q.hasPointerCapture(K.pointerId)&&q.releasePointerCapture(K.pointerId),S.current=null,y.current=null,M){const ie=K.currentTarget,X={originalEvent:K,delta:M};S_(M,m.swipeDirection,m.swipeThreshold)?Df(zI,p,X,{discrete:!0}):Df(UI,h,X,{discrete:!0}),ie.addEventListener("click",J=>J.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),GI=e=>{const{__scopeToast:t,children:r,...n}=e,s=_p(Hd,t),[a,o]=g.useState(!1),[l,c]=g.useState(!1);return XI(()=>o(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(Wd,{asChild:!0,children:i.jsx(wp,{...n,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",r]})})})},qI="ToastTitle",qN=g.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(Ke.div,{...n,ref:t})});qN.displayName=qI;var KI="ToastDescription",KN=g.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(Ke.div,{...n,ref:t})});KN.displayName=KI;var XN="ToastAction",YN=g.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?i.jsx(QN,{altText:r,asChild:!0,children:i.jsx(k1,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${XN}\`. Expected non-empty \`string\`.`),null)});YN.displayName=XN;var JN="ToastClose",k1=g.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=WI(JN,r);return i.jsx(QN,{asChild:!0,children:i.jsx(Ke.button,{type:"button",...n,ref:t,onClick:ze(e.onClick,s.onClose)})})});k1.displayName=JN;var QN=g.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return i.jsx(Ke.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function ZN(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),YI(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...ZN(n))}}),t}function Df(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?FN(s,a):s.dispatchEvent(a)}var S_=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),a=n>s;return t==="left"||t==="right"?a&&n>r:!a&&s>r};function XI(e=()=>{}){const t=Ar(e);_r(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function YI(e){return e.nodeType===e.ELEMENT_NODE}function JI(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Gm(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var QI=zN,ej=WN,tj=GN,rj=qN,nj=KN,sj=YN,aj=k1;function ij(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=ij(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function oj(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=ij(e))&&(n&&(n+=" "),n+=t);return n}const E_=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,N_=oj,Gd=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return N_(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const h=E_(d)||E_(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(x=>{let[m,v]=x;return Array.isArray(v)?v.includes({...a,...l}[m]):{...a,...l}[m]===v})?[...u,f,h]:u},[]);return N_(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lj=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var e5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...l},c)=>g.createElement("svg",{ref:c,...e5,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:lj("lucide",s),...l},[...o.map(([u,d])=>g.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(e,t)=>{const r=g.forwardRef(({className:n,...s},a)=>g.createElement(t5,{ref:a,iconNode:t,className:lj(`lucide-${ZI(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=Ae("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=Ae("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=Ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=Ae("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=Ae("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=Ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=Ae("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=Ae("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=Ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=Ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=Ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=Ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=Ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=Ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=Ae("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=Ae("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=Ae("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=Ae("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=Ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=Ae("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=Ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=Ae("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=Ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=Ae("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=Ae("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=Ae("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=Ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=Ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=Ae("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=Ae("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=Ae("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=Ae("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=Ae("Headset",[["path",{d:"M3 11h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-5Zm0 0a9 9 0 1 1 18 0m0 0v5a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3Z",key:"12oyoe"}],["path",{d:"M21 16v2a4 4 0 0 1-4 4h-5",key:"1x7m43"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=Ae("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=Ae("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=Ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=Ae("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=Ae("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=Ae("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=Ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=Ae("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=Ae("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=Ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=Ae("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=Ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=Ae("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=Ae("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=Ae("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=Ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=Ae("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=Ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=Ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=Ae("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=Ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=Ae("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=Ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=Ae("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=Ae("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=Ae("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=Ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=Ae("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=Ae("Table2",[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=Ae("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=Ae("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=Ae("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=Ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=Ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=Ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=Ae("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=Ae("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=Ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=Ae("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=Ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=Ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=Ae("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=Ae("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=Ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),O1="-",E5=e=>{const t=j5(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(O1);return l[0]===""&&l.length!==1&&l.shift(),pj(l,t)||N5(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},pj=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?pj(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(O1);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},k_=/^\[(.+)\]$/,N5=e=>{if(k_.test(e)){const t=k_.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},j5=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return T5(Object.entries(e.classGroups),r).forEach(([a,o])=>{Av(o,n,a,t)}),n},Av=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:A_(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(C5(s)){Av(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,o])=>{Av(o,A_(t,a),r,n)})})},A_=(e,t)=>{let r=e;return t.split(O1).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},C5=e=>e.isThemeGetter,T5=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[r,s]}):e,k5=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){r.has(a)?r.set(a,o):s(a,o)}}},mj="!",A5=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let _=l[v];if(u===0){if(_===s&&(n||l.slice(v,v+a)===t)){c.push(l.slice(d,v)),d=v+a;continue}if(_==="/"){f=v;continue}}_==="["?u++:_==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(mj),x=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:o}):o},R5=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},O5=e=>({cache:k5(e.cacheSize),parseClassName:A5(e),...E5(e)}),P5=/\s+/,I5=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(P5);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let x=!!p,m=n(x?h.substring(0,p):h);if(!m){if(!x){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}x=!1}const v=R5(d).join(":"),_=f?v+mj:v,w=_+m;if(a.includes(w))continue;a.push(w);const y=s(m,x);for(let S=0;S<y.length;++S){const E=y[S];a.push(_+E)}l=u+(l.length>0?" "+l:l)}return l};function D5(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=gj(t))&&(n&&(n+=" "),n+=r);return n}const gj=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=gj(e[n]))&&(r&&(r+=" "),r+=t);return r};function F5(e,...t){let r,n,s,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=O5(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=I5(c,r);return s(c,d),d}return function(){return a(D5.apply(null,arguments))}}const Kt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},vj=/^\[(?:([a-z-]+):)?(.+)\]$/i,L5=/^\d+\/\d+$/,M5=new Set(["px","full","screen"]),B5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,U5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,z5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,V5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Aa=e=>Ul(e)||M5.has(e)||L5.test(e),ni=e=>Ic(e,"length",J5),Ul=e=>!!e&&!Number.isNaN(Number(e)),Jm=e=>Ic(e,"number",Ul),fu=e=>!!e&&Number.isInteger(Number(e)),W5=e=>e.endsWith("%")&&Ul(e.slice(0,-1)),dt=e=>vj.test(e),si=e=>B5.test(e),H5=new Set(["length","size","percentage"]),G5=e=>Ic(e,H5,xj),q5=e=>Ic(e,"position",xj),K5=new Set(["image","url"]),X5=e=>Ic(e,K5,Z5),Y5=e=>Ic(e,"",Q5),hu=()=>!0,Ic=(e,t,r)=>{const n=vj.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},J5=e=>$5.test(e)&&!U5.test(e),xj=()=>!1,Q5=e=>z5.test(e),Z5=e=>V5.test(e),eD=()=>{const e=Kt("colors"),t=Kt("spacing"),r=Kt("blur"),n=Kt("brightness"),s=Kt("borderColor"),a=Kt("borderRadius"),o=Kt("borderSpacing"),l=Kt("borderWidth"),c=Kt("contrast"),u=Kt("grayscale"),d=Kt("hueRotate"),f=Kt("invert"),h=Kt("gap"),p=Kt("gradientColorStops"),x=Kt("gradientColorStopPositions"),m=Kt("inset"),v=Kt("margin"),_=Kt("opacity"),w=Kt("padding"),y=Kt("saturate"),S=Kt("scale"),E=Kt("sepia"),C=Kt("skew"),b=Kt("space"),j=Kt("translate"),N=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",dt,t],O=()=>[dt,t],L=()=>["",Aa,ni],K=()=>["auto",Ul,dt],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",dt],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ge=()=>[Ul,dt];return{cacheSize:500,separator:":",theme:{colors:[hu],spacing:[Aa,ni],blur:["none","",si,dt],brightness:ge(),borderColor:[e],borderRadius:["none","","full",si,dt],borderSpacing:O(),borderWidth:L(),contrast:ge(),grayscale:J(),hueRotate:ge(),invert:J(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[W5,ni],inset:k(),margin:k(),opacity:ge(),padding:O(),saturate:ge(),scale:ge(),sepia:J(),skew:ge(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",dt]}],container:["container"],columns:[{columns:[si]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),dt]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fu,dt]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",dt]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",fu,dt]}],"grid-cols":[{"grid-cols":[hu]}],"col-start-end":[{col:["auto",{span:["full",fu,dt]},dt]}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":[hu]}],"row-start-end":[{row:["auto",{span:[fu,dt]},dt]}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",dt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",dt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...X()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...X(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...X(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",dt,t]}],"min-w":[{"min-w":[dt,t,"min","max","fit"]}],"max-w":[{"max-w":[dt,t,"none","full","min","max","fit","prose",{screen:[si]},si]}],h:[{h:[dt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[dt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[dt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[dt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",si,ni]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Jm]}],"font-family":[{font:[hu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",dt]}],"line-clamp":[{"line-clamp":["none",Ul,Jm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Aa,dt]}],"list-image":[{"list-image":["none",dt]}],"list-style-type":[{list:["none","disc","decimal",dt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Aa,ni]}],"underline-offset":[{"underline-offset":["auto",Aa,dt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",dt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",dt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),q5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",G5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},X5]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[Aa,dt]}],"outline-w":[{outline:[Aa,ni]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Aa,ni]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",si,Y5]}],"shadow-color":[{shadow:[hu]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",si,dt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[y]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",dt]}],duration:[{duration:ge()}],ease:[{ease:["linear","in","out","in-out",dt]}],delay:[{delay:ge()}],animate:[{animate:["none","spin","ping","pulse","bounce",dt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[fu,dt]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",dt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",dt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",dt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Aa,ni,Jm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},tD=F5(eD);function Be(...e){return tD(oj(e))}const rD=QI,yj=g.forwardRef(({className:e,...t},r)=>i.jsx(ej,{ref:r,className:Be("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));yj.displayName=ej.displayName;const nD=Gd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),wj=g.forwardRef(({className:e,variant:t,...r},n)=>i.jsx(tj,{ref:n,className:Be(nD({variant:t}),e),...r}));wj.displayName=tj.displayName;const sD=g.forwardRef(({className:e,...t},r)=>i.jsx(sj,{ref:r,className:Be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));sD.displayName=sj.displayName;const _j=g.forwardRef(({className:e,...t},r)=>i.jsx(aj,{ref:r,className:Be("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(Sp,{className:"h-4 w-4"})}));_j.displayName=aj.displayName;const bj=g.forwardRef(({className:e,...t},r)=>i.jsx(rj,{ref:r,className:Be("text-sm font-semibold",e),...t}));bj.displayName=rj.displayName;const Sj=g.forwardRef(({className:e,...t},r)=>i.jsx(nj,{ref:r,className:Be("text-sm opacity-90",e),...t}));Sj.displayName=nj.displayName;function aD(){const{toasts:e}=pr();return i.jsxs(rD,{children:[e.map(function({id:t,title:r,description:n,action:s,...a}){return i.jsxs(wj,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(bj,{children:r}),n&&i.jsx(Sj,{children:n})]}),s,i.jsx(_j,{})]},t)}),i.jsx(yj,{})]})}var R_=["light","dark"],iD="(prefers-color-scheme: dark)",oD=g.createContext(void 0),lD={setTheme:e=>{},themes:[]},cD=()=>{var e;return(e=g.useContext(oD))!=null?e:lD};g.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:a,value:o,attrs:l,nonce:c})=>{let u=a==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?R_.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(x,m=!1,v=!0)=>{let _=o?o[x]:x,w=m?x+"|| ''":`'${_}'`,y="";return s&&v&&!m&&R_.includes(x)&&(y+=`d.style.colorScheme = '${x}';`),r==="class"?m||_?y+=`c.add(${w})`:y+="null":_&&(y+=`d[s](n,${w})`),y},p=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${iD}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return g.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var uD=e=>{switch(e){case"success":return hD;case"info":return mD;case"warning":return pD;case"error":return gD;default:return null}},dD=Array(12).fill(0),fD=({visible:e,className:t})=>we.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},we.createElement("div",{className:"sonner-spinner"},dD.map((r,n)=>we.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),hD=we.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},we.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),pD=we.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},we.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),mD=we.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},we.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),gD=we.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},we.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),vD=we.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},we.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),we.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),xD=()=>{let[e,t]=we.useState(document.hidden);return we.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Rv=1,yD=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Rv++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,a,o=n.then(async c=>{if(a=["resolve",c],we.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(_D(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Rv++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Bn=new yD,wD=(e,t)=>{let r=(t==null?void 0:t.id)||Rv++;return Bn.addToast({title:e,...t,id:r}),r},_D=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",bD=wD,SD=()=>Bn.toasts,ED=()=>Bn.getActiveToasts();Object.assign(bD,{success:Bn.success,info:Bn.info,warning:Bn.warning,error:Bn.error,custom:Bn.custom,message:Bn.message,promise:Bn.promise,dismiss:Bn.dismiss,loading:Bn.loading},{getHistory:SD,getToasts:ED});function ND(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}ND(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function $f(e){return e.label!==void 0}var jD=3,CD="32px",TD="16px",O_=4e3,kD=356,AD=14,RD=20,OD=200;function Fs(...e){return e.filter(Boolean).join(" ")}function PD(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var ID=e=>{var t,r,n,s,a,o,l,c,u,d,f;let{invert:h,toast:p,unstyled:x,interacting:m,setHeights:v,visibleToasts:_,heights:w,index:y,toasts:S,expanded:E,removeToast:C,defaultRichColors:b,closeButton:j,style:N,cancelButtonStyle:R,actionButtonStyle:k,className:O="",descriptionClassName:L="",duration:K,position:M,gap:q,loadingIcon:ie,expandByDefault:X,classNames:J,icons:Y,closeButtonAriaLabel:ge="Close toast",pauseWhenPageIsHidden:P}=e,[G,B]=we.useState(null),[W,ee]=we.useState(null),[U,he]=we.useState(!1),[ce,A]=we.useState(!1),[H,ne]=we.useState(!1),[Re,Z]=we.useState(!1),[_e,ue]=we.useState(!1),[te,Xe]=we.useState(0),[We,Je]=we.useState(0),ut=we.useRef(p.duration||K||O_),Lt=we.useRef(null),Rt=we.useRef(null),Bt=y===0,Kr=y+1<=_,Ut=p.type,er=p.dismissible!==!1,tr=p.className||"",$r=p.descriptionClassName||"",mr=we.useMemo(()=>w.findIndex(Le=>Le.toastId===p.id)||0,[w,p.id]),rr=we.useMemo(()=>{var Le;return(Le=p.closeButton)!=null?Le:j},[p.closeButton,j]),Xr=we.useMemo(()=>p.duration||K||O_,[p.duration,K]),Yr=we.useRef(0),zt=we.useRef(0),Jr=we.useRef(0),Dr=we.useRef(null),[de,Pe]=M.split("-"),De=we.useMemo(()=>w.reduce((Le,Qe,nt)=>nt>=mr?Le:Le+Qe.height,0),[w,mr]),Ye=xD(),st=p.invert||h,rt=Ut==="loading";zt.current=we.useMemo(()=>mr*q+De,[mr,De]),we.useEffect(()=>{ut.current=Xr},[Xr]),we.useEffect(()=>{he(!0)},[]),we.useEffect(()=>{let Le=Rt.current;if(Le){let Qe=Le.getBoundingClientRect().height;return Je(Qe),v(nt=>[{toastId:p.id,height:Qe,position:p.position},...nt]),()=>v(nt=>nt.filter($t=>$t.toastId!==p.id))}},[v,p.id]),we.useLayoutEffect(()=>{if(!U)return;let Le=Rt.current,Qe=Le.style.height;Le.style.height="auto";let nt=Le.getBoundingClientRect().height;Le.style.height=Qe,Je(nt),v($t=>$t.find(ir=>ir.toastId===p.id)?$t.map(ir=>ir.toastId===p.id?{...ir,height:nt}:ir):[{toastId:p.id,height:nt,position:p.position},...$t])},[U,p.title,p.description,v,p.id]);let ht=we.useCallback(()=>{A(!0),Xe(zt.current),v(Le=>Le.filter(Qe=>Qe.toastId!==p.id)),setTimeout(()=>{C(p)},OD)},[p,C,v,zt]);we.useEffect(()=>{if(p.promise&&Ut==="loading"||p.duration===1/0||p.type==="loading")return;let Le;return E||m||P&&Ye?(()=>{if(Jr.current<Yr.current){let Qe=new Date().getTime()-Yr.current;ut.current=ut.current-Qe}Jr.current=new Date().getTime()})():ut.current!==1/0&&(Yr.current=new Date().getTime(),Le=setTimeout(()=>{var Qe;(Qe=p.onAutoClose)==null||Qe.call(p,p),ht()},ut.current)),()=>clearTimeout(Le)},[E,m,p,Ut,P,Ye,ht]),we.useEffect(()=>{p.delete&&ht()},[ht,p.delete]);function Nt(){var Le,Qe,nt;return Y!=null&&Y.loading?we.createElement("div",{className:Fs(J==null?void 0:J.loader,(Le=p==null?void 0:p.classNames)==null?void 0:Le.loader,"sonner-loader"),"data-visible":Ut==="loading"},Y.loading):ie?we.createElement("div",{className:Fs(J==null?void 0:J.loader,(Qe=p==null?void 0:p.classNames)==null?void 0:Qe.loader,"sonner-loader"),"data-visible":Ut==="loading"},ie):we.createElement(fD,{className:Fs(J==null?void 0:J.loader,(nt=p==null?void 0:p.classNames)==null?void 0:nt.loader),visible:Ut==="loading"})}return we.createElement("li",{tabIndex:0,ref:Rt,className:Fs(O,tr,J==null?void 0:J.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,J==null?void 0:J.default,J==null?void 0:J[Ut],(r=p==null?void 0:p.classNames)==null?void 0:r[Ut]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:b,"data-styled":!(p.jsx||p.unstyled||x),"data-mounted":U,"data-promise":!!p.promise,"data-swiped":_e,"data-removed":ce,"data-visible":Kr,"data-y-position":de,"data-x-position":Pe,"data-index":y,"data-front":Bt,"data-swiping":H,"data-dismissible":er,"data-type":Ut,"data-invert":st,"data-swipe-out":Re,"data-swipe-direction":W,"data-expanded":!!(E||X&&U),style:{"--index":y,"--toasts-before":y,"--z-index":S.length-y,"--offset":`${ce?te:zt.current}px`,"--initial-height":X?"auto":`${We}px`,...N,...p.style},onDragEnd:()=>{ne(!1),B(null),Dr.current=null},onPointerDown:Le=>{rt||!er||(Lt.current=new Date,Xe(zt.current),Le.target.setPointerCapture(Le.pointerId),Le.target.tagName!=="BUTTON"&&(ne(!0),Dr.current={x:Le.clientX,y:Le.clientY}))},onPointerUp:()=>{var Le,Qe,nt,$t;if(Re||!er)return;Dr.current=null;let ir=Number(((Le=Rt.current)==null?void 0:Le.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),jt=Number(((Qe=Rt.current)==null?void 0:Qe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Q=new Date().getTime()-((nt=Lt.current)==null?void 0:nt.getTime()),Te=G==="x"?ir:jt,et=Math.abs(Te)/Q;if(Math.abs(Te)>=RD||et>.11){Xe(zt.current),($t=p.onDismiss)==null||$t.call(p,p),ee(G==="x"?ir>0?"right":"left":jt>0?"down":"up"),ht(),Z(!0),ue(!1);return}ne(!1),B(null)},onPointerMove:Le=>{var Qe,nt,$t,ir;if(!Dr.current||!er||((Qe=window.getSelection())==null?void 0:Qe.toString().length)>0)return;let jt=Le.clientY-Dr.current.y,Q=Le.clientX-Dr.current.x,Te=(nt=e.swipeDirections)!=null?nt:PD(M);!G&&(Math.abs(Q)>1||Math.abs(jt)>1)&&B(Math.abs(Q)>Math.abs(jt)?"x":"y");let et={x:0,y:0};G==="y"?(Te.includes("top")||Te.includes("bottom"))&&(Te.includes("top")&&jt<0||Te.includes("bottom")&&jt>0)&&(et.y=jt):G==="x"&&(Te.includes("left")||Te.includes("right"))&&(Te.includes("left")&&Q<0||Te.includes("right")&&Q>0)&&(et.x=Q),(Math.abs(et.x)>0||Math.abs(et.y)>0)&&ue(!0),($t=Rt.current)==null||$t.style.setProperty("--swipe-amount-x",`${et.x}px`),(ir=Rt.current)==null||ir.style.setProperty("--swipe-amount-y",`${et.y}px`)}},rr&&!p.jsx?we.createElement("button",{"aria-label":ge,"data-disabled":rt,"data-close-button":!0,onClick:rt||!er?()=>{}:()=>{var Le;ht(),(Le=p.onDismiss)==null||Le.call(p,p)},className:Fs(J==null?void 0:J.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(a=Y==null?void 0:Y.close)!=null?a:vD):null,p.jsx||g.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:we.createElement(we.Fragment,null,Ut||p.icon||p.promise?we.createElement("div",{"data-icon":"",className:Fs(J==null?void 0:J.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Nt():null,p.type!=="loading"?p.icon||(Y==null?void 0:Y[Ut])||uD(Ut):null):null,we.createElement("div",{"data-content":"",className:Fs(J==null?void 0:J.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},we.createElement("div",{"data-title":"",className:Fs(J==null?void 0:J.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?we.createElement("div",{"data-description":"",className:Fs(L,$r,J==null?void 0:J.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),g.isValidElement(p.cancel)?p.cancel:p.cancel&&$f(p.cancel)?we.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||R,onClick:Le=>{var Qe,nt;$f(p.cancel)&&er&&((nt=(Qe=p.cancel).onClick)==null||nt.call(Qe,Le),ht())},className:Fs(J==null?void 0:J.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,g.isValidElement(p.action)?p.action:p.action&&$f(p.action)?we.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||k,onClick:Le=>{var Qe,nt;$f(p.action)&&((nt=(Qe=p.action).onClick)==null||nt.call(Qe,Le),!Le.defaultPrevented&&ht())},className:Fs(J==null?void 0:J.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function P_(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function DD(e,t){let r={};return[e,t].forEach((n,s)=>{let a=s===1,o=a?"--mobile-offset":"--offset",l=a?TD:CD;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var FD=g.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:x=jD,toastOptions:m,dir:v=P_(),gap:_=AD,loadingIcon:w,icons:y,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:E}=e,[C,b]=we.useState([]),j=we.useMemo(()=>Array.from(new Set([n].concat(C.filter(P=>P.position).map(P=>P.position)))),[C,n]),[N,R]=we.useState([]),[k,O]=we.useState(!1),[L,K]=we.useState(!1),[M,q]=we.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ie=we.useRef(null),X=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),J=we.useRef(null),Y=we.useRef(!1),ge=we.useCallback(P=>{b(G=>{var B;return(B=G.find(W=>W.id===P.id))!=null&&B.delete||Bn.dismiss(P.id),G.filter(({id:W})=>W!==P.id)})},[]);return we.useEffect(()=>Bn.subscribe(P=>{if(P.dismiss){b(G=>G.map(B=>B.id===P.id?{...B,delete:!0}:B));return}setTimeout(()=>{ON.flushSync(()=>{b(G=>{let B=G.findIndex(W=>W.id===P.id);return B!==-1?[...G.slice(0,B),{...G[B],...P},...G.slice(B+1)]:[P,...G]})})})}),[]),we.useEffect(()=>{if(d!=="system"){q(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;let P=window.matchMedia("(prefers-color-scheme: dark)");try{P.addEventListener("change",({matches:G})=>{q(G?"dark":"light")})}catch{P.addListener(({matches:B})=>{try{q(B?"dark":"light")}catch(W){console.error(W)}})}},[d]),we.useEffect(()=>{C.length<=1&&O(!1)},[C]),we.useEffect(()=>{let P=G=>{var B,W;s.every(ee=>G[ee]||G.code===ee)&&(O(!0),(B=ie.current)==null||B.focus()),G.code==="Escape"&&(document.activeElement===ie.current||(W=ie.current)!=null&&W.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[s]),we.useEffect(()=>{if(ie.current)return()=>{J.current&&(J.current.focus({preventScroll:!0}),J.current=null,Y.current=!1)}},[ie.current]),we.createElement("section",{ref:t,"aria-label":`${S} ${X}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},j.map((P,G)=>{var B;let[W,ee]=P.split("-");return C.length?we.createElement("ol",{key:P,dir:v==="auto"?P_():v,tabIndex:-1,ref:ie,className:l,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":W,"data-lifted":k&&C.length>1&&!a,"data-x-position":ee,style:{"--front-toast-height":`${((B=N[0])==null?void 0:B.height)||0}px`,"--width":`${kD}px`,"--gap":`${_}px`,...p,...DD(c,u)},onBlur:U=>{Y.current&&!U.currentTarget.contains(U.relatedTarget)&&(Y.current=!1,J.current&&(J.current.focus({preventScroll:!0}),J.current=null))},onFocus:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||Y.current||(Y.current=!0,J.current=U.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{L||O(!1)},onDragEnd:()=>O(!1),onPointerDown:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||K(!0)},onPointerUp:()=>K(!1)},C.filter(U=>!U.position&&G===0||U.position===P).map((U,he)=>{var ce,A;return we.createElement(ID,{key:U.id,icons:y,index:he,toast:U,defaultRichColors:f,duration:(ce=m==null?void 0:m.duration)!=null?ce:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:x,closeButton:(A=m==null?void 0:m.closeButton)!=null?A:o,interacting:L,position:P,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:ge,toasts:C.filter(H=>H.position==U.position),heights:N.filter(H=>H.position==U.position),setHeights:R,expandByDefault:a,gap:_,loadingIcon:w,expanded:k,pauseWhenPageIsHidden:E,swipeDirections:e.swipeDirections})})):null}))});const LD=({...e})=>{const{theme:t="system"}=cD();return i.jsx(FD,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var MD=Dx[" useId ".trim().toString()]||(()=>{}),BD=0;function ea(e){const[t,r]=g.useState(MD());return _r(()=>{r(n=>n??String(BD++))},[e]),t?`radix-${t}`:""}const $D=["top","right","bottom","left"],Hi=Math.min,ss=Math.max,d0=Math.round,Uf=Math.floor,ba=e=>({x:e,y:e}),UD={left:"right",right:"left",bottom:"top",top:"bottom"},zD={start:"end",end:"start"};function Ov(e,t,r){return ss(e,Hi(t,r))}function Xa(e,t){return typeof e=="function"?e(t):e}function Ya(e){return e.split("-")[0]}function Dc(e){return e.split("-")[1]}function P1(e){return e==="x"?"y":"x"}function I1(e){return e==="y"?"height":"width"}const VD=new Set(["top","bottom"]);function ya(e){return VD.has(Ya(e))?"y":"x"}function D1(e){return P1(ya(e))}function WD(e,t,r){r===void 0&&(r=!1);const n=Dc(e),s=D1(e),a=I1(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=f0(o)),[o,f0(o)]}function HD(e){const t=f0(e);return[Pv(e),t,Pv(t)]}function Pv(e){return e.replace(/start|end/g,t=>zD[t])}const I_=["left","right"],D_=["right","left"],GD=["top","bottom"],qD=["bottom","top"];function KD(e,t,r){switch(e){case"top":case"bottom":return r?t?D_:I_:t?I_:D_;case"left":case"right":return t?GD:qD;default:return[]}}function XD(e,t,r,n){const s=Dc(e);let a=KD(Ya(e),r==="start",n);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(Pv)))),a}function f0(e){return e.replace(/left|right|bottom|top/g,t=>UD[t])}function YD(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ej(e){return typeof e!="number"?YD(e):{top:e,right:e,bottom:e,left:e}}function h0(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function F_(e,t,r){let{reference:n,floating:s}=e;const a=ya(t),o=D1(t),l=I1(o),c=Ya(t),u=a==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Dc(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const JD=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=F_(u,n,c),h=n,p={},x=0;for(let m=0;m<l.length;m++){const{name:v,fn:_}=l[m],{x:w,y,data:S,reset:E}=await _({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=w??d,f=y??f,p={...p,[v]:{...p[v],...S}},E&&x<=50&&(x++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(u=E.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):E.rects),{x:d,y:f}=F_(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}};async function hd(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Xa(t,e),x=Ej(p),v=l[h?f==="floating"?"reference":"floating":f],_=h0(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(v)))==null||r?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,y=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),S=await(a.isElement==null?void 0:a.isElement(y))?await(a.getScale==null?void 0:a.getScale(y))||{x:1,y:1}:{x:1,y:1},E=h0(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:y,strategy:c}):w);return{top:(_.top-E.top+x.top)/S.y,bottom:(E.bottom-_.bottom+x.bottom)/S.y,left:(_.left-E.left+x.left)/S.x,right:(E.right-_.right+x.right)/S.x}}const QD=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Xa(e,t)||{};if(u==null)return{};const f=Ej(d),h={x:r,y:n},p=D1(s),x=I1(p),m=await o.getDimensions(u),v=p==="y",_=v?"top":"left",w=v?"bottom":"right",y=v?"clientHeight":"clientWidth",S=a.reference[x]+a.reference[p]-h[p]-a.floating[x],E=h[p]-a.reference[p],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let b=C?C[y]:0;(!b||!await(o.isElement==null?void 0:o.isElement(C)))&&(b=l.floating[y]||a.floating[x]);const j=S/2-E/2,N=b/2-m[x]/2-1,R=Hi(f[_],N),k=Hi(f[w],N),O=R,L=b-m[x]-k,K=b/2-m[x]/2+j,M=Ov(O,K,L),q=!c.arrow&&Dc(s)!=null&&K!==M&&a.reference[x]/2-(K<O?R:k)-m[x]/2<0,ie=q?K<O?K-O:K-L:0;return{[p]:h[p]+ie,data:{[p]:M,centerOffset:K-M-ie,...q&&{alignmentOffset:ie}},reset:q}}}),ZD=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:m=!0,...v}=Xa(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const _=Ya(s),w=ya(l),y=Ya(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=h||(y||!m?[f0(l)]:HD(l)),C=x!=="none";!h&&C&&E.push(...XD(l,m,x,S));const b=[l,...E],j=await hd(t,v),N=[];let R=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&N.push(j[_]),f){const K=WD(s,o,S);N.push(j[K[0]],j[K[1]])}if(R=[...R,{placement:s,overflows:N}],!N.every(K=>K<=0)){var k,O;const K=(((k=a.flip)==null?void 0:k.index)||0)+1,M=b[K];if(M&&(!(f==="alignment"?w!==ya(M):!1)||R.every(X=>X.overflows[0]>0&&ya(X.placement)===w)))return{data:{index:K,overflows:R},reset:{placement:M}};let q=(O=R.filter(ie=>ie.overflows[0]<=0).sort((ie,X)=>ie.overflows[1]-X.overflows[1])[0])==null?void 0:O.placement;if(!q)switch(p){case"bestFit":{var L;const ie=(L=R.filter(X=>{if(C){const J=ya(X.placement);return J===w||J==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(J=>J>0).reduce((J,Y)=>J+Y,0)]).sort((X,J)=>X[1]-J[1])[0])==null?void 0:L[0];ie&&(q=ie);break}case"initialPlacement":q=l;break}if(s!==q)return{reset:{placement:q}}}return{}}}};function L_(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function M_(e){return $D.some(t=>e[t]>=0)}const eF=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Xa(e,t);switch(n){case"referenceHidden":{const a=await hd(t,{...s,elementContext:"reference"}),o=L_(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:M_(o)}}}case"escaped":{const a=await hd(t,{...s,altBoundary:!0}),o=L_(a,r.floating);return{data:{escapedOffsets:o,escaped:M_(o)}}}default:return{}}}}},Nj=new Set(["left","top"]);async function tF(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Ya(r),l=Dc(r),c=ya(r)==="y",u=Nj.has(o)?-1:1,d=a&&c?-1:1,f=Xa(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(p=l==="end"?x*-1:x),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const rF=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await tF(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},nF=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:_,y:w}=v;return{x:_,y:w}}},...c}=Xa(e,t),u={x:r,y:n},d=await hd(t,c),f=ya(Ya(s)),h=P1(f);let p=u[h],x=u[f];if(a){const v=h==="y"?"top":"left",_=h==="y"?"bottom":"right",w=p+d[v],y=p-d[_];p=Ov(w,p,y)}if(o){const v=f==="y"?"top":"left",_=f==="y"?"bottom":"right",w=x+d[v],y=x-d[_];x=Ov(w,x,y)}const m=l.fn({...t,[h]:p,[f]:x});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:a,[f]:o}}}}}},sF=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Xa(e,t),d={x:r,y:n},f=ya(s),h=P1(f);let p=d[h],x=d[f];const m=Xa(l,t),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const y=h==="y"?"height":"width",S=a.reference[h]-a.floating[y]+v.mainAxis,E=a.reference[h]+a.reference[y]-v.mainAxis;p<S?p=S:p>E&&(p=E)}if(u){var _,w;const y=h==="y"?"width":"height",S=Nj.has(Ya(s)),E=a.reference[f]-a.floating[y]+(S&&((_=o.offset)==null?void 0:_[f])||0)+(S?0:v.crossAxis),C=a.reference[f]+a.reference[y]+(S?0:((w=o.offset)==null?void 0:w[f])||0)-(S?v.crossAxis:0);x<E?x=E:x>C&&(x=C)}return{[h]:p,[f]:x}}}},aF=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Xa(e,t),d=await hd(t,u),f=Ya(s),h=Dc(s),p=ya(s)==="y",{width:x,height:m}=a.floating;let v,_;f==="top"||f==="bottom"?(v=f,_=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(_=f,v=h==="end"?"top":"bottom");const w=m-d.top-d.bottom,y=x-d.left-d.right,S=Hi(m-d[v],w),E=Hi(x-d[_],y),C=!t.middlewareData.shift;let b=S,j=E;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(j=y),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(b=w),C&&!h){const R=ss(d.left,0),k=ss(d.right,0),O=ss(d.top,0),L=ss(d.bottom,0);p?j=x-2*(R!==0||k!==0?R+k:ss(d.left,d.right)):b=m-2*(O!==0||L!==0?O+L:ss(d.top,d.bottom))}await c({...t,availableWidth:j,availableHeight:b});const N=await o.getDimensions(l.floating);return x!==N.width||m!==N.height?{reset:{rects:!0}}:{}}}};function Ep(){return typeof window<"u"}function Fc(e){return jj(e)?(e.nodeName||"").toLowerCase():"#document"}function us(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ca(e){var t;return(t=(jj(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function jj(e){return Ep()?e instanceof Node||e instanceof us(e).Node:!1}function sa(e){return Ep()?e instanceof Element||e instanceof us(e).Element:!1}function Ea(e){return Ep()?e instanceof HTMLElement||e instanceof us(e).HTMLElement:!1}function B_(e){return!Ep()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof us(e).ShadowRoot}const iF=new Set(["inline","contents"]);function Xd(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=aa(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!iF.has(s)}const oF=new Set(["table","td","th"]);function lF(e){return oF.has(Fc(e))}const cF=[":popover-open",":modal"];function Np(e){return cF.some(t=>{try{return e.matches(t)}catch{return!1}})}const uF=["transform","translate","scale","rotate","perspective"],dF=["transform","translate","scale","rotate","perspective","filter"],fF=["paint","layout","strict","content"];function F1(e){const t=L1(),r=sa(e)?aa(e):e;return uF.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||dF.some(n=>(r.willChange||"").includes(n))||fF.some(n=>(r.contain||"").includes(n))}function hF(e){let t=Gi(e);for(;Ea(t)&&!mc(t);){if(F1(t))return t;if(Np(t))return null;t=Gi(t)}return null}function L1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pF=new Set(["html","body","#document"]);function mc(e){return pF.has(Fc(e))}function aa(e){return us(e).getComputedStyle(e)}function jp(e){return sa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Gi(e){if(Fc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||B_(e)&&e.host||Ca(e);return B_(t)?t.host:t}function Cj(e){const t=Gi(e);return mc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ea(t)&&Xd(t)?t:Cj(t)}function pd(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Cj(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),o=us(s);if(a){const l=Iv(o);return t.concat(o,o.visualViewport||[],Xd(s)?s:[],l&&r?pd(l):[])}return t.concat(s,pd(s,[],r))}function Iv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Tj(e){const t=aa(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Ea(e),a=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=d0(r)!==a||d0(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function M1(e){return sa(e)?e:e.contextElement}function zl(e){const t=M1(e);if(!Ea(t))return ba(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=Tj(t);let o=(a?d0(r.width):r.width)/n,l=(a?d0(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const mF=ba(0);function kj(e){const t=us(e);return!L1()||!t.visualViewport?mF:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function gF(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==us(e)?!1:t}function zo(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=M1(e);let o=ba(1);t&&(n?sa(n)&&(o=zl(n)):o=zl(e));const l=gF(a,r,n)?kj(a):ba(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(a){const h=us(a),p=n&&sa(n)?us(n):n;let x=h,m=Iv(x);for(;m&&n&&p!==x;){const v=zl(m),_=m.getBoundingClientRect(),w=aa(m),y=_.left+(m.clientLeft+parseFloat(w.paddingLeft))*v.x,S=_.top+(m.clientTop+parseFloat(w.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=y,u+=S,x=us(m),m=Iv(x)}}return h0({width:d,height:f,x:c,y:u})}function B1(e,t){const r=jp(e).scrollLeft;return t?t.left+r:zo(Ca(e)).left+r}function Aj(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:B1(e,n)),a=n.top+t.scrollTop;return{x:s,y:a}}function vF(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",o=Ca(n),l=t?Np(t.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=ba(1);const d=ba(0),f=Ea(n);if((f||!f&&!a)&&((Fc(n)!=="body"||Xd(o))&&(c=jp(n)),Ea(n))){const p=zo(n);u=zl(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!a?Aj(o,c,!0):ba(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function xF(e){return Array.from(e.getClientRects())}function yF(e){const t=Ca(e),r=jp(e),n=e.ownerDocument.body,s=ss(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=ss(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+B1(e);const l=-r.scrollTop;return aa(n).direction==="rtl"&&(o+=ss(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:l}}function wF(e,t){const r=us(e),n=Ca(e),s=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const u=L1();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:l,y:c}}const _F=new Set(["absolute","fixed"]);function bF(e,t){const r=zo(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=Ea(e)?zl(e):ba(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:o,height:l,x:c,y:u}}function $_(e,t,r){let n;if(t==="viewport")n=wF(e,r);else if(t==="document")n=yF(Ca(e));else if(sa(t))n=bF(t,r);else{const s=kj(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return h0(n)}function Rj(e,t){const r=Gi(e);return r===t||!sa(r)||mc(r)?!1:aa(r).position==="fixed"||Rj(r,t)}function SF(e,t){const r=t.get(e);if(r)return r;let n=pd(e,[],!1).filter(l=>sa(l)&&Fc(l)!=="body"),s=null;const a=aa(e).position==="fixed";let o=a?Gi(e):e;for(;sa(o)&&!mc(o);){const l=aa(o),c=F1(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&_F.has(s.position)||Xd(o)&&!c&&Rj(e,o))?n=n.filter(d=>d!==o):s=l,o=Gi(o)}return t.set(e,n),n}function EF(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?Np(t)?[]:SF(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=$_(t,d,s);return u.top=ss(f.top,u.top),u.right=Hi(f.right,u.right),u.bottom=Hi(f.bottom,u.bottom),u.left=ss(f.left,u.left),u},$_(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function NF(e){const{width:t,height:r}=Tj(e);return{width:t,height:r}}function jF(e,t,r){const n=Ea(t),s=Ca(t),a=r==="fixed",o=zo(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=ba(0);function u(){c.x=B1(s)}if(n||!n&&!a)if((Fc(t)!=="body"||Xd(s))&&(l=jp(t)),n){const p=zo(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();a&&!n&&s&&u();const d=s&&!n&&!a?Aj(s,l):ba(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Qm(e){return aa(e).position==="static"}function U_(e,t){if(!Ea(e)||aa(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ca(e)===r&&(r=r.ownerDocument.body),r}function Oj(e,t){const r=us(e);if(Np(e))return r;if(!Ea(e)){let s=Gi(e);for(;s&&!mc(s);){if(sa(s)&&!Qm(s))return s;s=Gi(s)}return r}let n=U_(e,t);for(;n&&lF(n)&&Qm(n);)n=U_(n,t);return n&&mc(n)&&Qm(n)&&!F1(n)?r:n||hF(e)||r}const CF=async function(e){const t=this.getOffsetParent||Oj,r=this.getDimensions,n=await r(e.floating);return{reference:jF(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function TF(e){return aa(e).direction==="rtl"}const kF={convertOffsetParentRelativeRectToViewportRelativeRect:vF,getDocumentElement:Ca,getClippingRect:EF,getOffsetParent:Oj,getElementRects:CF,getClientRects:xF,getDimensions:NF,getScale:zl,isElement:sa,isRTL:TF};function Pj(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function AF(e,t){let r=null,n;const s=Ca(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const x=Uf(f),m=Uf(s.clientWidth-(d+h)),v=Uf(s.clientHeight-(f+p)),_=Uf(d),y={rootMargin:-x+"px "+-m+"px "+-v+"px "+-_+"px",threshold:ss(0,Hi(1,c))||1};let S=!0;function E(C){const b=C[0].intersectionRatio;if(b!==c){if(!S)return o();b?o(!1,b):n=setTimeout(()=>{o(!1,1e-7)},1e3)}b===1&&!Pj(u,e.getBoundingClientRect())&&o(),S=!1}try{r=new IntersectionObserver(E,{...y,root:s.ownerDocument})}catch{r=new IntersectionObserver(E,y)}r.observe(e)}return o(!0),a}function RF(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=M1(e),d=s||a?[...u?pd(u):[],...pd(t)]:[];d.forEach(_=>{s&&_.addEventListener("scroll",r,{passive:!0}),a&&_.addEventListener("resize",r)});const f=u&&l?AF(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(_=>{let[w]=_;w&&w.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let x,m=c?zo(e):null;c&&v();function v(){const _=zo(e);m&&!Pj(m,_)&&r(),m=_,x=requestAnimationFrame(v)}return r(),()=>{var _;d.forEach(w=>{s&&w.removeEventListener("scroll",r),a&&w.removeEventListener("resize",r)}),f==null||f(),(_=p)==null||_.disconnect(),p=null,c&&cancelAnimationFrame(x)}}const OF=rF,PF=nF,IF=ZD,DF=aF,FF=eF,z_=QD,LF=sF,MF=(e,t,r)=>{const n=new Map,s={platform:kF,...r},a={...s.platform,_c:n};return JD(e,t,{...s,platform:a})};var BF=typeof document<"u",$F=function(){},Th=BF?g.useLayoutEffect:$F;function p0(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!p0(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!p0(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Ij(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function V_(e,t){const r=Ij(e);return Math.round(t*r)/r}function Zm(e){const t=g.useRef(e);return Th(()=>{t.current=e}),t}function UF(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=g.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=g.useState(n);p0(h,n)||p(n);const[x,m]=g.useState(null),[v,_]=g.useState(null),w=g.useCallback(X=>{X!==C.current&&(C.current=X,m(X))},[]),y=g.useCallback(X=>{X!==b.current&&(b.current=X,_(X))},[]),S=a||x,E=o||v,C=g.useRef(null),b=g.useRef(null),j=g.useRef(d),N=c!=null,R=Zm(c),k=Zm(s),O=Zm(u),L=g.useCallback(()=>{if(!C.current||!b.current)return;const X={placement:t,strategy:r,middleware:h};k.current&&(X.platform=k.current),MF(C.current,b.current,X).then(J=>{const Y={...J,isPositioned:O.current!==!1};K.current&&!p0(j.current,Y)&&(j.current=Y,Ns.flushSync(()=>{f(Y)}))})},[h,t,r,k,O]);Th(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(X=>({...X,isPositioned:!1})))},[u]);const K=g.useRef(!1);Th(()=>(K.current=!0,()=>{K.current=!1}),[]),Th(()=>{if(S&&(C.current=S),E&&(b.current=E),S&&E){if(R.current)return R.current(S,E,L);L()}},[S,E,L,R,N]);const M=g.useMemo(()=>({reference:C,floating:b,setReference:w,setFloating:y}),[w,y]),q=g.useMemo(()=>({reference:S,floating:E}),[S,E]),ie=g.useMemo(()=>{const X={position:r,left:0,top:0};if(!q.floating)return X;const J=V_(q.floating,d.x),Y=V_(q.floating,d.y);return l?{...X,transform:"translate("+J+"px, "+Y+"px)",...Ij(q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:J,top:Y}},[r,l,q.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:L,refs:M,elements:q,floatingStyles:ie}),[d,L,M,q,ie])}const zF=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?z_({element:n.current,padding:s}).fn(r):{}:n?z_({element:n,padding:s}).fn(r):{}}}},VF=(e,t)=>({...OF(e),options:[e,t]}),WF=(e,t)=>({...PF(e),options:[e,t]}),HF=(e,t)=>({...LF(e),options:[e,t]}),GF=(e,t)=>({...IF(e),options:[e,t]}),qF=(e,t)=>({...DF(e),options:[e,t]}),KF=(e,t)=>({...FF(e),options:[e,t]}),XF=(e,t)=>({...zF(e),options:[e,t]});var YF="Arrow",Dj=g.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return i.jsx(Ke.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});Dj.displayName=YF;var JF=Dj;function $1(e){const[t,r]=g.useState(void 0);return _r(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var U1="Popper",[Fj,Lc]=Yn(U1),[QF,Lj]=Fj(U1),Mj=e=>{const{__scopePopper:t,children:r}=e,[n,s]=g.useState(null);return i.jsx(QF,{scope:t,anchor:n,onAnchorChange:s,children:r})};Mj.displayName=U1;var Bj="PopperAnchor",$j=g.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=Lj(Bj,r),o=g.useRef(null),l=pt(t,o);return g.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(Ke.div,{...s,ref:l})});$j.displayName=Bj;var z1="PopperContent",[ZF,eL]=Fj(z1),Uj=g.forwardRef((e,t)=>{var U,he,ce,A,H,ne;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:x,...m}=e,v=Lj(z1,r),[_,w]=g.useState(null),y=pt(t,Re=>w(Re)),[S,E]=g.useState(null),C=$1(S),b=(C==null?void 0:C.width)??0,j=(C==null?void 0:C.height)??0,N=n+(a!=="center"?"-"+a:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],O=k.length>0,L={padding:R,boundary:k.filter(rL),altBoundary:O},{refs:K,floatingStyles:M,placement:q,isPositioned:ie,middlewareData:X}=UF({strategy:"fixed",placement:N,whileElementsMounted:(...Re)=>RF(...Re,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[VF({mainAxis:s+j,alignmentAxis:o}),c&&WF({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?HF():void 0,...L}),c&&GF({...L}),qF({...L,apply:({elements:Re,rects:Z,availableWidth:_e,availableHeight:ue})=>{const{width:te,height:Xe}=Z.reference,We=Re.floating.style;We.setProperty("--radix-popper-available-width",`${_e}px`),We.setProperty("--radix-popper-available-height",`${ue}px`),We.setProperty("--radix-popper-anchor-width",`${te}px`),We.setProperty("--radix-popper-anchor-height",`${Xe}px`)}}),S&&XF({element:S,padding:l}),nL({arrowWidth:b,arrowHeight:j}),h&&KF({strategy:"referenceHidden",...L})]}),[J,Y]=Wj(q),ge=Ar(x);_r(()=>{ie&&(ge==null||ge())},[ie,ge]);const P=(U=X.arrow)==null?void 0:U.x,G=(he=X.arrow)==null?void 0:he.y,B=((ce=X.arrow)==null?void 0:ce.centerOffset)!==0,[W,ee]=g.useState();return _r(()=>{_&&ee(window.getComputedStyle(_).zIndex)},[_]),i.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:ie?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:W,"--radix-popper-transform-origin":[(A=X.transformOrigin)==null?void 0:A.x,(H=X.transformOrigin)==null?void 0:H.y].join(" "),...((ne=X.hide)==null?void 0:ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(ZF,{scope:r,placedSide:J,onArrowChange:E,arrowX:P,arrowY:G,shouldHideArrow:B,children:i.jsx(Ke.div,{"data-side":J,"data-align":Y,...m,ref:y,style:{...m.style,animation:ie?void 0:"none"}})})})});Uj.displayName=z1;var zj="PopperArrow",tL={top:"bottom",right:"left",bottom:"top",left:"right"},Vj=g.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=eL(zj,n),o=tL[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(JF,{...s,ref:r,style:{...s.style,display:"block"}})})});Vj.displayName=zj;function rL(e){return e!==null}var nL=e=>({name:"transformOrigin",options:e,fn(t){var v,_,w;const{placement:r,rects:n,middlewareData:s}=t,o=((v=s.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=Wj(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((_=s.arrow)==null?void 0:_.x)??0)+l/2,p=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let x="",m="";return u==="bottom"?(x=o?f:`${h}px`,m=`${-c}px`):u==="top"?(x=o?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(x=`${-c}px`,m=o?f:`${p}px`):u==="left"&&(x=`${n.floating.width+c}px`,m=o?f:`${p}px`),{data:{x,y:m}}}});function Wj(e){const[t,r="center"]=e.split("-");return[t,r]}var V1=Mj,Cp=$j,W1=Uj,H1=Vj,[Tp,gJ]=Yn("Tooltip",[Lc]),kp=Lc(),Hj="TooltipProvider",sL=700,Dv="tooltip.open",[aL,G1]=Tp(Hj),Gj=e=>{const{__scopeTooltip:t,delayDuration:r=sL,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,o=g.useRef(!0),l=g.useRef(!1),c=g.useRef(0);return g.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),i.jsx(aL,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:g.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:a})};Gj.displayName=Hj;var md="Tooltip",[iL,Ap]=Tp(md),qj=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,c=G1(md,e.__scopeTooltip),u=kp(t),[d,f]=g.useState(null),h=ea(),p=g.useRef(0),x=o??c.disableHoverableContent,m=l??c.delayDuration,v=g.useRef(!1),[_,w]=na({prop:n,defaultProp:s??!1,onChange:b=>{b?(c.onOpen(),document.dispatchEvent(new CustomEvent(Dv))):c.onClose(),a==null||a(b)},caller:md}),y=g.useMemo(()=>_?v.current?"delayed-open":"instant-open":"closed",[_]),S=g.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v.current=!1,w(!0)},[w]),E=g.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w(!1)},[w]),C=g.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{v.current=!0,w(!0),p.current=0},m)},[m,w]);return g.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),i.jsx(V1,{...u,children:i.jsx(iL,{scope:t,contentId:h,open:_,stateAttribute:y,trigger:d,onTriggerChange:f,onTriggerEnter:g.useCallback(()=>{c.isOpenDelayedRef.current?C():S()},[c.isOpenDelayedRef,C,S]),onTriggerLeave:g.useCallback(()=>{x?E():(window.clearTimeout(p.current),p.current=0)},[E,x]),onOpen:S,onClose:E,disableHoverableContent:x,children:r})})};qj.displayName=md;var Fv="TooltipTrigger",Kj=g.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Ap(Fv,r),a=G1(Fv,r),o=kp(r),l=g.useRef(null),c=pt(t,l,s.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),f=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(Cp,{asChild:!0,...o,children:i.jsx(Ke.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:ze(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ze(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ze(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ze(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:ze(e.onBlur,s.onClose),onClick:ze(e.onClick,s.onClose)})})});Kj.displayName=Fv;var oL="TooltipPortal",[vJ,lL]=Tp(oL,{forceMount:void 0}),gc="TooltipContent",Xj=g.forwardRef((e,t)=>{const r=lL(gc,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=e,o=Ap(gc,e.__scopeTooltip);return i.jsx(Fn,{present:n||o.open,children:o.disableHoverableContent?i.jsx(Yj,{side:s,...a,ref:t}):i.jsx(cL,{side:s,...a,ref:t})})}),cL=g.forwardRef((e,t)=>{const r=Ap(gc,e.__scopeTooltip),n=G1(gc,e.__scopeTooltip),s=g.useRef(null),a=pt(t,s),[o,l]=g.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,h=g.useCallback(()=>{l(null),f(!1)},[f]),p=g.useCallback((x,m)=>{const v=x.currentTarget,_={x:x.clientX,y:x.clientY},w=pL(_,v.getBoundingClientRect()),y=mL(_,w),S=gL(m.getBoundingClientRect()),E=xL([...y,...S]);l(E),f(!0)},[f]);return g.useEffect(()=>()=>h(),[h]),g.useEffect(()=>{if(c&&d){const x=v=>p(v,d),m=v=>p(v,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",m)}}},[c,d,p,h]),g.useEffect(()=>{if(o){const x=m=>{const v=m.target,_={x:m.clientX,y:m.clientY},w=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),y=!vL(_,o);w?h():y&&(h(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,o,u,h]),i.jsx(Yj,{...e,ref:a})}),[uL,dL]=Tp(md,{isInside:!1}),fL=fI("TooltipContent"),Yj=g.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=Ap(gc,r),u=kp(r),{onClose:d}=c;return g.useEffect(()=>(document.addEventListener(Dv,d),()=>document.removeEventListener(Dv,d)),[d]),g.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),i.jsx(Pc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:i.jsxs(W1,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(fL,{children:n}),i.jsx(uL,{scope:r,isInside:!0,children:i.jsx(II,{id:c.contentId,role:"tooltip",children:s||n})})]})})});Xj.displayName=gc;var Jj="TooltipArrow",hL=g.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=kp(r);return dL(Jj,r).isInside?null:i.jsx(H1,{...s,...n,ref:t})});hL.displayName=Jj;function pL(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function mL(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function gL(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function vL(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function xL(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),yL(t)}function yL(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var wL=Gj,_L=qj,bL=Kj,Qj=Xj;const SL=wL,Lv=_L,Mv=bL,m0=g.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(Qj,{ref:n,sideOffset:t,className:Be("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));m0.displayName=Qj.displayName;var Rp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Op=typeof window>"u"||"Deno"in globalThis;function zs(){}function EL(e,t){return typeof e=="function"?e(t):e}function NL(e){return typeof e=="number"&&e>=0&&e!==1/0}function jL(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Bv(e,t){return typeof e=="function"?e(t):e}function CL(e,t){return typeof e=="function"?e(t):e}function W_(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==q1(o,t.options))return!1}else if(!vd(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function H_(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(gd(t.options.mutationKey)!==gd(a))return!1}else if(!vd(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function q1(e,t){return((t==null?void 0:t.queryKeyHashFn)||gd)(e)}function gd(e){return JSON.stringify(e,(t,r)=>$v(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function vd(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>vd(e[r],t[r])):!1}function Zj(e,t){if(e===t)return e;const r=G_(e)&&G_(t);if(r||$v(e)&&$v(t)){const n=r?e:Object.keys(e),s=n.length,a=r?t:Object.keys(t),o=a.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<o;d++){const f=r?d:a[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=Zj(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return s===o&&u===s?e:l}return t}function G_(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function $v(e){if(!q_(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!q_(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function q_(e){return Object.prototype.toString.call(e)==="[object Object]"}function TL(e){return new Promise(t=>{setTimeout(t,e)})}function kL(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Zj(e,t):t}function AL(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function RL(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var K1=Symbol();function eC(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===K1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var No,vi,Jl,dS,OL=(dS=class extends Rp{constructor(){super();wt(this,No);wt(this,vi);wt(this,Jl);ct(this,Jl,t=>{if(!Op&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){xe(this,vi)||this.setEventListener(xe(this,Jl))}onUnsubscribe(){var t;this.hasListeners()||((t=xe(this,vi))==null||t.call(this),ct(this,vi,void 0))}setEventListener(t){var r;ct(this,Jl,t),(r=xe(this,vi))==null||r.call(this),ct(this,vi,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){xe(this,No)!==t&&(ct(this,No,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof xe(this,No)=="boolean"?xe(this,No):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},No=new WeakMap,vi=new WeakMap,Jl=new WeakMap,dS),tC=new OL,Ql,xi,Zl,fS,PL=(fS=class extends Rp{constructor(){super();wt(this,Ql,!0);wt(this,xi);wt(this,Zl);ct(this,Zl,t=>{if(!Op&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){xe(this,xi)||this.setEventListener(xe(this,Zl))}onUnsubscribe(){var t;this.hasListeners()||((t=xe(this,xi))==null||t.call(this),ct(this,xi,void 0))}setEventListener(t){var r;ct(this,Zl,t),(r=xe(this,xi))==null||r.call(this),ct(this,xi,t(this.setOnline.bind(this)))}setOnline(t){xe(this,Ql)!==t&&(ct(this,Ql,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return xe(this,Ql)}},Ql=new WeakMap,xi=new WeakMap,Zl=new WeakMap,fS),g0=new PL;function IL(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function DL(e){return Math.min(1e3*2**e,3e4)}function rC(e){return(e??"online")==="online"?g0.isOnline():!0}var nC=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function eg(e){return e instanceof nC}function sC(e){let t=!1,r=0,n=!1,s;const a=IL(),o=m=>{var v;n||(h(new nC(m)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>tC.isFocused()&&(e.networkMode==="always"||g0.isOnline())&&e.canRun(),d=()=>rC(e.networkMode)&&e.canRun(),f=m=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,m),s==null||s(),a.resolve(m))},h=m=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,m),s==null||s(),a.reject(m))},p=()=>new Promise(m=>{var v;s=_=>{(n||u())&&m(_)},(v=e.onPause)==null||v.call(e)}).then(()=>{var m;s=void 0,n||(m=e.onContinue)==null||m.call(e)}),x=()=>{if(n)return;let m;const v=r===0?e.initialPromise:void 0;try{m=v??e.fn()}catch(_){m=Promise.reject(_)}Promise.resolve(m).then(f).catch(_=>{var C;if(n)return;const w=e.retry??(Op?0:3),y=e.retryDelay??DL,S=typeof y=="function"?y(r,_):y,E=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,_);if(t||!E){h(_);return}r++,(C=e.onFail)==null||C.call(e,r,_),TL(S).then(()=>u()?void 0:p()).then(()=>{t?h(_):x()})})};return{promise:a,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():p().then(x),a)}}var FL=e=>setTimeout(e,0);function LL(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=FL;const a=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var kn=LL(),jo,hS,aC=(hS=class{constructor(){wt(this,jo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),NL(this.gcTime)&&ct(this,jo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Op?1/0:5*60*1e3))}clearGcTimeout(){xe(this,jo)&&(clearTimeout(xe(this,jo)),ct(this,jo,void 0))}},jo=new WeakMap,hS),ec,Co,xs,To,mn,Fd,ko,Ws,Oa,pS,ML=(pS=class extends aC{constructor(t){super();wt(this,Ws);wt(this,ec);wt(this,Co);wt(this,xs);wt(this,To);wt(this,mn);wt(this,Fd);wt(this,ko);ct(this,ko,!1),ct(this,Fd,t.defaultOptions),this.setOptions(t.options),this.observers=[],ct(this,To,t.client),ct(this,xs,xe(this,To).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ct(this,ec,$L(this.options)),this.state=t.state??xe(this,ec),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=xe(this,mn))==null?void 0:t.promise}setOptions(t){this.options={...xe(this,Fd),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&xe(this,xs).remove(this)}setData(t,r){const n=kL(this.state.data,t,this.options);return fn(this,Ws,Oa).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){fn(this,Ws,Oa).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=xe(this,mn))==null?void 0:n.promise;return(s=xe(this,mn))==null||s.cancel(t),r?r.then(zs).catch(zs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(xe(this,ec))}isActive(){return this.observers.some(t=>CL(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===K1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Bv(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!jL(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=xe(this,mn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=xe(this,mn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),xe(this,xs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(xe(this,mn)&&(xe(this,ko)?xe(this,mn).cancel({revert:!0}):xe(this,mn).cancelRetry()),this.scheduleGc()),xe(this,xs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||fn(this,Ws,Oa).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(xe(this,mn))return xe(this,mn).continueRetry(),xe(this,mn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ct(this,ko,!0),n.signal)})},a=()=>{const h=eC(this.options,r),x=(()=>{const m={client:xe(this,To),queryKey:this.queryKey,meta:this.meta};return s(m),m})();return ct(this,ko,!1),this.options.persister?this.options.persister(h,x,this):h(x)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:xe(this,To),state:this.state,fetchFn:a};return s(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),ct(this,Co,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&fn(this,Ws,Oa).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var p,x,m,v;eg(h)&&h.silent||fn(this,Ws,Oa).call(this,{type:"error",error:h}),eg(h)||((x=(p=xe(this,xs).config).onError)==null||x.call(p,h,this),(v=(m=xe(this,xs).config).onSettled)==null||v.call(m,this.state.data,h,this)),this.scheduleGc()};return ct(this,mn,sC({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var p,x,m,v;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(_){c(_);return}(x=(p=xe(this,xs).config).onSuccess)==null||x.call(p,h,this),(v=(m=xe(this,xs).config).onSettled)==null||v.call(m,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,p)=>{fn(this,Ws,Oa).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{fn(this,Ws,Oa).call(this,{type:"pause"})},onContinue:()=>{fn(this,Ws,Oa).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),xe(this,mn).start()}},ec=new WeakMap,Co=new WeakMap,xs=new WeakMap,To=new WeakMap,mn=new WeakMap,Fd=new WeakMap,ko=new WeakMap,Ws=new WeakSet,Oa=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...BL(n.data,this.options),fetchMeta:t.meta??null};case"success":return ct(this,Co,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return eg(s)&&s.revert&&xe(this,Co)?{...xe(this,Co),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),kn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),xe(this,xs).notify({query:this,type:"updated",action:t})})},pS);function BL(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:rC(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function $L(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var pa,mS,UL=(mS=class extends Rp{constructor(t={}){super();wt(this,pa);this.config=t,ct(this,pa,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??q1(s,r);let o=this.get(a);return o||(o=new ML({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){xe(this,pa).has(t.queryHash)||(xe(this,pa).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=xe(this,pa).get(t.queryHash);r&&(t.destroy(),r===t&&xe(this,pa).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){kn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return xe(this,pa).get(t)}getAll(){return[...xe(this,pa).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>W_(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>W_(t,n)):r}notify(t){kn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){kn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){kn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},pa=new WeakMap,mS),ma,Nn,Ao,ga,oi,gS,zL=(gS=class extends aC{constructor(t){super();wt(this,ga);wt(this,ma);wt(this,Nn);wt(this,Ao);this.mutationId=t.mutationId,ct(this,Nn,t.mutationCache),ct(this,ma,[]),this.state=t.state||VL(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){xe(this,ma).includes(t)||(xe(this,ma).push(t),this.clearGcTimeout(),xe(this,Nn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ct(this,ma,xe(this,ma).filter(r=>r!==t)),this.scheduleGc(),xe(this,Nn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){xe(this,ma).length||(this.state.status==="pending"?this.scheduleGc():xe(this,Nn).remove(this))}continue(){var t;return((t=xe(this,Ao))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,l,c,u,d,f,h,p,x,m,v,_,w,y,S,E,C,b,j;const r=()=>{fn(this,ga,oi).call(this,{type:"continue"})};ct(this,Ao,sC({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(N,R)=>{fn(this,ga,oi).call(this,{type:"failed",failureCount:N,error:R})},onPause:()=>{fn(this,ga,oi).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>xe(this,Nn).canRun(this)}));const n=this.state.status==="pending",s=!xe(this,Ao).canStart();try{if(n)r();else{fn(this,ga,oi).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(a=xe(this,Nn).config).onMutate)==null?void 0:o.call(a,t,this));const R=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));R!==this.state.context&&fn(this,ga,oi).call(this,{type:"pending",context:R,variables:t,isPaused:s})}const N=await xe(this,Ao).start();return await((d=(u=xe(this,Nn).config).onSuccess)==null?void 0:d.call(u,N,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,N,t,this.state.context)),await((x=(p=xe(this,Nn).config).onSettled)==null?void 0:x.call(p,N,null,this.state.variables,this.state.context,this)),await((v=(m=this.options).onSettled)==null?void 0:v.call(m,N,null,t,this.state.context)),fn(this,ga,oi).call(this,{type:"success",data:N}),N}catch(N){try{throw await((w=(_=xe(this,Nn).config).onError)==null?void 0:w.call(_,N,t,this.state.context,this)),await((S=(y=this.options).onError)==null?void 0:S.call(y,N,t,this.state.context)),await((C=(E=xe(this,Nn).config).onSettled)==null?void 0:C.call(E,void 0,N,this.state.variables,this.state.context,this)),await((j=(b=this.options).onSettled)==null?void 0:j.call(b,void 0,N,t,this.state.context)),N}finally{fn(this,ga,oi).call(this,{type:"error",error:N})}}finally{xe(this,Nn).runNext(this)}}},ma=new WeakMap,Nn=new WeakMap,Ao=new WeakMap,ga=new WeakSet,oi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),kn.batch(()=>{xe(this,ma).forEach(n=>{n.onMutationUpdate(t)}),xe(this,Nn).notify({mutation:this,type:"updated",action:t})})},gS);function VL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fa,Hs,Ld,vS,WL=(vS=class extends Rp{constructor(t={}){super();wt(this,Fa);wt(this,Hs);wt(this,Ld);this.config=t,ct(this,Fa,new Set),ct(this,Hs,new Map),ct(this,Ld,0)}build(t,r,n){const s=new zL({mutationCache:this,mutationId:++gf(this,Ld)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){xe(this,Fa).add(t);const r=zf(t);if(typeof r=="string"){const n=xe(this,Hs).get(r);n?n.push(t):xe(this,Hs).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(xe(this,Fa).delete(t)){const r=zf(t);if(typeof r=="string"){const n=xe(this,Hs).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&xe(this,Hs).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=zf(t);if(typeof r=="string"){const n=xe(this,Hs).get(r),s=n==null?void 0:n.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=zf(t);if(typeof r=="string"){const s=(n=xe(this,Hs).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){kn.batch(()=>{xe(this,Fa).forEach(t=>{this.notify({type:"removed",mutation:t})}),xe(this,Fa).clear(),xe(this,Hs).clear()})}getAll(){return Array.from(xe(this,Fa))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>H_(r,n))}findAll(t={}){return this.getAll().filter(r=>H_(t,r))}notify(t){kn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return kn.batch(()=>Promise.all(t.map(r=>r.continue().catch(zs))))}},Fa=new WeakMap,Hs=new WeakMap,Ld=new WeakMap,vS);function zf(e){var t;return(t=e.options.scope)==null?void 0:t.id}function K_(e){return{onFetch:(t,r)=>{var d,f,h,p,x;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const v=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},_=eC(t.options,t.fetchOptions),w=async(y,S,E)=>{if(m)return Promise.reject();if(S==null&&y.pages.length)return Promise.resolve(y);const b=(()=>{const k={client:t.client,queryKey:t.queryKey,pageParam:S,direction:E?"backward":"forward",meta:t.options.meta};return v(k),k})(),j=await _(b),{maxPages:N}=t.options,R=E?RL:AL;return{pages:R(y.pages,j,N),pageParams:R(y.pageParams,S,N)}};if(s&&a.length){const y=s==="backward",S=y?HL:X_,E={pages:a,pageParams:o},C=S(n,E);l=await w(E,C,y)}else{const y=e??a.length;do{const S=c===0?o[0]??n.initialPageParam:X_(n,l);if(c>0&&S==null)break;l=await w(l,S),c++}while(c<y)}return l};t.options.persister?t.fetchFn=()=>{var m,v;return(v=(m=t.options).persister)==null?void 0:v.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function X_(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function HL(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var gr,yi,wi,tc,rc,_i,nc,sc,xS,GL=(xS=class{constructor(e={}){wt(this,gr);wt(this,yi);wt(this,wi);wt(this,tc);wt(this,rc);wt(this,_i);wt(this,nc);wt(this,sc);ct(this,gr,e.queryCache||new UL),ct(this,yi,e.mutationCache||new WL),ct(this,wi,e.defaultOptions||{}),ct(this,tc,new Map),ct(this,rc,new Map),ct(this,_i,0)}mount(){gf(this,_i)._++,xe(this,_i)===1&&(ct(this,nc,tC.subscribe(async e=>{e&&(await this.resumePausedMutations(),xe(this,gr).onFocus())})),ct(this,sc,g0.subscribe(async e=>{e&&(await this.resumePausedMutations(),xe(this,gr).onOnline())})))}unmount(){var e,t;gf(this,_i)._--,xe(this,_i)===0&&((e=xe(this,nc))==null||e.call(this),ct(this,nc,void 0),(t=xe(this,sc))==null||t.call(this),ct(this,sc,void 0))}isFetching(e){return xe(this,gr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return xe(this,yi).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=xe(this,gr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=xe(this,gr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Bv(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return xe(this,gr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=xe(this,gr).get(n.queryHash),a=s==null?void 0:s.state.data,o=EL(t,a);if(o!==void 0)return xe(this,gr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return kn.batch(()=>xe(this,gr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=xe(this,gr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=xe(this,gr);kn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=xe(this,gr);return kn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=kn.batch(()=>xe(this,gr).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(zs).catch(zs)}invalidateQueries(e,t={}){return kn.batch(()=>(xe(this,gr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=kn.batch(()=>xe(this,gr).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(zs)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(zs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=xe(this,gr).build(this,t);return r.isStaleByTime(Bv(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(zs).catch(zs)}fetchInfiniteQuery(e){return e.behavior=K_(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(zs).catch(zs)}ensureInfiniteQueryData(e){return e.behavior=K_(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return g0.isOnline()?xe(this,yi).resumePausedMutations():Promise.resolve()}getQueryCache(){return xe(this,gr)}getMutationCache(){return xe(this,yi)}getDefaultOptions(){return xe(this,wi)}setDefaultOptions(e){ct(this,wi,e)}setQueryDefaults(e,t){xe(this,tc).set(gd(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...xe(this,tc).values()],r={};return t.forEach(n=>{vd(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){xe(this,rc).set(gd(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...xe(this,rc).values()],r={};return t.forEach(n=>{vd(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...xe(this,wi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=q1(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===K1&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...xe(this,wi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){xe(this,gr).clear(),xe(this,yi).clear()}},gr=new WeakMap,yi=new WeakMap,wi=new WeakMap,tc=new WeakMap,rc=new WeakMap,_i=new WeakMap,nc=new WeakMap,sc=new WeakMap,xS),qL=g.createContext(void 0),KL=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(qL.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xd(){return xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xd.apply(this,arguments)}var Ni;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ni||(Ni={}));const Y_="popstate";function XL(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:o,hash:l}=n.location;return Uv("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:oC(s)}return JL(t,r,null,e)}function Rr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function iC(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function YL(){return Math.random().toString(36).substr(2,8)}function J_(e,t){return{usr:e.state,key:e.key,idx:t}}function Uv(e,t,r,n){return r===void 0&&(r=null),xd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Mc(t):t,{state:r,key:t&&t.key||n||YL()})}function oC(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Mc(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function JL(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=Ni.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(xd({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Ni.Pop;let v=d(),_=v==null?null:v-u;u=v,c&&c({action:l,location:m.location,delta:_})}function h(v,_){l=Ni.Push;let w=Uv(m.location,v,_);u=d()+1;let y=J_(w,u),S=m.createHref(w);try{o.pushState(y,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(S)}a&&c&&c({action:l,location:m.location,delta:1})}function p(v,_){l=Ni.Replace;let w=Uv(m.location,v,_);u=d();let y=J_(w,u),S=m.createHref(w);o.replaceState(y,"",S),a&&c&&c({action:l,location:m.location,delta:0})}function x(v){let _=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof v=="string"?v:oC(v);return w=w.replace(/ $/,"%20"),Rr(_,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,_)}let m={get action(){return l},get location(){return e(s,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Y_,f),c=v,()=>{s.removeEventListener(Y_,f),c=null}},createHref(v){return t(s,v)},createURL:x,encodeLocation(v){let _=x(v);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:p,go(v){return o.go(v)}};return m}var Q_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Q_||(Q_={}));function QL(e,t,r){return r===void 0&&(r="/"),ZL(e,t,r,!1)}function ZL(e,t,r,n){let s=typeof t=="string"?Mc(t):t,a=uC(s.pathname||"/",r);if(a==null)return null;let o=lC(e);e6(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=d6(a);l=c6(o[c],u,n)}return l}function lC(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Rr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Io([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(Rr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),lC(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:o6(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of cC(a.path))s(a,o,c)}),t}function cC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=cC(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function e6(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:l6(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const t6=/^:[\w-]+$/,r6=3,n6=2,s6=1,a6=10,i6=-2,Z_=e=>e==="*";function o6(e,t){let r=e.split("/"),n=r.length;return r.some(Z_)&&(n+=i6),t&&(n+=n6),r.filter(s=>!Z_(s)).reduce((s,a)=>s+(t6.test(a)?r6:a===""?s6:a6),n)}function l6(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function c6(e,t,r){let{routesMeta:n}=e,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=eb({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=eb({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Io([a,f.pathname]),pathnameBase:m6(Io([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Io([a,f.pathnameBase]))}return o}function eb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=u6(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=l[f]||"";o=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}const x=l[f];return p&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function u6(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),iC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function d6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return iC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function uC(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function f6(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Mc(e):e;return{pathname:r?r.startsWith("/")?r:h6(r,t):t,search:g6(n),hash:v6(s)}}function h6(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function tg(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function p6(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function dC(e,t){let r=p6(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function fC(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Mc(e):(s=xd({},e),Rr(!s.pathname||!s.pathname.includes("?"),tg("?","pathname","search",s)),Rr(!s.pathname||!s.pathname.includes("#"),tg("#","pathname","hash",s)),Rr(!s.search||!s.search.includes("#"),tg("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=f6(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Io=e=>e.join("/").replace(/\/\/+/g,"/"),m6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),g6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,v6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function x6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const hC=["post","put","patch","delete"];new Set(hC);const y6=["get",...hC];new Set(y6);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yd(){return yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yd.apply(this,arguments)}const X1=g.createContext(null),w6=g.createContext(null),Yd=g.createContext(null),Pp=g.createContext(null),Qo=g.createContext({outlet:null,matches:[],isDataRoute:!1}),pC=g.createContext(null);function Jd(){return g.useContext(Pp)!=null}function Qd(){return Jd()||Rr(!1),g.useContext(Pp).location}function mC(e){g.useContext(Yd).static||g.useLayoutEffect(e)}function Zd(){let{isDataRoute:e}=g.useContext(Qo);return e?P6():_6()}function _6(){Jd()||Rr(!1);let e=g.useContext(X1),{basename:t,future:r,navigator:n}=g.useContext(Yd),{matches:s}=g.useContext(Qo),{pathname:a}=Qd(),o=JSON.stringify(dC(s,r.v7_relativeSplatPath)),l=g.useRef(!1);return mC(()=>{l.current=!0}),g.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=fC(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Io([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,a,e])}function b6(e,t){return S6(e,t)}function S6(e,t,r,n){Jd()||Rr(!1);let{navigator:s}=g.useContext(Yd),{matches:a}=g.useContext(Qo),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Qd(),d;if(t){var f;let v=typeof t=="string"?Mc(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||Rr(!1),d=v}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=QL(e,{pathname:p}),m=T6(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Io([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Io([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return t&&m?g.createElement(Pp.Provider,{value:{location:yd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ni.Pop}},m):m}function E6(){let e=O6(),t=x6(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:s},r):null,null)}const N6=g.createElement(E6,null);class j6 extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?g.createElement(Qo.Provider,{value:this.props.routeContext},g.createElement(pC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function C6(e){let{routeContext:t,match:r,children:n}=e,s=g.useContext(X1);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(Qo.Provider,{value:t},n)}function T6(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Rr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,x=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,x=!1,m=null,v=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,m=f.route.errorElement||N6,c&&(u<0&&h===0?(x=!0,v=null):u===h&&(x=!0,v=f.route.hydrateFallbackElement||null)));let _=t.concat(o.slice(0,h+1)),w=()=>{let y;return p?y=m:x?y=v:f.route.Component?y=g.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,g.createElement(C6,{match:f,routeContext:{outlet:d,matches:_,isDataRoute:r!=null},children:y})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?g.createElement(j6,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:w(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):w()},null)}var gC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(gC||{}),v0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(v0||{});function k6(e){let t=g.useContext(X1);return t||Rr(!1),t}function A6(e){let t=g.useContext(w6);return t||Rr(!1),t}function R6(e){let t=g.useContext(Qo);return t||Rr(!1),t}function vC(e){let t=R6(),r=t.matches[t.matches.length-1];return r.route.id||Rr(!1),r.route.id}function O6(){var e;let t=g.useContext(pC),r=A6(v0.UseRouteError),n=vC(v0.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function P6(){let{router:e}=k6(gC.UseNavigateStable),t=vC(v0.UseNavigateStable),r=g.useRef(!1);return mC(()=>{r.current=!0}),g.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,yd({fromRouteId:t},a)))},[e,t])}function I6(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function zv(e){let{to:t,replace:r,state:n,relative:s}=e;Jd()||Rr(!1);let{future:a,static:o}=g.useContext(Yd),{matches:l}=g.useContext(Qo),{pathname:c}=Qd(),u=Zd(),d=fC(t,dC(l,a.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return g.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function Ln(e){Rr(!1)}function D6(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ni.Pop,navigator:a,static:o=!1,future:l}=e;Jd()&&Rr(!1);let c=t.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:a,static:o,future:yd({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=Mc(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:x="default"}=n,m=g.useMemo(()=>{let v=uC(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:x},navigationType:s}},[c,d,f,h,p,x,s]);return m==null?null:g.createElement(Yd.Provider,{value:u},g.createElement(Pp.Provider,{children:r,value:m}))}function F6(e){let{children:t,location:r}=e;return b6(Vv(t),r)}new Promise(()=>{});function Vv(e,t){t===void 0&&(t=[]);let r=[];return g.Children.forEach(e,(n,s)=>{if(!g.isValidElement(n))return;let a=[...t,s];if(n.type===g.Fragment){r.push.apply(r,Vv(n.props.children,a));return}n.type!==Ln&&Rr(!1),!n.props.index||!n.props.children||Rr(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Vv(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const L6="6";try{window.__reactRouterVersion=L6}catch{}const M6="startTransition",tb=Dx[M6];function B6(e){let{basename:t,children:r,future:n,window:s}=e,a=g.useRef();a.current==null&&(a.current=XL({window:s,v5Compat:!0}));let o=a.current,[l,c]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=g.useCallback(f=>{u&&tb?tb(()=>c(f)):c(f)},[c,u]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.useEffect(()=>I6(n),[n]),g.createElement(D6,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}var rb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(rb||(rb={}));var nb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(nb||(nb={}));var Y1={},x0={},Wv=function(e,t){return Wv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Wv(e,t)};function xC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Wv(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ss=function(){return Ss=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Ss.apply(this,arguments)};function ro(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function yC(e,t,r,n){var s=arguments.length,a=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(s<3?o(a):s>3?o(t,r,a):o(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a}function wC(e,t){return function(r,n){t(r,n,e)}}function _C(e,t,r,n,s,a){function o(_){if(_!==void 0&&typeof _!="function")throw new TypeError("Function expected");return _}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,p=r.length-1;p>=0;p--){var x={};for(var m in n)x[m]=m==="access"?{}:n[m];for(var m in n.access)x.access[m]=n.access[m];x.addInitializer=function(_){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(_||null))};var v=(0,r[p])(l==="accessor"?{get:d.get,set:d.set}:d[c],x);if(l==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(f=o(v.get))&&(d.get=f),(f=o(v.set))&&(d.set=f),(f=o(v.init))&&s.unshift(f)}else(f=o(v))&&(l==="field"?s.unshift(f):d[c]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function bC(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function SC(e){return typeof e=="symbol"?e:"".concat(e)}function EC(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function NC(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ue(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function jC(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(a=u[0]&2?s.return:u[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,u[1])).done)return a;switch(s=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],s=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Ip=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function CC(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ip(t,e,r)}function y0(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function J1(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,a=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)a.push(s.value)}catch(l){o={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function TC(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(J1(arguments[t]));return e}function kC(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var a=arguments[t],o=0,l=a.length;o<l;o++,s++)n[s]=a[o];return n}function Q1(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function vc(e){return this instanceof vc?(this.v=e,this):new vc(e)}function AC(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(p){return function(x){return Promise.resolve(x).then(p,f)}}function l(p,x){n[p]&&(s[p]=function(m){return new Promise(function(v,_){a.push([p,m,v,_])>1||c(p,m)})},x&&(s[p]=x(s[p])))}function c(p,x){try{u(n[p](x))}catch(m){h(a[0][3],m)}}function u(p){p.value instanceof vc?Promise.resolve(p.value.v).then(d,f):h(a[0][2],p)}function d(p){c("next",p)}function f(p){c("throw",p)}function h(p,x){p(x),a.shift(),a.length&&c(a[0][0],a[0][1])}}function RC(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,a){t[s]=e[s]?function(o){return(r=!r)?{value:vc(e[s](o)),done:!1}:a?a(o):o}:a}}function OC(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof y0=="function"?y0(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(o){return new Promise(function(l,c){o=e[a](o),s(l,c,o.done,o.value)})}}function s(a,o,l,c){Promise.resolve(c).then(function(u){a({value:u,done:l})},o)}}function PC(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var $6=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Hv=function(e){return Hv=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Hv(e)};function IC(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Hv(e),n=0;n<r.length;n++)r[n]!=="default"&&Ip(t,e,r[n]);return $6(t,e),t}function DC(e){return e&&e.__esModule?e:{default:e}}function FC(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function LC(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function MC(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function BC(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var U6=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function $C(e){function t(a){e.error=e.hasError?new U6(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function UC(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,a,o){return n?t?".jsx":".js":s&&(!a||!o)?r:s+a+"."+o.toLowerCase()+"js"}):e}const z6={__extends:xC,__assign:Ss,__rest:ro,__decorate:yC,__param:wC,__esDecorate:_C,__runInitializers:bC,__propKey:SC,__setFunctionName:EC,__metadata:NC,__awaiter:Ue,__generator:jC,__createBinding:Ip,__exportStar:CC,__values:y0,__read:J1,__spread:TC,__spreadArrays:kC,__spreadArray:Q1,__await:vc,__asyncGenerator:AC,__asyncDelegator:RC,__asyncValues:OC,__makeTemplateObject:PC,__importStar:IC,__importDefault:DC,__classPrivateFieldGet:FC,__classPrivateFieldSet:LC,__classPrivateFieldIn:MC,__addDisposableResource:BC,__disposeResources:$C,__rewriteRelativeImportExtension:UC},V6=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:BC,get __assign(){return Ss},__asyncDelegator:RC,__asyncGenerator:AC,__asyncValues:OC,__await:vc,__awaiter:Ue,__classPrivateFieldGet:FC,__classPrivateFieldIn:MC,__classPrivateFieldSet:LC,__createBinding:Ip,__decorate:yC,__disposeResources:$C,__esDecorate:_C,__exportStar:CC,__extends:xC,__generator:jC,__importDefault:DC,__importStar:IC,__makeTemplateObject:PC,__metadata:NC,__param:wC,__propKey:SC,__read:J1,__rest:ro,__rewriteRelativeImportExtension:UC,__runInitializers:bC,__setFunctionName:EC,__spread:TC,__spreadArray:Q1,__spreadArrays:kC,__values:y0,default:z6},Symbol.toStringTag,{value:"Module"})),W6=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let Dp=class extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}},zC=class extends Dp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Gv=class extends Dp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},qv=class extends Dp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var w0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(w0||(w0={}));class H6{constructor(t,{headers:r={},customFetch:n,region:s=w0.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=W6(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ue(this,arguments,void 0,function*(r,n={}){var s;let a,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const x=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,x.searchParams.set("forceFunctionRegion",p));let m;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(h["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(h["Content-Type"]="application/json",m=JSON.stringify(u)):m=u;let v=d;f&&(o=new AbortController,a=setTimeout(()=>o.abort(),f),d?(v=o.signal,d.addEventListener("abort",()=>o.abort())):v=o.signal);const _=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:m,signal:v}).catch(E=>{throw new zC(E)}),w=_.headers.get("x-relay-error");if(w&&w==="true")throw new Gv(_);if(!_.ok)throw new qv(_);let y=((s=_.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return y==="application/json"?S=yield _.json():y==="application/octet-stream"||y==="application/pdf"?S=yield _.blob():y==="text/event-stream"?S=_:y==="multipart/form-data"?S=yield _.formData():S=yield _.text(),{data:S,error:null,response:_}}catch(l){return{data:null,error:l,response:l instanceof qv||l instanceof Gv?l.context:void 0}}finally{a&&clearTimeout(a)}})}}const G6=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return w0},FunctionsClient:H6,FunctionsError:Dp,FunctionsFetchError:zC,FunctionsHttpError:qv,FunctionsRelayError:Gv},Symbol.toStringTag,{value:"Module"})),VC=Md(G6);var vn={};const Bc=Md(V6);var Vf={},Wf={},Hf={},Gf={},qf={},Kf={},sb;function WC(){if(sb)return Kf;sb=1,Object.defineProperty(Kf,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Kf.default=e,Kf}var ab;function HC(){if(ab)return qf;ab=1,Object.defineProperty(qf,"__esModule",{value:!0});const t=Bc.__importDefault(WC());let r=class{constructor(s){var a,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,f,h;let p=null,x=null,m=null,v=c.status,_=c.statusText;if(c.ok){if(this.method!=="HEAD"){const E=await c.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?x=E:x=JSON.parse(E))}const y=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),S=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");y&&S&&S.length>1&&(m=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(p={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,m=null,v=406,_="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const y=await c.text();try{p=JSON.parse(y),Array.isArray(p)&&c.status===404&&(x=[],p=null,v=200,_="OK")}catch{c.status===404&&y===""?(v=204,_="No Content"):p={message:y}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,v=200,_="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:x,count:m,status:v,statusText:_}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,f,h,p,x;let m="";const v=c==null?void 0:c.cause;if(v){const _=(u=v==null?void 0:v.message)!==null&&u!==void 0?u:"",w=(d=v==null?void 0:v.code)!==null&&d!==void 0?d:"";m=`${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"FetchError"}: ${c==null?void 0:c.message}`,m+=`

Caused by: ${(h=v==null?void 0:v.name)!==null&&h!==void 0?h:"Error"}: ${_}`,w&&(m+=` (${w})`),v!=null&&v.stack&&(m+=`
${v.stack}`)}else m=(p=c==null?void 0:c.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(x=c==null?void 0:c.name)!==null&&x!==void 0?x:"FetchError"}: ${c==null?void 0:c.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(s,a)}returns(){return this}overrideTypes(){return this}};return qf.default=r,qf}var ib;function GC(){if(ib)return Gf;ib=1,Object.defineProperty(Gf,"__esModule",{value:!0});const t=Bc.__importDefault(HC());let r=class extends t.default{select(s){let a=!1;const o=(s??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:a=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,a,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:a=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const f=[s?"analyze":null,a?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};return Gf.default=r,Gf}var ob;function Z1(){if(ob)return Hf;ob=1,Object.defineProperty(Hf,"__esModule",{value:!0});const t=Bc.__importDefault(GC()),r=new RegExp("[,()]");let n=class extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${u}fts${d}.${o}`),this}match(a){return Object.entries(a).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(a,o,l){return this.url.searchParams.append(a,`not.${o}.${l}`),this}or(a,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${a})`),this}filter(a,o,l){return this.url.searchParams.append(a,`${o}.${l}`),this}};return Hf.default=n,Hf}var lb;function qC(){if(lb)return Wf;lb=1,Object.defineProperty(Wf,"__esModule",{value:!0});const t=Bc.__importDefault(Z1());let r=class{constructor(s,{headers:a={},schema:o,fetch:l}){this.url=s,this.headers=new Headers(a),this.schema=o,this.fetch=l}select(s,a){const{head:o=!1,count:l}=a??{},c=o?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:a,defaultToNull:o=!0}={}){var l;const c="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:a,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:a}={}){var o;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var a;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return Wf.default=r,Wf}var cb;function q6(){if(cb)return Vf;cb=1,Object.defineProperty(Vf,"__esModule",{value:!0});const e=Bc,t=e.__importDefault(qC()),r=e.__importDefault(Z1());let n=class KC{constructor(a,{headers:o={},schema:l,fetch:c}={}){this.url=a,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new KC(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:l=!1,get:c=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${a}`);let p;l||c?(f=l?"HEAD":"GET",Object.entries(o).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{h.searchParams.append(m,v)})):(f="POST",p=o);const x=new Headers(this.headers);return u&&x.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:x,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};return Vf.default=n,Vf}Object.defineProperty(vn,"__esModule",{value:!0});vn.PostgrestError=vn.PostgrestBuilder=vn.PostgrestTransformBuilder=vn.PostgrestFilterBuilder=vn.PostgrestQueryBuilder=vn.PostgrestClient=void 0;const $c=Bc,XC=$c.__importDefault(q6());vn.PostgrestClient=XC.default;const YC=$c.__importDefault(qC());vn.PostgrestQueryBuilder=YC.default;const JC=$c.__importDefault(Z1());vn.PostgrestFilterBuilder=JC.default;const QC=$c.__importDefault(GC());vn.PostgrestTransformBuilder=QC.default;const ZC=$c.__importDefault(HC());vn.PostgrestBuilder=ZC.default;const eT=$c.__importDefault(WC());vn.PostgrestError=eT.default;vn.default={PostgrestClient:XC.default,PostgrestQueryBuilder:YC.default,PostgrestFilterBuilder:JC.default,PostgrestTransformBuilder:QC.default,PostgrestBuilder:ZC.default,PostgrestError:eT.default};class tT{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const K6="2.87.1",X6=`realtime-js/${K6}`,rT="1.0.0",Y6="2.0.0",ub=rT,Kv=1e4,J6=1e3,Q6=100;var vo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(vo||(vo={}));var Cr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Cr||(Cr={}));var qs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(qs||(qs={}));var Xv;(function(e){e.websocket="websocket"})(Xv||(Xv={}));var xo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(xo||(xo={}));class Z6{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,a;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(a=t.join_ref)!==null&&a!==void 0?a:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let x=new DataView(p),m=0;x.setUint8(m++,this.KINDS.userBroadcastPush),x.setUint8(m++,c.length),x.setUint8(m++,l.length),x.setUint8(m++,o.length),x.setUint8(m++,u.length),x.setUint8(m++,f.length),x.setUint8(m++,r),Array.from(c,_=>x.setUint8(m++,_.charCodeAt(0))),Array.from(l,_=>x.setUint8(m++,_.charCodeAt(0))),Array.from(o,_=>x.setUint8(m++,_.charCodeAt(0))),Array.from(u,_=>x.setUint8(m++,_.charCodeAt(0))),Array.from(f,_=>x.setUint8(m++,_.charCodeAt(0)));var v=new Uint8Array(p.byteLength+n.byteLength);return v.set(new Uint8Array(p),0),v.set(new Uint8Array(n),p.byteLength),v.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,a,o,l,c]=n;return r({join_ref:s,ref:a,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+a));c=c+a;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,x={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(x.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class nT{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Vt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Vt||(Vt={}));const db=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=e8(o,e,t,s),a),{}):{}},e8=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,o=r[e];return a&&!n.includes(a)?sT(a,o):Yv(o)},sT=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return s8(t,r)}switch(e){case Vt.bool:return t8(t);case Vt.float4:case Vt.float8:case Vt.int2:case Vt.int4:case Vt.int8:case Vt.numeric:case Vt.oid:return r8(t);case Vt.json:case Vt.jsonb:return n8(t);case Vt.timestamp:return a8(t);case Vt.abstime:case Vt.date:case Vt.daterange:case Vt.int4range:case Vt.int8range:case Vt.money:case Vt.reltime:case Vt.text:case Vt.time:case Vt.timestamptz:case Vt.timetz:case Vt.tsrange:case Vt.tstzrange:return Yv(t);default:return Yv(t)}},Yv=e=>e,t8=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},r8=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},n8=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},s8=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>sT(t,l))}return e},a8=e=>typeof e=="string"?e.replace(" ","T"):e,aT=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class rg{constructor(t,r,n={},s=Kv){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Jv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Jv||(Jv={}));let iT=class kh{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kh.syncState(this.state,s,a,o),this.pendingDiffs.forEach(c=>{this.state=kh.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=kh.syncDiff(this.state,s,a,o),l())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),x=d.filter(v=>p.indexOf(v.presence_ref)<0),m=f.filter(v=>h.indexOf(v.presence_ref)<0);x.length>0&&(l[u]=x),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Qv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Qv||(Qv={}));var Vl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Vl||(Vl={}));var ha;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ha||(ha={}));const i8=Cr;let oT=class wu{constructor(t,r={config:{}},n){var s,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Cr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new rg(this,qs.join,this.params,this.timeout),this.rejoinTimer=new nT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Cr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Cr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Cr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Cr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Cr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qs.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new iT(this),this.broadcastEndpointURL=aT(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Cr.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Vl.PRESENCE]&&this.bindings[Vl.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(ha.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(ha.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(ha.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(x=m==null?void 0:m.length)!==null&&x!==void 0?x:0,_=[];for(let w=0;w<v;w++){const y=m[w],{filter:{event:S,schema:E,table:C,filter:b}}=y,j=p&&p[w];if(j&&j.event===S&&wu.isFilterValueEqual(j.schema,E)&&wu.isFilterValueEqual(j.table,C)&&wu.isFilterValueEqual(j.filter,b))_.push(Object.assign(Object.assign({},y),{id:j.id}));else{this.unsubscribe(),this.state=Cr.errored,t==null||t(ha.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,t&&t(ha.SUBSCRIBED);return}}).receive("error",p=>{this.state=Cr.errored,t==null||t(ha.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ha.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Cr.joined&&t===Vl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Cr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qs.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new rg(this,qs.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Cr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new rg(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Q6){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=qs;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var x,m,v;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((v=(m=p.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var x,m,v,_,w,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,E=(x=p.filter)===null||x===void 0?void 0:x.event;return S&&((m=r.ids)===null||m===void 0?void 0:m.includes(S))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const S=(w=(_=p==null?void 0:p.filter)===null||_===void 0?void 0:_.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return S==="*"||S===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:m,table:v,commit_timestamp:_,type:w,errors:y}=x;h=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:_,eventType:w,new:{},old:{},errors:y}),this._getPayloadRecords(x))}p.callback(h,n)})}_isClosed(){return this.state===Cr.closed}_isJoined(){return this.state===Cr.joined}_isJoining(){return this.state===Cr.joining}_isLeaving(){return this.state===Cr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&wu.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(qs.close,{},t)}_onError(t){this._on(qs.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Cr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=db(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=db(t.columns,t.old_record)),r}};const ng=()=>{},Xf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},o8=[1e3,2e3,5e3,1e4],l8=1e4,c8=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let u8=class{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Kv,this.transport=null,this.heartbeatIntervalMs=Xf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ng,this.ref=0,this.reconnectTimer=null,this.vsn=ub,this.logger=ng,this.conn=null,this.sendBuffer=[],this.serializer=new Z6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Xv.websocket}`,this.httpEndpoint=aT(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=tT.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case vo.connecting:return xo.Connecting;case vo.open:return xo.Open;case vo.closing:return xo.Closing;default:return xo.Closed}}isConnected(){return this.connectionState()===xo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new oT(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(J6,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Xf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:a,ref:o}=r,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===vo.open||this.conn.readyState===vo.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(qs.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([c8],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const a={access_token:r,version:X6};r&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(qs.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new nT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,a,o,l,c,u,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Kv,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Xf.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:ng,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:ub,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:x=>o8[x-1]||l8,this.vsn){case rT:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(x,m)=>m(JSON.stringify(x)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(x,m)=>m(JSON.parse(x));break;case Y6:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}};const d8=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:i8,get REALTIME_LISTEN_TYPES(){return Vl},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Qv},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Jv},get REALTIME_SUBSCRIBE_STATES(){return ha},RealtimeChannel:oT,RealtimeClient:u8,RealtimePresence:iT,WebSocketFactory:tT},Symbol.toStringTag,{value:"Module"})),lT=Md(d8);class ef extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function nr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class cT extends ef{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _0 extends ef{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const ey=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),f8=()=>Response,Zv=e=>{if(Array.isArray(e))return e.map(r=>Zv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=Zv(n)}),t},h8=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},p8=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),sg=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},m8=(e,t,r)=>Ue(void 0,void 0,void 0,function*(){const n=yield f8();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const a=e.status||500,o=(s==null?void 0:s.statusCode)||a+"";t(new cT(sg(s),a,o))}).catch(s=>{t(new _0(sg(s),s))}):t(new _0(sg(e),e))}),g8=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(h8(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function tf(e,t,r,n,s,a){return Ue(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,g8(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>m8(c,l,n))})})}function wd(e,t,r,n){return Ue(this,void 0,void 0,function*(){return tf(e,"GET",t,r,n)})}function Vs(e,t,r,n,s){return Ue(this,void 0,void 0,function*(){return tf(e,"POST",t,n,s,r)})}function ex(e,t,r,n,s){return Ue(this,void 0,void 0,function*(){return tf(e,"PUT",t,n,s,r)})}function v8(e,t,r,n){return Ue(this,void 0,void 0,function*(){return tf(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function ty(e,t,r,n,s){return Ue(this,void 0,void 0,function*(){return tf(e,"DELETE",t,n,s,r)})}class x8{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Ue(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nr(t))return{data:null,error:t};throw t}})}}var uT;class y8{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[uT]="BlobDownloadBuilder",this.promise=null}asStream(){return new x8(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ue(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nr(t))return{data:null,error:t};throw t}})}}uT=Symbol.toStringTag;const w8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _8{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=ey(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return Ue(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},fb),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),c&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?ex:Vs)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(nr(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ue(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:fb.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield ex(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(nr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ue(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield Vs(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new ef("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nr(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ue(this,void 0,void 0,function*(){try{return{data:yield Vs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nr(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ue(this,void 0,void 0,function*(){try{return{data:{path:(yield Vs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nr(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ue(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield Vs(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nr(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ue(this,void 0,void 0,function*(){try{const s=yield Vs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nr(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"",l=this._getFinalPath(t),c=()=>wd(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new y8(c,this.shouldThrowOnError)}info(t){return Ue(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield wd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Zv(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nr(n))return{data:null,error:n};throw n}})}exists(t){return Ue(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield v8(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nr(n)&&n instanceof _0){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield ty(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ue(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},w8),r),{prefix:t||""});return{data:yield Vs(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nr(s))return{data:null,error:s};throw s}})}listV2(t,r){return Ue(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Vs(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const dT="2.87.1",fT={"X-Client-Info":`storage-js/${dT}`};class b8{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const a=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fT),r),this.fetch=ey(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ue(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield wd(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}})}getBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield wd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}})}createBucket(t){return Ue(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Vs(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nr(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return Ue(this,void 0,void 0,function*(){try{return{data:yield ex(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Vs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield ty(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var _d=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function S8(e,t,r){const n=new URL(t,e);if(r)for(const[s,a]of Object.entries(r))a!==void 0&&n.searchParams.set(s,a);return n.toString()}async function E8(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function N8(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:a,headers:o}){const l=S8(e.baseUrl,n,s),c=await E8(e.auth),u=await t(l,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...c,...o},body:a?JSON.stringify(a):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const p=f?h:void 0,x=p==null?void 0:p.error;throw new _d((x==null?void 0:x.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function Yf(e){return e.join("")}var j8=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Yf(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Yf(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yf(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Yf(e.namespace)}`}),!0}catch(t){if(t instanceof _d&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof _d&&r.status===409)return;throw r}}};function ol(e){return e.join("")}var C8=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ol(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ol(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ol(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ol(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ol(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ol(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof _d&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof _d&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},T8=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=N8({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new j8(this.client,t),this.tableOps=new C8(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class hT{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fT),r),this.fetch=ey(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Vs(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}})}listBuckets(t){return Ue(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield wd(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield ty(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}})}from(t){if(!p8(t))throw new ef("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new T8({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Ue(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,o){const l=a[o];return typeof l!="function"?l:(...c)=>Ue(this,void 0,void 0,function*(){try{return{data:yield l.apply(a,c),error:null}}catch(u){if(n)throw u;return{data:null,error:u}}})}})}}const ry={"X-Client-Info":`storage-js/${dT}`,"Content-Type":"application/json"};class ny extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Un(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Ah extends ny{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pT extends ny{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var tx;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(tx||(tx={}));const Fp=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),k8=()=>Response,mT=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},A8=e=>Array.from(new Float32Array(e)),R8=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},hb=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),O8=(e,t,r)=>Ue(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";t(new Ah(hb(o),s,l))}).catch(()=>{const o=s+"",l=a.statusText||`HTTP ${s} error`;t(new Ah(l,s,o))});else{const o=s+"",l=a.statusText||`HTTP ${s} error`;t(new Ah(l,s,o))}}else t(new pT(hb(e),e))}),P8=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(mT(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function I8(e,t,r,n,s,a){return Ue(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,P8(t,n,s,a)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>O8(c,l,n))})})}function os(e,t,r,n,s){return Ue(this,void 0,void 0,function*(){return I8(e,"POST",t,n,s,r)})}class gT{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ry),r),this.fetch=Fp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ue(this,void 0,void 0,function*(){try{return{data:(yield os(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Un(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Ue(this,void 0,void 0,function*(){try{return{data:yield os(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Un(n))return{data:null,error:n};throw n}})}listIndexes(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield os(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Un(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Ue(this,void 0,void 0,function*(){try{return{data:(yield os(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Un(n))return{data:null,error:n};throw n}})}}class vT{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ry),r),this.fetch=Fp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ue(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield os(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Un(r))return{data:null,error:r};throw r}})}getVectors(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield os(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Un(r))return{data:null,error:r};throw r}})}listVectors(t){return Ue(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield os(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Un(r))return{data:null,error:r};throw r}})}queryVectors(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield os(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Un(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Ue(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield os(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Un(r))return{data:null,error:r};throw r}})}}class xT{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ry),r),this.fetch=Fp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:(yield os(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Un(r))return{data:null,error:r};throw r}})}getBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield os(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Un(r))return{data:null,error:r};throw r}})}listBuckets(){return Ue(this,arguments,void 0,function*(t={}){try{return{data:yield os(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Un(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:(yield os(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Un(r))return{data:null,error:r};throw r}})}}class yT extends xT{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new wT(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ue(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ue(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ue(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ue(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class wT extends gT{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ue(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ue(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ue(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ue(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new _T(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class _T extends vT{constructor(t,r,n,s,a){super(t,r,a),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ue(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ue(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ue(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ue(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ue(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class D8 extends b8{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new _8(this.url,this.headers,t,this.fetch)}get vectors(){return new yT(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new hT(this.url+"/iceberg",this.headers,this.fetch)}}const F8=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:hT,StorageApiError:cT,StorageClient:D8,StorageError:ef,StorageUnknownError:_0,StorageVectorsApiError:Ah,StorageVectorsClient:yT,StorageVectorsError:ny,get StorageVectorsErrorCode(){return tx},StorageVectorsUnknownError:pT,VectorBucketApi:xT,VectorBucketScope:wT,VectorDataApi:vT,VectorIndexApi:gT,VectorIndexScope:_T,isPlainObject:mT,isStorageError:nr,isStorageVectorsError:Un,normalizeToFloat32:A8,resolveFetch:Fp,resolveResponse:k8,validateVectorDimension:R8},Symbol.toStringTag,{value:"Module"})),L8=Md(F8);var bT={},Lp={};Object.defineProperty(Lp,"__esModule",{value:!0});Lp.version=void 0;Lp.version="2.87.1";(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=Lp;let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(bT);var ST={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=s=>s?(...a)=>s(...a):(...a)=>fetch(...a);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const n=(s,a,o)=>{const l=(0,e.resolveFetch)(o),c=(0,e.resolveHeadersConstructor)();return async(u,d)=>{var f;const h=(f=await a())!==null&&f!==void 0?f:s;let p=new c(d==null?void 0:d.headers);return p.has("apikey")||p.set("apikey",s),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),l(u,Object.assign(Object.assign({},d),{headers:p}))}};e.fetchWithAuth=n})(ST);var no={};Object.defineProperty(no,"__esModule",{value:!0});no.isBrowser=void 0;no.uuid=M8;no.ensureTrailingSlash=ET;no.applySettingDefaults=$8;no.validateSupabaseUrl=U8;function M8(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e=="x"?t:t&3|8;return r.toString(16)})}function ET(e){return e.endsWith("/")?e:e+"/"}const B8=()=>typeof window<"u";no.isBrowser=B8;function $8(e,t){var r,n;const{db:s,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function U8(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ET(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Mp={};const NT="2.87.1",xl=30*1e3,rx=3,ag=rx*xl,z8="http://localhost:9999",V8="supabase.auth.token",W8={"X-Client-Info":`gotrue-js/${NT}`},nx="X-Supabase-Api-Version",jT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},H8=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,G8=10*60*1e3;let xc=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function Ge(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let CT=class extends xc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function TT(e){return Ge(e)&&e.name==="AuthApiError"}let mi=class extends xc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},ei=class extends xc{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}},Mn=class extends ei{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function kT(e){return Ge(e)&&e.name==="AuthSessionMissingError"}let po=class extends ei{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},_u=class extends ei{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},bu=class extends ei{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function AT(e){return Ge(e)&&e.name==="AuthImplicitGrantRedirectError"}let sx=class extends ei{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},b0=class extends ei{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function Rh(e){return Ge(e)&&e.name==="AuthRetryableFetchError"}let ax=class extends ei{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function q8(e){return Ge(e)&&e.name==="AuthWeakPasswordError"}let S0=class extends ei{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const E0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),pb=` 	
\r=`.split(""),K8=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<pb.length;t+=1)e[pb[t].charCodeAt(0)]=-2;for(let t=0;t<E0.length;t+=1)e[E0[t].charCodeAt(0)]=t;return e})();function mb(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(E0[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(E0[n]),t.queuedBits-=6}}function RT(e,t,r){const n=K8[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function gb(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{J8(o,n,r)};for(let o=0;o<e.length;o+=1)RT(e.charCodeAt(o),s,a);return t.join("")}function X8(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Y8(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}X8(n,t)}}function J8(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Wl(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)RT(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Q8(e){const t=[];return Y8(e,r=>t.push(r)),new Uint8Array(t)}function Eo(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>mb(s,r,n)),mb(null,r,n),t.join("")}function Z8(e){return Math.round(Date.now()/1e3)+e}function eM(){return Symbol("auth-callback")}const Zr=()=>typeof window<"u"&&typeof document<"u",co={tested:!1,writable:!1},OT=()=>{if(!Zr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(co.tested)return co.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),co.tested=!0,co.writable=!0}catch{co.tested=!0,co.writable=!1}return co.writable};function tM(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const PT=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),rM=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",yl=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},uo=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Qr=async(e,t)=>{await e.removeItem(t)};class Bp{constructor(){this.promise=new Bp.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Bp.promiseConstructor=Promise;function ig(e){const t=e.split(".");if(t.length!==3)throw new S0("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!H8.test(t[n]))throw new S0("JWT not in base64url format");return{header:JSON.parse(gb(t[0])),payload:JSON.parse(gb(t[1])),signature:Wl(t[2]),raw:{header:t[0],payload:t[1]}}}async function nM(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function sM(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){s(o);return}}})()})}function aM(e){return("0"+e.toString(16)).substr(-2)}function iM(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,aM).join("")}async function oM(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function lM(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await oM(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ll(e,t,r=!1){const n=iM();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await yl(e,`${t}-code-verifier`,s);const a=await lM(n);return[a,n===a?"plain":"s256"]}const cM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function uM(e){const t=e.headers.get(nx);if(!t||!t.match(cM))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function dM(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function fM(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const hM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function cl(e){if(!hM.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function og(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function pM(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function vb(e){return JSON.parse(JSON.stringify(e))}const mo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mM=[502,503,504];async function xb(e){var t;if(!rM(e))throw new b0(mo(e),0);if(mM.includes(e.status))throw new b0(mo(e),e.status);let r;try{r=await e.json()}catch(a){throw new mi(mo(a),a)}let n;const s=uM(e);if(s&&s.getTime()>=jT["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new ax(mo(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Mn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new ax(mo(r),e.status,r.weak_password.reasons);throw new CT(mo(r),e.status||500,n)}const gM=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ze(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[nx]||(a[nx]=jT["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await vM(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function vM(e,t,r,n,s,a){const o=gM(t,n,s,a);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new b0(mo(c),0)}if(l.ok||await xb(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await xb(c)}}function Bs(e){var t;let r=null;wM(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Z8(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function yb(e){const t=Bs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function gi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function xM(e){return{data:e,error:null}}function yM(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,o=ro(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function wb(e){return e}function wM(e){return e.access_token&&e.refresh_token&&e.expires_in}const Oh=["global","local","others"];let sy=class{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=PT(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Oh[0]){if(Oh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Oh.join(", ")}`);try{return await Ze(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:gi})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ro(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:yM,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ge(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ze(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:gi})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:wb});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const m=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(x.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ge(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){cl(t);try{return await Ze(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:gi})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){cl(t);try{return await Ze(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:gi})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){cl(t);try{return await Ze(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:gi})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){cl(t.userId);try{const{data:r,error:n}=await Ze(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _deleteFactor(t){cl(t.userId),cl(t.id);try{return{data:await Ze(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ze(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:wb});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const m=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(x.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ge(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Ze(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ze(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ze(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ze(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ze(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}}};function _b(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const go={debug:!!(globalThis&&OT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ay extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let IT=class extends ay{};class _M extends ay{}async function DT(e,t,r){go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),go.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{go.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw go.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new IT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(go.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const bb={};async function bM(e,t,r){var n;const s=(n=bb[e])!==null&&n!==void 0?n:Promise.resolve(),a=Promise.race([s.catch(()=>null),t>=0?new Promise((o,l)=>{setTimeout(()=>{l(new _M(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await r());return bb[e]=a.catch(async o=>{if(o&&o.isAcquireTimeout)return await s,null;throw o}),await a}function SM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function FT(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function EM(e){return parseInt(e,16)}function NM(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function jM(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=FT(e.address),x=d?`${d}://${n}`:n,m=e.statement?`${e.statement}
`:"",v=`${x} wants you to sign in with your Ethereum account:
${p}

${m}`;let _=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(s&&(_+=`
Expiration Time: ${s.toISOString()}`),l&&(_+=`
Not Before: ${l.toISOString()}`),c&&(_+=`
Request ID: ${c}`),u){let w=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);w+=`
- ${y}`}_+=w}return`${v}
${_}`}class Tr extends Error{constructor({message:t,code:r,cause:n,name:s}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=s??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class N0 extends Tr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function CM({error:e,options:t}){var r,n,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Tr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Tr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Tr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Tr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Tr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Tr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Tr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Tr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(LT(o)){if(a.rp.id!==o)return new Tr({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Tr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Tr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Tr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Tr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function TM({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Tr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Tr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(LT(n)){if(r.rpId!==n)return new Tr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Tr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Tr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Tr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class kM{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const AM=new kM;function RM(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=ro(e,["challenge","user","excludeCredentials"]),a=Wl(t).buffer,o=Object.assign(Object.assign({},r),{id:Wl(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:a,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Wl(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function OM(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ro(e,["challenge","allowCredentials"]),s=Wl(t).buffer,a=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Wl(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function PM(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Eo(new Uint8Array(e.response.attestationObject)),clientDataJSON:Eo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function IM(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Eo(new Uint8Array(s.authenticatorData)),clientDataJSON:Eo(new Uint8Array(s.clientDataJSON)),signature:Eo(new Uint8Array(s.signature)),userHandle:s.userHandle?Eo(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function LT(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Sb(){var e,t;return!!(Zr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function DM(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new N0("Browser returned unexpected credential type",t)}:{data:null,error:new N0("Empty credential response",t)}}catch(t){return{data:null,error:CM({error:t,options:e})}}}async function FM(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new N0("Browser returned unexpected credential type",t)}:{data:null,error:new N0("Empty credential response",t)}}catch(t){return{data:null,error:TM({error:t,options:e})}}}const LM={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},MM={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function j0(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const a in s){const o=s[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(t(o)){const l=n[a];t(l)?n[a]=j0(l,o):n[a]=j0(o)}else n[a]=o}return n}function BM(e,t){return j0(LM,e,t||{})}function $M(e,t){return j0(MM,e,t||{})}class UM{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},a){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=s??AM.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=BM(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:f}=await DM({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=$M(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:f}=await FM(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new mi("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!r)return{data:null,error:new xc("rpId is required for WebAuthn authentication")};try{if(!Sb())return{data:null,error:new mi("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:a});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new mi("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!r)return{data:null,error:new xc("rpId is required for WebAuthn registration")};try{if(!Sb())return{data:null,error:new mi("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:a});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new mi("Unexpected error in register",o)}}}}SM();const zM={url:z8,storageKey:V8,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:W8,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Eb(e,t,r){return await r()}const ul={};let iy=class ix{get jwks(){var t,r;return(r=(t=ul[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ul[this.storageKey]=Object.assign(Object.assign({},ul[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ul[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ul[this.storageKey]=Object.assign(Object.assign({},ul[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},zM),t);if(this.storageKey=a.storageKey,this.instanceID=(r=ix.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ix.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Zr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new sy({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=PT(a.fetch),this.lock=a.lock||Eb,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&Zr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=DT:this.lock=Eb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new UM(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:OT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_b(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=_b(this.memoryStorage)),Zr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${NT}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Zr()&&(r=tM(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Zr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),AT(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ge(r)?this._returnResult({error:r}):this._returnResult({error:new mi("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Bs}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await ll(this.storage,this.storageKey)),a=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:x},xform:Bs})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Bs})}else throw new _u("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return await Qr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(await Qr(this.storage,`${this.storageKey}-code-verifier`),Ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:l}=t;r=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:yb})}else if("phone"in t){const{phone:a,password:o,options:l}=t;r=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:yb})}else throw new _u("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const a=new po;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,a,o,l,c,u,d,f,h;let p,x;if("message"in t)p=t.message,x=t.signature;else{const{chain:m,wallet:v,statement:_,options:w}=t;let y;if(Zr())if(typeof v=="object")y=v;else{const N=window;if("ethereum"in N&&typeof N.ethereum=="object"&&"request"in N.ethereum&&typeof N.ethereum.request=="function")y=N.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=v}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),E=await y.request({method:"eth_requestAccounts"}).then(N=>N).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=FT(E[0]);let b=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!b){const N=await y.request({method:"eth_chainId"});b=EM(N)}const j={domain:S.host,address:C,statement:_,uri:S.href,version:"1",chainId:b,nonce:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=jM(j),x=await y.request({method:"personal_sign",params:[NM(p),C]})}try{const{data:m,error:v}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:x},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Bs});if(v)throw v;if(!m||!m.session||!m.user){const _=new po;return this._returnResult({data:{user:null,session:null},error:_})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:v})}catch(m){if(Ge(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,s,a,o,l,c,u,d,f,h,p;let x,m;if("message"in t)x=t.message,m=t.signature;else{const{chain:v,wallet:_,statement:w,options:y}=t;let S;if(Zr())if(typeof _=="object")S=_;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))S=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=_}const E=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const C=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),w?{statement:w}:null));let b;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")b=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)b=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in b&&"signature"in b&&(typeof b.signedMessage=="string"||b.signedMessage instanceof Uint8Array)&&b.signature instanceof Uint8Array)x=typeof b.signedMessage=="string"?b.signedMessage:new TextDecoder().decode(b.signedMessage),m=b.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${E.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(b=>`- ${b}`)]:[]].join(`
`);const C=await S.signMessage(new TextEncoder().encode(x),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=C}}try{const{data:v,error:_}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Eo(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Bs});if(_)throw _;if(!v||!v.session||!v.user){const w=new po;return this._returnResult({data:{user:null,session:null},error:w})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:_})}catch(v){if(Ge(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await uo(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:o}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Bs});if(await Qr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new po;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(await Qr(this.storage,`${this.storageKey}-code-verifier`),Ge(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:o}=t,l=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Bs}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new po;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ll(this.storage,this.storageKey));const{error:f}=await Ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new _u("You must provide either an email or phone number.")}catch(l){if(await Qr(this.storage,`${this.storageKey}-code-verifier`),Ge(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Bs});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(Ge(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,a,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await ll(this.storage,this.storageKey));const u=await Ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:xM});return!((a=u.data)===null||a===void 0)&&a.url&&Zr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Qr(this.storage,`${this.storageKey}-code-verifier`),Ge(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Mn;const{error:s}=await Ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Ge(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:o}=await Ze(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:o,error:l}=await Ze(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new _u("You must provide either an email or phone number and a type")}catch(r){if(Ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await uo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<ag:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await uo(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=og()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=pM(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:gi}):await this._useSession(async r=>{var n,s,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Mn}:await Ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:gi})})}catch(r){if(Ge(r))return kT(r)&&(await this._removeSession(),await Qr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new Mn;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ll(this.storage,this.storageKey));const{data:u,error:d}=await Ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:gi});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Qr(this.storage,`${this.storageKey}-code-verifier`),Ge(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Mn;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:o}=ig(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(Ge(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Mn;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Zr())throw new bu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new bu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new sx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new sx("No code detected.");const{data:w,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new bu("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=xl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const x=h-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,d);const{data:m,error:v}=await this._getUser(a);if(v)throw v;const _={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:_,redirectType:t.type},error:null})}catch(n){if(Ge(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await uo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({error:a});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(TT(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Qr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=eM(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ll(this.storage,this.storageKey,!0));try{return await Ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await Qr(this.storage,`${this.storageKey}-code-verifier`),Ge(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var o,l,c,u,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ze(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Zr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ge(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:a}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Bs}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new po}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(s){if(await Qr(this.storage,`${this.storageKey}-code-verifier`),Ge(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)throw o;return await Ze(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await sM(async s=>(s>0&&await nM(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Bs})),(s,a)=>{const o=200*Math.pow(2,s);return a&&Rh(a)&&Date.now()+o-n<xl})}catch(n){if(this._debug(r,"error",n),Ge(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Zr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await uo(this.storage,this.storageKey);if(s&&this.userStorage){let o=await uo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await yl(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:og()}else if(s&&!s.user&&!s.user){const o=await uo(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Qr(this.storage,this.storageKey+"-user"),await yl(this.storage,this.storageKey,s)):s.user=og()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ag;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${ag}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Rh(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Mn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Bp;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Mn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),Ge(a)){const o={data:null,error:a};return Rh(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Qr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await yl(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=vb(s);await yl(this.storage,this.storageKey,a)}else{const s=vb(r);await yl(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Qr(this.storage,this.storageKey),await Qr(this.storage,this.storageKey+"-code-verifier"),await Qr(this.storage,this.storageKey+"-user"),this.userStorage&&await Qr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Zr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),xl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/xl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${xl}ms, refresh threshold is ${rx} ticks`),s<=rx&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ay)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Zr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await ll(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?this._returnResult({data:null,error:a}):await Ze(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Ze(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?PM(t.webauthn.credential_response):IM(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await Ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:RM(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:OM(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=ig(n.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await Ze(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Mn})})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new Mn});const o=await Ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Zr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new Mn});const o=await Ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Zr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Ze(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Mn})})}catch(t){if(Ge(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await Ze(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Mn})})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+G8>s)return n;const{data:a,error:o}=await Ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:x}=await this.getSession();if(x||!p.session)return this._returnResult({data:null,error:x});n=p.session.access_token}const{header:s,payload:a,signature:o,raw:{header:l,payload:c}}=ig(n);r!=null&&r.allowExpired||dM(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:s,signature:o},error:null}}const d=fM(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,Q8(`${l}.${c}`)))throw new S0("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}};iy.nextInstanceID={};const VM=sy,WM=iy,HM=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:VM,AuthApiError:CT,AuthClient:WM,AuthError:xc,AuthImplicitGrantRedirectError:bu,AuthInvalidCredentialsError:_u,AuthInvalidJwtError:S0,AuthInvalidTokenResponseError:po,AuthPKCEGrantCodeExchangeError:sx,AuthRetryableFetchError:b0,AuthSessionMissingError:Mn,AuthUnknownError:mi,AuthWeakPasswordError:ax,CustomAuthError:ei,GoTrueAdminApi:sy,GoTrueClient:iy,NavigatorLockAcquireTimeoutError:IT,SIGN_OUT_SCOPES:Oh,isAuthApiError:TT,isAuthError:Ge,isAuthImplicitGrantRedirectError:AT,isAuthRetryableFetchError:Rh,isAuthSessionMissingError:kT,isAuthWeakPasswordError:q8,lockInternals:go,navigatorLock:DT,processLock:bM},Symbol.toStringTag,{value:"Module"})),MT=Md(HM);Object.defineProperty(Mp,"__esModule",{value:!0});Mp.SupabaseAuthClient=void 0;const GM=MT;class qM extends GM.AuthClient{constructor(t){super(t)}}Mp.SupabaseAuthClient=qM;Object.defineProperty(x0,"__esModule",{value:!0});const KM=VC,XM=vn,YM=lT,JM=L8,Jf=bT,QM=ST,Nb=no,ZM=Mp;let eB=class{constructor(t,r,n){var s,a,o;this.supabaseUrl=t,this.supabaseKey=r;const l=(0,Nb.validateSupabaseUrl)(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:Jf.DEFAULT_DB_OPTIONS,realtime:Jf.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},Jf.DEFAULT_AUTH_OPTIONS),{storageKey:c}),global:Jf.DEFAULT_GLOBAL_OPTIONS},d=(0,Nb.applySettingDefaults)(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=(0,QM.fetchWithAuth)(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new XM.PostgrestClient(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new JM.StorageClient(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new KM.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,storageKey:o,flowType:l,lock:c,debug:u,throwOnError:d},f,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ZM.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),f),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,flowType:l,lock:c,debug:u,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new YM.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};x0.default=eB;(function(e){var t=al&&al.__createBinding||(Object.create?function(d,f,h,p){p===void 0&&(p=h);var x=Object.getOwnPropertyDescriptor(f,h);(!x||("get"in x?!f.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(d,p,x)}:function(d,f,h,p){p===void 0&&(p=h),d[p]=f[h]}),r=al&&al.__exportStar||function(d,f){for(var h in d)h!=="default"&&!Object.prototype.hasOwnProperty.call(f,h)&&t(f,d,h)},n=al&&al.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const s=n(x0);r(MT,e);var a=vn;Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var o=VC;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),r(lT,e);var l=x0;Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return n(l).default}});const c=(d,f,h)=>new s.default(d,f,h);e.createClient=c;function u(){if(typeof window<"u"||typeof process>"u")return!1;const d=process.version;if(d==null)return!1;const f=d.match(/^v(\d+)\./);return f?parseInt(f[1],10)<=18:!1}u()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Y1);const BT=Ax(Y1),tB=yS({__proto__:null,default:BT},[Y1]),{PostgrestError:zJ,FunctionsHttpError:VJ,FunctionsFetchError:WJ,FunctionsRelayError:HJ,FunctionsError:GJ,FunctionRegion:qJ,SupabaseClient:KJ,createClient:rB,GoTrueAdminApi:XJ,GoTrueClient:YJ,AuthAdminApi:JJ,AuthClient:QJ,navigatorLock:ZJ,NavigatorLockAcquireTimeoutError:eQ,lockInternals:tQ,processLock:rQ,SIGN_OUT_SCOPES:nQ,AuthError:sQ,AuthApiError:aQ,AuthUnknownError:iQ,CustomAuthError:oQ,AuthSessionMissingError:lQ,AuthInvalidTokenResponseError:cQ,AuthInvalidCredentialsError:uQ,AuthImplicitGrantRedirectError:dQ,AuthPKCEGrantCodeExchangeError:fQ,AuthRetryableFetchError:hQ,AuthWeakPasswordError:pQ,AuthInvalidJwtError:mQ,isAuthError:gQ,isAuthApiError:vQ,isAuthSessionMissingError:xQ,isAuthImplicitGrantRedirectError:yQ,isAuthRetryableFetchError:wQ,isAuthWeakPasswordError:_Q,RealtimePresence:bQ,RealtimeChannel:SQ,RealtimeClient:EQ,REALTIME_LISTEN_TYPES:NQ,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:jQ,REALTIME_PRESENCE_LISTEN_EVENTS:CQ,REALTIME_SUBSCRIBE_STATES:TQ,REALTIME_CHANNEL_STATES:kQ}=BT||tB,nB="https://sbgbtciyofycwhmoxjgi.supabase.co",sB="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNiZ2J0Y2l5b2Z5Y3dobW94amdpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU2Mzk3OTgsImV4cCI6MjA4MTIxNTc5OH0.hM-zDhm38DVpTk4szZdjJQrVFa__Ea_xTnf_1YKvCR8",re=rB(nB,sB,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),$T=g.createContext(void 0);function aB({children:e}){const[t,r]=g.useState(null),[n,s]=g.useState(null),[a,o]=g.useState(null),[l,c]=g.useState(null),[u,d]=g.useState(!0),f=async y=>{try{const{data:S}=await re.from("profiles").select("*").eq("user_id",y).single();S&&o(S);const{data:E}=await re.from("user_roles").select("role").eq("user_id",y).single();E&&c(E.role)}catch(S){console.error("Error fetching user data:",S)}};g.useEffect(()=>{let y=!1;const{data:{subscription:S}}=re.auth.onAuthStateChange(async(E,C)=>{s(C),r((C==null?void 0:C.user)??null),C!=null&&C.user?(setTimeout(()=>{f(C.user.id)},0),E==="SIGNED_IN"&&!y&&(y=!0,setTimeout(async()=>{try{let b="127.0.0.1";try{b=(await(await fetch("https://api.ipify.org?format=json")).json()).ip}catch{}await re.from("access_logs").insert({user_id:C.user.id,ip_address:b,user_agent:navigator.userAgent})}catch(b){console.error("Error logging access:",b)}},100))):(o(null),c(null)),E==="SIGNED_OUT"&&(o(null),c(null),y=!1)});return re.auth.getSession().then(({data:{session:E}})=>{s(E),r((E==null?void 0:E.user)??null),E!=null&&E.user&&f(E.user.id),d(!1)}),()=>S.unsubscribe()},[]);const h=async(y,S)=>{try{const E=`${y.toLowerCase().trim()}@almanager.local`,{error:C}=await re.auth.signInWithPassword({email:E,password:S});return C?C.message.includes("Invalid login credentials")?{error:new Error("Usurio ou senha incorretos")}:{error:new Error(C.message)}:{error:null}}catch(E){return{error:E}}},p=async()=>{await re.auth.signOut()},x=async()=>{if(t)try{let y="unknown";try{y=(await(await fetch("https://api.ipify.org?format=json")).json()).ip}catch{y="127.0.0.1"}await re.from("access_logs").insert({user_id:t.id,ip_address:y,user_agent:navigator.userAgent})}catch(y){console.error("Error logging access:",y)}},m=y=>{a&&o({...a,...y})},v=l==="admin_master",_=l==="casting_manager",w=v||_;return i.jsx($T.Provider,{value:{user:t,session:n,profile:a,role:l,isAdmin:v,isCastingManager:_,isAdminOrCasting:w,isLoading:u,signIn:h,signOut:p,logAccess:x,updateProfile:m},children:e})}function Pr(){const e=g.useContext($T);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const UT=g.createContext(void 0);function iB({children:e}){const[t,r]=g.useState(()=>typeof window<"u"&&localStorage.getItem("al-manager-theme")||"dark");g.useEffect(()=>{const s=document.documentElement;t==="dark"?(s.classList.add("dark"),s.classList.remove("light")):(s.classList.add("light"),s.classList.remove("dark")),localStorage.setItem("al-manager-theme",t)},[t]);const n=()=>{r(s=>s==="dark"?"light":"dark")};return i.jsx(UT.Provider,{value:{theme:t,toggleTheme:n},children:e})}function oB(){const e=g.useContext(UT);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e}const pu={site_name:"HOST MANAGER",site_subtitle:"Painel de Suporte",site_logo_url:"",site_background_url:"",primary_color:"red",custom_primary_color:"",font_family:"agrandir"},jb={red:{h:0,s:100,l:56},blue:{h:217,s:91,l:60},green:{h:142,s:76,l:50},purple:{h:270,s:91,l:60},orange:{h:25,s:95,l:55},cyan:{h:185,s:90,l:50},pink:{h:330,s:85,l:55},yellow:{h:45,s:100,l:50}},Cb={agrandir:"'Agrandir', 'Inter', sans-serif",inter:"'Inter', sans-serif",roboto:"'Roboto', sans-serif",poppins:"'Poppins', sans-serif",montserrat:"'Montserrat', sans-serif",opensans:"'Open Sans', sans-serif"},zT=g.createContext(void 0);function lB(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(!t)return null;let r=parseInt(t[1],16)/255,n=parseInt(t[2],16)/255,s=parseInt(t[3],16)/255;const a=Math.max(r,n,s),o=Math.min(r,n,s);let l=0,c=0;const u=(a+o)/2;if(a!==o){const d=a-o;switch(c=u>.5?d/(2-a-o):d/(a+o),a){case r:l=((n-s)/d+(n<s?6:0))/6;break;case n:l=((s-r)/d+2)/6;break;case s:l=((r-n)/d+4)/6;break}}return{h:Math.round(l*360),s:Math.round(c*100),l:Math.round(u*100)}}function cB({children:e}){const[t,r]=g.useState(pu),[n,s]=g.useState(!0),a=g.useCallback(c=>{const u=document.documentElement;let d=jb[c.primary_color]||jb.red;if(c.custom_primary_color){const x=lB(c.custom_primary_color);x&&(d=x)}u.style.setProperty("--primary",`${d.h} ${d.s}% ${d.l}%`),u.style.setProperty("--ring",`${d.h} ${d.s}% ${d.l}%`),u.style.setProperty("--sidebar-primary",`${d.h} ${d.s}% ${d.l}%`),u.style.setProperty("--sidebar-ring",`${d.h} ${d.s}% ${d.l}%`),u.style.setProperty("--neon-red",`${d.h} ${d.s}% ${d.l}%`);const h=d.l>50?10:98;u.style.setProperty("--primary-foreground",`0 0% ${h}%`);const p=Cb[c.font_family]||Cb.agrandir;u.style.setProperty("--font-sans",p),document.body.style.fontFamily=p,document.body.classList.add("theme-applied")},[]);g.useEffect(()=>{a(pu)},[a]);const o=g.useCallback(async()=>{try{const{data:c,error:u}=await re.from("system_configs").select("key, value").in("key",["site_name","site_subtitle","site_logo_url","site_background_url","primary_color","custom_primary_color","font_family"]);if(u)console.error("Error fetching site config:",u),a(pu);else if(c){const d={...pu};c.forEach(f=>{f.key in d&&(d[f.key]=f.value)}),r(d),a(d)}}catch(c){console.error("Error fetching site config:",c),a(pu)}finally{s(!1)}},[a]),l=async()=>{await o()};return g.useEffect(()=>{o();const c=re.channel("system_configs_site").on("postgres_changes",{event:"*",schema:"public",table:"system_configs"},u=>{if(u.new&&typeof u.new=="object"&&"key"in u.new){const d=u.new.key;["site_name","site_subtitle","site_logo_url","site_background_url","primary_color","custom_primary_color","font_family"].includes(d)&&o()}}).subscribe();return()=>{re.removeChannel(c)}},[o]),i.jsx(zT.Provider,{value:{config:t,isLoading:n,refreshConfig:l},children:e})}function $p(){const e=g.useContext(zT);if(e===void 0)throw new Error("useSiteConfig must be used within a SiteConfigProvider");return e}const VT=g.createContext(void 0);function uB({children:e}){const[t,r]=g.useState("default"),[n,s]=g.useState(!0),a=g.useCallback(async()=>{try{const{data:l,error:c}=await re.from("system_configs").select("value").eq("key","site_effect").maybeSingle();if(c){console.error("Error fetching effect:",c),r("default"),s(!1);return}l!=null&&l.value?r(l.value):r("default")}catch(l){console.error("Error fetching effect:",l),r("default")}finally{s(!1)}},[]);g.useEffect(()=>{a();const l=re.channel("system_configs_effects").on("postgres_changes",{event:"*",schema:"public",table:"system_configs",filter:"key=eq.site_effect"},c=>{c.new&&typeof c.new=="object"&&"value"in c.new&&r(c.new.value)}).subscribe();return()=>{re.removeChannel(l)}},[a]);const o=async l=>{r(l);try{const{data:c}=await re.from("system_configs").select("id").eq("key","site_effect").maybeSingle();if(c){const{error:u}=await re.from("system_configs").update({value:l,updated_at:new Date().toISOString()}).eq("key","site_effect");if(u)throw u}else{const{error:u}=await re.from("system_configs").insert({key:"site_effect",value:l});if(u)throw u}}catch(c){console.error("Error saving effect:",c),a()}};return i.jsx(VT.Provider,{value:{effect:t,setEffect:o,isLoading:n,refetchEffect:a},children:e})}function oy(){const e=g.useContext(VT);if(e===void 0)throw new Error("useEffects must be used within an EffectsProvider");return e}function ly(){const{role:e,isLoading:t}=Pr(),[r,n]=g.useState({}),[s,a]=g.useState(!0),o=g.useCallback(async u=>{try{const{data:d,error:f}=await re.from("role_configs").select("permissions").eq("role_key",u).maybeSingle();if(f)throw f;if(d!=null&&d.permissions){const h=d.permissions,p={};Array.isArray(h)&&h.forEach(x=>{x&&typeof x=="object"&&"key"in x&&"enabled"in x&&(p[x.key]=x.enabled)}),n(p)}}catch(d){console.error("Error fetching permissions:",d)}finally{a(!1)}},[]);g.useEffect(()=>{if(t)return;if(!e){a(!1);return}o(e);const u=re.channel("permissions_changes").on("postgres_changes",{event:"*",schema:"public",table:"role_configs"},()=>{e&&o(e)}).subscribe();return()=>{re.removeChannel(u)}},[e,t,o]);const l=g.useCallback(u=>e==="admin_master"?!0:r[u]??!1,[r,e]),c=g.useCallback(()=>{e&&o(e)},[e,o]);return{permissions:r,hasPermission:l,isLoading:s,refetchPermissions:c}}function ca({children:e,requiredPermission:t}){const{user:r,isLoading:n,isAdmin:s,role:a}=Pr(),{hasPermission:o,isLoading:l}=ly();return n||l?i.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-background",children:[i.jsx("div",{className:"bg-nebula"}),i.jsx("div",{className:"grid-overlay"}),i.jsxs("div",{className:"flex flex-col items-center gap-4",children:[i.jsx(ot,{className:"w-8 h-8 animate-spin text-primary"}),i.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})]}):r?t&&!o(t)?i.jsx(zv,{to:"/dashboard",replace:!0}):i.jsx(i.Fragment,{children:e}):i.jsx(zv,{to:"/login",replace:!0})}const dB=Gd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),fe=g.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const o=n?uI:"button";return i.jsx(o,{className:Be(dB({variant:t,size:r,className:e})),ref:a,...s})});fe.displayName="Button";const Oe=g.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:Be("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Oe.displayName="Input";var fB="Label",WT=g.forwardRef((e,t)=>i.jsx(Ke.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));WT.displayName=fB;var HT=WT;const hB=Gd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ve=g.forwardRef(({className:e,...t},r)=>i.jsx(HT,{ref:r,className:Be(hB(),e),...t}));ve.displayName=HT.displayName;var St;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},e.find=(s,a)=>{for(const o of s)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(St||(St={}));var Tb;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Tb||(Tb={}));const Ve=St.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),di=e=>{switch(typeof e){case"undefined":return Ve.undefined;case"string":return Ve.string;case"number":return Number.isNaN(e)?Ve.nan:Ve.number;case"boolean":return Ve.boolean;case"function":return Ve.function;case"bigint":return Ve.bigint;case"symbol":return Ve.symbol;case"object":return Array.isArray(e)?Ve.array:e===null?Ve.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ve.promise:typeof Map<"u"&&e instanceof Map?Ve.map:typeof Set<"u"&&e instanceof Set?Ve.set:typeof Date<"u"&&e instanceof Date?Ve.date:Ve.object;default:return Ve.unknown}},Ee=St.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class fs extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(a){return a.message},n={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof fs))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,St.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];r[a]=r[a]||[],r[a].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}fs.create=e=>new fs(e);const ox=(e,t)=>{let r;switch(e.code){case Ee.invalid_type:e.received===Ve.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ee.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,St.jsonStringifyReplacer)}`;break;case Ee.unrecognized_keys:r=`Unrecognized key(s) in object: ${St.joinValues(e.keys,", ")}`;break;case Ee.invalid_union:r="Invalid input";break;case Ee.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${St.joinValues(e.options)}`;break;case Ee.invalid_enum_value:r=`Invalid enum value. Expected ${St.joinValues(e.options)}, received '${e.received}'`;break;case Ee.invalid_arguments:r="Invalid function arguments";break;case Ee.invalid_return_type:r="Invalid function return type";break;case Ee.invalid_date:r="Invalid date";break;case Ee.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:St.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ee.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ee.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ee.custom:r="Invalid input";break;case Ee.invalid_intersection_types:r="Intersection results could not be merged";break;case Ee.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ee.not_finite:r="Number must be finite";break;default:r=t.defaultError,St.assertNever(e)}return{message:r}};let pB=ox;function mB(){return pB}const gB=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,a=[...r,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:a,message:l}};function Fe(e,t){const r=mB(),n=gB({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===ox?void 0:ox].filter(s=>!!s)});e.common.issues.push(n)}class hs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return at;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const a=await s.key,o=await s.value;n.push({key:a,value:o})}return hs.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return at;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[a.value]=o.value)}return{status:t.value,value:n}}}const at=Object.freeze({status:"aborted"}),Su=e=>({status:"dirty",value:e}),Os=e=>({status:"valid",value:e}),kb=e=>e.status==="aborted",Ab=e=>e.status==="dirty",yc=e=>e.status==="valid",C0=e=>typeof Promise<"u"&&e instanceof Promise;var qe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(qe||(qe={}));class qi{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Rb=(e,t)=>{if(yc(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new fs(e.common.issues);return this._error=r,this._error}}};function mt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class yt{get description(){return this._def.description}_getType(t){return di(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:di(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new hs,ctx:{common:t.parent.common,data:t.data,parsedType:di(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(C0(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:di(t)},s=this._parseSync({data:t,path:n.path,parent:n});return Rb(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:di(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:r});return yc(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(s=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(a=>yc(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:di(t)},s=this._parse({data:t,path:n.path,parent:n}),a=await(C0(s)?s:Promise.resolve(s));return Rb(n,a)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const o=t(s),l=()=>a.addIssue({code:Ee.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new _c({schema:this,typeName:it.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ui.create(this,this._def)}nullable(){return bc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Sa.create(this)}promise(){return R0.create(this,this._def)}or(t){return k0.create([this,t],this._def)}and(t){return A0.create(this,t,this._def)}transform(t){return new _c({...mt(this._def),schema:this,typeName:it.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new cx({...mt(this._def),innerType:this,defaultValue:r,typeName:it.ZodDefault})}brand(){return new BB({typeName:it.ZodBranded,type:this,...mt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new ux({...mt(this._def),innerType:this,catchValue:r,typeName:it.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return cy.create(this,t)}readonly(){return dx.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const vB=/^c[^\s-]{8,}$/i,xB=/^[0-9a-z]+$/,yB=/^[0-9A-HJKMNP-TV-Z]{26}$/i,wB=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_B=/^[a-z0-9_-]{21}$/i,bB=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,SB=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,EB=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,NB="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let lg;const jB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,CB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,TB=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,kB=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,AB=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,RB=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,GT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",OB=new RegExp(`^${GT}$`);function qT(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function PB(e){return new RegExp(`^${qT(e)}$`)}function IB(e){let t=`${GT}T${qT(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function DB(e,t){return!!((t==="v4"||!t)&&jB.test(e)||(t==="v6"||!t)&&TB.test(e))}function FB(e,t){if(!bB.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function LB(e,t){return!!((t==="v4"||!t)&&CB.test(e)||(t==="v6"||!t)&&kB.test(e))}class ji extends yt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ve.string){const a=this._getOrReturnCtx(t);return Fe(a,{code:Ee.invalid_type,expected:Ve.string,received:a.parsedType}),at}const n=new hs;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),Fe(s,{code:Ee.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),Fe(s,{code:Ee.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?Fe(s,{code:Ee.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Fe(s,{code:Ee.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")EB.test(t.data)||(s=this._getOrReturnCtx(t,s),Fe(s,{validation:"email",code:Ee.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")lg||(lg=new RegExp(NB,"u")),lg.test(t.data)||(s=this._getOrReturnCtx(t,s),Fe(s,{validation:"emoji",code:Ee.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")wB.test(t.data)||(s=this._getOrReturnCtx(t,s),Fe(s,{validation:"uuid",code:Ee.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")_B.test(t.data)||(s=this._getOrReturnCtx(t,s),Fe(s,{validation:"nanoid",code:Ee.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")vB.test(t.data)||(s=this._getOrReturnCtx(t,s),Fe(s,{validation:"cuid",code:Ee.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")xB.test(t.data)||(s=this._getOrReturnCtx(t,s),Fe(s,{validation:"cuid2",code:Ee.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")yB.test(t.data)||(s=this._getOrReturnCtx(t,s),Fe(s,{validation:"ulid",code:Ee.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Fe(s,{validation:"url",code:Ee.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Fe(s,{validation:"regex",code:Ee.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),Fe(s,{code:Ee.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),Fe(s,{code:Ee.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),Fe(s,{code:Ee.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?IB(a).test(t.data)||(s=this._getOrReturnCtx(t,s),Fe(s,{code:Ee.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?OB.test(t.data)||(s=this._getOrReturnCtx(t,s),Fe(s,{code:Ee.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?PB(a).test(t.data)||(s=this._getOrReturnCtx(t,s),Fe(s,{code:Ee.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?SB.test(t.data)||(s=this._getOrReturnCtx(t,s),Fe(s,{validation:"duration",code:Ee.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?DB(t.data,a.version)||(s=this._getOrReturnCtx(t,s),Fe(s,{validation:"ip",code:Ee.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?FB(t.data,a.alg)||(s=this._getOrReturnCtx(t,s),Fe(s,{validation:"jwt",code:Ee.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?LB(t.data,a.version)||(s=this._getOrReturnCtx(t,s),Fe(s,{validation:"cidr",code:Ee.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?AB.test(t.data)||(s=this._getOrReturnCtx(t,s),Fe(s,{validation:"base64",code:Ee.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?RB.test(t.data)||(s=this._getOrReturnCtx(t,s),Fe(s,{validation:"base64url",code:Ee.invalid_string,message:a.message}),n.dirty()):St.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:Ee.invalid_string,...qe.errToObj(n)})}_addCheck(t){return new ji({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...qe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...qe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...qe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...qe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...qe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...qe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...qe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...qe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...qe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...qe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...qe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...qe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...qe.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...qe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...qe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...qe.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...qe.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...qe.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...qe.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...qe.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...qe.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...qe.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...qe.errToObj(r)})}nonempty(t){return this.min(1,qe.errToObj(t))}trim(){return new ji({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ji({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ji({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ji.create=e=>new ji({checks:[],typeName:it.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...mt(e)});function MB(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,a=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return a%o/10**s}class bd extends yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ve.number){const a=this._getOrReturnCtx(t);return Fe(a,{code:Ee.invalid_type,expected:Ve.number,received:a.parsedType}),at}let n;const s=new hs;for(const a of this._def.checks)a.kind==="int"?St.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Fe(n,{code:Ee.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),Fe(n,{code:Ee.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),Fe(n,{code:Ee.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?MB(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),Fe(n,{code:Ee.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Fe(n,{code:Ee.not_finite,message:a.message}),s.dirty()):St.assertNever(a);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,qe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,qe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,qe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,qe.toString(r))}setLimit(t,r,n,s){return new bd({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:qe.toString(s)}]})}_addCheck(t){return new bd({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:qe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:qe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:qe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:qe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:qe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:qe.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:qe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:qe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:qe.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&St.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}bd.create=e=>new bd({checks:[],typeName:it.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...mt(e)});class Sd extends yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ve.bigint)return this._getInvalidInput(t);let n;const s=new hs;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),Fe(n,{code:Ee.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),Fe(n,{code:Ee.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Fe(n,{code:Ee.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):St.assertNever(a);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Fe(r,{code:Ee.invalid_type,expected:Ve.bigint,received:r.parsedType}),at}gte(t,r){return this.setLimit("min",t,!0,qe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,qe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,qe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,qe.toString(r))}setLimit(t,r,n,s){return new Sd({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:qe.toString(s)}]})}_addCheck(t){return new Sd({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:qe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:qe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:qe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:qe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:qe.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Sd.create=e=>new Sd({checks:[],typeName:it.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...mt(e)});class Ob extends yt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ve.boolean){const n=this._getOrReturnCtx(t);return Fe(n,{code:Ee.invalid_type,expected:Ve.boolean,received:n.parsedType}),at}return Os(t.data)}}Ob.create=e=>new Ob({typeName:it.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...mt(e)});class T0 extends yt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ve.date){const a=this._getOrReturnCtx(t);return Fe(a,{code:Ee.invalid_type,expected:Ve.date,received:a.parsedType}),at}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return Fe(a,{code:Ee.invalid_date}),at}const n=new hs;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),Fe(s,{code:Ee.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),Fe(s,{code:Ee.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):St.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new T0({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:qe.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:qe.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}T0.create=e=>new T0({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:it.ZodDate,...mt(e)});class Pb extends yt{_parse(t){if(this._getType(t)!==Ve.symbol){const n=this._getOrReturnCtx(t);return Fe(n,{code:Ee.invalid_type,expected:Ve.symbol,received:n.parsedType}),at}return Os(t.data)}}Pb.create=e=>new Pb({typeName:it.ZodSymbol,...mt(e)});class Ib extends yt{_parse(t){if(this._getType(t)!==Ve.undefined){const n=this._getOrReturnCtx(t);return Fe(n,{code:Ee.invalid_type,expected:Ve.undefined,received:n.parsedType}),at}return Os(t.data)}}Ib.create=e=>new Ib({typeName:it.ZodUndefined,...mt(e)});class Db extends yt{_parse(t){if(this._getType(t)!==Ve.null){const n=this._getOrReturnCtx(t);return Fe(n,{code:Ee.invalid_type,expected:Ve.null,received:n.parsedType}),at}return Os(t.data)}}Db.create=e=>new Db({typeName:it.ZodNull,...mt(e)});class Fb extends yt{constructor(){super(...arguments),this._any=!0}_parse(t){return Os(t.data)}}Fb.create=e=>new Fb({typeName:it.ZodAny,...mt(e)});class Lb extends yt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Os(t.data)}}Lb.create=e=>new Lb({typeName:it.ZodUnknown,...mt(e)});class Ki extends yt{_parse(t){const r=this._getOrReturnCtx(t);return Fe(r,{code:Ee.invalid_type,expected:Ve.never,received:r.parsedType}),at}}Ki.create=e=>new Ki({typeName:it.ZodNever,...mt(e)});class Mb extends yt{_parse(t){if(this._getType(t)!==Ve.undefined){const n=this._getOrReturnCtx(t);return Fe(n,{code:Ee.invalid_type,expected:Ve.void,received:n.parsedType}),at}return Os(t.data)}}Mb.create=e=>new Mb({typeName:it.ZodVoid,...mt(e)});class Sa extends yt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==Ve.array)return Fe(r,{code:Ee.invalid_type,expected:Ve.array,received:r.parsedType}),at;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(Fe(r,{code:o?Ee.too_big:Ee.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Fe(r,{code:Ee.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Fe(r,{code:Ee.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new qi(r,o,r.path,l)))).then(o=>hs.mergeArray(n,o));const a=[...r.data].map((o,l)=>s.type._parseSync(new qi(r,o,r.path,l)));return hs.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new Sa({...this._def,minLength:{value:t,message:qe.toString(r)}})}max(t,r){return new Sa({...this._def,maxLength:{value:t,message:qe.toString(r)}})}length(t,r){return new Sa({...this._def,exactLength:{value:t,message:qe.toString(r)}})}nonempty(t){return this.min(1,t)}}Sa.create=(e,t)=>new Sa({type:e,minLength:null,maxLength:null,exactLength:null,typeName:it.ZodArray,...mt(t)});function wl(e){if(e instanceof vr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Ui.create(wl(n))}return new vr({...e._def,shape:()=>t})}else return e instanceof Sa?new Sa({...e._def,type:wl(e.element)}):e instanceof Ui?Ui.create(wl(e.unwrap())):e instanceof bc?bc.create(wl(e.unwrap())):e instanceof Vo?Vo.create(e.items.map(t=>wl(t))):e}class vr extends yt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=St.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Ve.object){const u=this._getOrReturnCtx(t);return Fe(u,{code:Ee.invalid_type,expected:Ve.object,received:u.parsedType}),at}const{status:n,ctx:s}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ki&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=a[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new qi(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Ki){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(Fe(s,{code:Ee.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new qi(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>hs.mergeObjectSync(n,u)):hs.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return qe.errToObj,new vr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,o;const s=((o=(a=this._def).errorMap)==null?void 0:o.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:qe.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new vr({...this._def,unknownKeys:"strip"})}passthrough(){return new vr({...this._def,unknownKeys:"passthrough"})}extend(t){return new vr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new vr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:it.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new vr({...this._def,catchall:t})}pick(t){const r={};for(const n of St.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new vr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of St.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new vr({...this._def,shape:()=>r})}deepPartial(){return wl(this)}partial(t){const r={};for(const n of St.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new vr({...this._def,shape:()=>r})}required(t){const r={};for(const n of St.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Ui;)a=a._def.innerType;r[n]=a}return new vr({...this._def,shape:()=>r})}keyof(){return KT(St.objectKeys(this.shape))}}vr.create=(e,t)=>new vr({shape:()=>e,unknownKeys:"strip",catchall:Ki.create(),typeName:it.ZodObject,...mt(t)});vr.strictCreate=(e,t)=>new vr({shape:()=>e,unknownKeys:"strict",catchall:Ki.create(),typeName:it.ZodObject,...mt(t)});vr.lazycreate=(e,t)=>new vr({shape:e,unknownKeys:"strip",catchall:Ki.create(),typeName:it.ZodObject,...mt(t)});class k0 extends yt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new fs(l.ctx.common.issues));return Fe(r,{code:Ee.invalid_union,unionErrors:o}),at}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new fs(c));return Fe(r,{code:Ee.invalid_union,unionErrors:l}),at}}get options(){return this._def.options}}k0.create=(e,t)=>new k0({options:e,typeName:it.ZodUnion,...mt(t)});function lx(e,t){const r=di(e),n=di(t);if(e===t)return{valid:!0,data:e};if(r===Ve.object&&n===Ve.object){const s=St.objectKeys(t),a=St.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=lx(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Ve.array&&n===Ve.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=lx(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===Ve.date&&n===Ve.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class A0 extends yt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(a,o)=>{if(kb(a)||kb(o))return at;const l=lx(a.value,o.value);return l.valid?((Ab(a)||Ab(o))&&r.dirty(),{status:r.value,value:l.data}):(Fe(n,{code:Ee.invalid_intersection_types}),at)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}A0.create=(e,t,r)=>new A0({left:e,right:t,typeName:it.ZodIntersection,...mt(r)});class Vo extends yt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ve.array)return Fe(n,{code:Ee.invalid_type,expected:Ve.array,received:n.parsedType}),at;if(n.data.length<this._def.items.length)return Fe(n,{code:Ee.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),at;!this._def.rest&&n.data.length>this._def.items.length&&(Fe(n,{code:Ee.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new qi(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>hs.mergeArray(r,o)):hs.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new Vo({...this._def,rest:t})}}Vo.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Vo({items:e,typeName:it.ZodTuple,rest:null,...mt(t)})};class Bb extends yt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ve.map)return Fe(n,{code:Ee.invalid_type,expected:Ve.map,received:n.parsedType}),at;const s=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new qi(n,l,n.path,[u,"key"])),value:a._parse(new qi(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return at;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return at;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}Bb.create=(e,t,r)=>new Bb({valueType:t,keyType:e,typeName:it.ZodMap,...mt(r)});class Ed extends yt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ve.set)return Fe(n,{code:Ee.invalid_type,expected:Ve.set,received:n.parsedType}),at;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Fe(n,{code:Ee.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Fe(n,{code:Ee.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return at;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>a._parse(new qi(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Ed({...this._def,minSize:{value:t,message:qe.toString(r)}})}max(t,r){return new Ed({...this._def,maxSize:{value:t,message:qe.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Ed.create=(e,t)=>new Ed({valueType:e,minSize:null,maxSize:null,typeName:it.ZodSet,...mt(t)});class $b extends yt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}$b.create=(e,t)=>new $b({getter:e,typeName:it.ZodLazy,...mt(t)});class Ub extends yt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Fe(r,{received:r.data,code:Ee.invalid_literal,expected:this._def.value}),at}return{status:"valid",value:t.data}}get value(){return this._def.value}}Ub.create=(e,t)=>new Ub({value:e,typeName:it.ZodLiteral,...mt(t)});function KT(e,t){return new wc({values:e,typeName:it.ZodEnum,...mt(t)})}class wc extends yt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Fe(r,{expected:St.joinValues(n),received:r.parsedType,code:Ee.invalid_type}),at}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Fe(r,{received:r.data,code:Ee.invalid_enum_value,options:n}),at}return Os(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return wc.create(t,{...this._def,...r})}exclude(t,r=this._def){return wc.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}wc.create=KT;class zb extends yt{_parse(t){const r=St.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Ve.string&&n.parsedType!==Ve.number){const s=St.objectValues(r);return Fe(n,{expected:St.joinValues(s),received:n.parsedType,code:Ee.invalid_type}),at}if(this._cache||(this._cache=new Set(St.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=St.objectValues(r);return Fe(n,{received:n.data,code:Ee.invalid_enum_value,options:s}),at}return Os(t.data)}get enum(){return this._def.values}}zb.create=(e,t)=>new zb({values:e,typeName:it.ZodNativeEnum,...mt(t)});class R0 extends yt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ve.promise&&r.common.async===!1)return Fe(r,{code:Ee.invalid_type,expected:Ve.promise,received:r.parsedType}),at;const n=r.parsedType===Ve.promise?r.data:Promise.resolve(r.data);return Os(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}R0.create=(e,t)=>new R0({type:e,typeName:it.ZodPromise,...mt(t)});class _c extends yt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===it.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:o=>{Fe(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return at;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?at:c.status==="dirty"||r.value==="dirty"?Su(c.value):c});{if(r.value==="aborted")return at;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?at:l.status==="dirty"||r.value==="dirty"?Su(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?at:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?at:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!yc(o))return at;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>yc(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:r.value,value:l})):at);St.assertNever(s)}}_c.create=(e,t,r)=>new _c({schema:e,typeName:it.ZodEffects,effect:t,...mt(r)});_c.createWithPreprocess=(e,t,r)=>new _c({schema:t,effect:{type:"preprocess",transform:e},typeName:it.ZodEffects,...mt(r)});class Ui extends yt{_parse(t){return this._getType(t)===Ve.undefined?Os(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ui.create=(e,t)=>new Ui({innerType:e,typeName:it.ZodOptional,...mt(t)});class bc extends yt{_parse(t){return this._getType(t)===Ve.null?Os(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}bc.create=(e,t)=>new bc({innerType:e,typeName:it.ZodNullable,...mt(t)});class cx extends yt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Ve.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}cx.create=(e,t)=>new cx({innerType:e,typeName:it.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...mt(t)});class ux extends yt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return C0(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new fs(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new fs(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ux.create=(e,t)=>new ux({innerType:e,typeName:it.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...mt(t)});class Vb extends yt{_parse(t){if(this._getType(t)!==Ve.nan){const n=this._getOrReturnCtx(t);return Fe(n,{code:Ee.invalid_type,expected:Ve.nan,received:n.parsedType}),at}return{status:"valid",value:t.data}}}Vb.create=e=>new Vb({typeName:it.ZodNaN,...mt(e)});class BB extends yt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class cy extends yt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?at:a.status==="dirty"?(r.dirty(),Su(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?at:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new cy({in:t,out:r,typeName:it.ZodPipeline})}}class dx extends yt{_parse(t){const r=this._def.innerType._parse(t),n=s=>(yc(s)&&(s.value=Object.freeze(s.value)),s);return C0(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}dx.create=(e,t)=>new dx({innerType:e,typeName:it.ZodReadonly,...mt(t)});vr.lazycreate;var it;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(it||(it={}));const Ys=ji.create;Ki.create;Sa.create;const Up=vr.create;vr.strictCreate;k0.create;A0.create;Vo.create;const $B=wc.create;R0.create;Ui.create;bc.create;const UB=Up({username:Ys().min(1,"Usurio  obrigatrio").max(50,"Usurio muito longo"),password:Ys().min(1,"Senha  obrigatria").max(100,"Senha muito longa")});function zB(){const[e,t]=g.useState(""),[r,n]=g.useState(""),[s,a]=g.useState(!1),[o,l]=g.useState(!1),[c,u]=g.useState({}),{signIn:d,logAccess:f}=Pr(),{config:h}=$p(),p=Zd(),{toast:x}=pr(),m=()=>{try{return UB.parse({username:e,password:r}),u({}),!0}catch(_){if(_ instanceof fs){const w={};_.errors.forEach(y=>{y.path[0]==="username"?w.username=y.message:y.path[0]==="password"&&(w.password=y.message)}),u(w)}return!1}},v=async _=>{if(_.preventDefault(),!!m()){l(!0);try{const{error:w}=await d(e,r);w?x({title:"Erro ao entrar",description:w.message,variant:"destructive"}):(await f(),x({title:"Bem-vindo!",description:"Login realizado com sucesso."}),p("/dashboard"))}catch{x({title:"Erro",description:"Ocorreu um erro inesperado.",variant:"destructive"})}finally{l(!1)}}};return i.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-background to-primary/5"}),i.jsx("div",{className:"bg-nebula opacity-50"}),i.jsx("div",{className:"grid-overlay opacity-30"}),i.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-primary/10 rounded-full blur-3xl animate-pulse"}),i.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-primary/5 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),i.jsx("div",{className:"relative z-10 w-full max-w-md px-6",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-primary/20 via-primary/10 to-primary/20 rounded-3xl blur-xl opacity-75"}),i.jsxs("div",{className:"relative glass-panel rounded-3xl p-8 border border-primary/20 shadow-2xl",children:[i.jsx("div",{className:"absolute top-0 left-0 w-20 h-20 border-l-2 border-t-2 border-primary/30 rounded-tl-3xl"}),i.jsx("div",{className:"absolute bottom-0 right-0 w-20 h-20 border-r-2 border-b-2 border-primary/30 rounded-br-3xl"}),i.jsxs("div",{className:"flex flex-col items-center mb-10",children:[i.jsxs("div",{className:"relative mb-6 group",children:[i.jsx("div",{className:"absolute inset-0 bg-primary/40 rounded-2xl blur-2xl group-hover:blur-3xl transition-all duration-500"}),i.jsx("div",{className:"absolute inset-2 bg-primary/20 rounded-xl blur-xl"}),i.jsxs("div",{className:"relative w-24 h-24 bg-gradient-to-br from-background via-muted to-background border-2 border-primary/30 rounded-2xl flex items-center justify-center shadow-2xl group-hover:border-primary/50 transition-all duration-500 overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 via-transparent to-transparent"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-primary/10 via-transparent to-primary/5"}),h.site_logo_url?i.jsx("img",{src:h.site_logo_url,alt:"Logo",className:"w-full h-full object-contain p-2"}):i.jsx(ur,{className:"w-12 h-12 text-primary drop-shadow-[0_0_25px_rgba(255,31,31,0.8)] group-hover:scale-110 transition-transform duration-300"})]}),i.jsx(Ei,{className:"absolute -top-2 -right-2 w-5 h-5 text-primary/60 animate-pulse"}),i.jsx(Ei,{className:"absolute -bottom-1 -left-1 w-4 h-4 text-primary/40 animate-pulse",style:{animationDelay:"0.5s"}})]}),i.jsx("h1",{className:"font-display font-black text-4xl text-foreground tracking-tight text-center",children:h.site_name}),i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx("div",{className:"h-px w-8 bg-gradient-to-r from-transparent to-primary/50"}),i.jsx("p",{className:"text-primary/80 text-sm font-medium tracking-widest uppercase",children:h.site_subtitle}),i.jsx("div",{className:"h-px w-8 bg-gradient-to-l from-transparent to-primary/50"})]})]}),i.jsxs("form",{onSubmit:v,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{htmlFor:"username",className:"text-muted-foreground text-sm font-medium",children:"Usurio"}),i.jsx("div",{className:"relative group",children:i.jsx(Oe,{id:"username",type:"text",value:e,onChange:_=>t(_.target.value),placeholder:"Digite seu usurio",className:`glass-input h-12 pl-4 pr-4 border-2 transition-all duration-300 ${c.username?"border-destructive focus:border-destructive":"border-border/50 focus:border-primary/50 group-hover:border-border"}`,disabled:o})}),c.username&&i.jsxs("p",{className:"text-xs text-destructive flex items-center gap-1 mt-1",children:[i.jsx(js,{className:"w-3 h-3"}),c.username]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{htmlFor:"password",className:"text-muted-foreground text-sm font-medium",children:"Senha"}),i.jsxs("div",{className:"relative group",children:[i.jsx(Oe,{id:"password",type:s?"text":"password",value:r,onChange:_=>n(_.target.value),placeholder:"Digite sua senha",className:`glass-input h-12 pl-4 pr-12 border-2 transition-all duration-300 ${c.password?"border-destructive focus:border-destructive":"border-border/50 focus:border-primary/50 group-hover:border-border"}`,disabled:o}),i.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors p-1",disabled:o,children:s?i.jsx(Fu,{className:"w-5 h-5"}):i.jsx($i,{className:"w-5 h-5"})})]}),c.password&&i.jsxs("p",{className:"text-xs text-destructive flex items-center gap-1 mt-1",children:[i.jsx(js,{className:"w-3 h-3"}),c.password]})]}),i.jsxs(fe,{type:"submit",className:"w-full h-14 btn-neon text-primary-foreground font-bold uppercase tracking-wider text-base relative overflow-hidden group",disabled:o,children:[i.jsx("span",{className:"relative z-10 flex items-center justify-center gap-2",children:o?i.jsxs(i.Fragment,{children:[i.jsx(ot,{className:"w-5 h-5 animate-spin"}),"Entrando..."]}):"Entrar"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})]})]}),i.jsx("div",{className:"mt-10 text-center",children:i.jsxs("div",{className:"flex items-center justify-center gap-3 text-xs text-muted-foreground/60",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-success animate-pulse"}),i.jsx("span",{className:"font-mono",children:"Sistema Seguro"}),i.jsx("span",{children:""}),i.jsx("span",{className:"font-mono",children:"v6.2"})]})})]})]})})]})}function VB(){const{user:e,isAdmin:t,role:r}=Pr(),[n,s]=g.useState(0),a=t||r==="casting_manager",o=g.useRef(0),l=g.useCallback(async()=>{if(!e)return;const c=Date.now();if(!(c-o.current<500)){o.current=c;try{if(a){const{data:u}=await re.from("support_tickets").select("id, user_id").eq("status","open");if(!u||u.length===0){s(0);return}let d=0;for(const f of u){const{data:h}=await re.from("support_messages").select("sender_id").eq("ticket_id",f.id).order("created_at",{ascending:!1}).limit(1).single();h&&h.sender_id===f.user_id&&d++}s(d)}else{const{data:u}=await re.from("support_tickets").select("id").eq("user_id",e.id).eq("status","open");if(!u||u.length===0){s(0);return}let d=0;for(const f of u){const{data:h}=await re.from("support_messages").select("sender_id").eq("ticket_id",f.id).order("created_at",{ascending:!1}).limit(1).single();h&&h.sender_id!==e.id&&d++}s(d)}}catch(u){console.error("Error fetching unread support count:",u)}}},[e,a]);return g.useEffect(()=>{l();const c=re.channel("support-badge-updates").on("postgres_changes",{event:"*",schema:"public",table:"support_messages"},()=>{setTimeout(()=>l(),100)}).on("postgres_changes",{event:"*",schema:"public",table:"support_tickets"},()=>{setTimeout(()=>l(),100)}).subscribe();return()=>{re.removeChannel(c)}},[l]),{unreadCount:n,refetch:l}}function WB(){const{role:e}=Pr(),[t,r]=g.useState([]),[n,s]=g.useState([]),[a,o]=g.useState(!0);g.useEffect(()=>{l();const f=re.channel("sidebar-categories-changes").on("postgres_changes",{event:"*",schema:"public",table:"sidebar_categories"},()=>l()).subscribe(),h=re.channel("sidebar-items-changes").on("postgres_changes",{event:"*",schema:"public",table:"sidebar_items"},()=>l()).subscribe();return()=>{re.removeChannel(f),re.removeChannel(h)}},[]);const l=async()=>{try{const[f,h]=await Promise.all([re.from("sidebar_categories").select("*").order("order_index"),re.from("sidebar_items").select("*").order("order_index")]);f.data&&r(f.data),h.data&&s(h.data)}catch(f){console.error("Error fetching sidebar config:",f)}finally{o(!1)}},c=(f,h)=>h==="admin_master"||f==null||!Array.isArray(f)||f.length===0?!0:f.includes(h);return{categories:t,items:n,isLoading:a,getVisibleItems:()=>{if(!e||a)return[];const f=n.filter(x=>x.is_active&&c(x.visible_to_roles,e)),h=[],p=f.filter(x=>!x.category_id).sort((x,m)=>x.order_index-m.order_index);return p.length>0&&h.push({category:null,items:p}),t.filter(x=>c(x.visible_to_roles,e)).sort((x,m)=>x.order_index-m.order_index).forEach(x=>{const m=f.filter(v=>v.category_id===x.id).sort((v,_)=>v.order_index-_.order_index);m.length>0&&h.push({category:x,items:m})}),h},getVisibleItemsFlat:()=>!e||a?[]:n.filter(f=>f.is_active&&c(f.visible_to_roles,e)),refetch:l}}var zp="Collapsible",[HB,AQ]=Yn(zp),[GB,uy]=HB(zp),XT=g.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:a,onOpenChange:o,...l}=e,[c,u]=na({prop:n,defaultProp:s??!1,onChange:o,caller:zp});return i.jsx(GB,{scope:r,disabled:a,contentId:ea(),open:c,onOpenToggle:g.useCallback(()=>u(d=>!d),[u]),children:i.jsx(Ke.div,{"data-state":fy(c),"data-disabled":a?"":void 0,...l,ref:t})})});XT.displayName=zp;var YT="CollapsibleTrigger",JT=g.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=uy(YT,r);return i.jsx(Ke.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":fy(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:ze(e.onClick,s.onOpenToggle)})});JT.displayName=YT;var dy="CollapsibleContent",QT=g.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=uy(dy,e.__scopeCollapsible);return i.jsx(Fn,{present:r||s.open,children:({present:a})=>i.jsx(qB,{...n,ref:t,present:a})})});QT.displayName=dy;var qB=g.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...a}=e,o=uy(dy,r),[l,c]=g.useState(n),u=g.useRef(null),d=pt(t,u),f=g.useRef(0),h=f.current,p=g.useRef(0),x=p.current,m=o.open||l,v=g.useRef(m),_=g.useRef(void 0);return g.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),_r(()=>{const w=u.current;if(w){_.current=_.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const y=w.getBoundingClientRect();f.current=y.height,p.current=y.width,v.current||(w.style.transitionDuration=_.current.transitionDuration,w.style.animationName=_.current.animationName),c(n)}},[o.open,n]),i.jsx(Ke.div,{"data-state":fy(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...a,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:m&&s})});function fy(e){return e?"open":"closed"}var KB=XT;const hy=KB,py=JT,my=QT,XB=Gd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ar({className:e,variant:t,...r}){return i.jsx("div",{className:Be(XB({variant:t}),e),...r})}function Nd({status:e,size:t="md",showLabel:r=!1,lastActivity:n,className:s}){const a={sm:"w-2 h-2",md:"w-2.5 h-2.5",lg:"w-3 h-3"},l={online:{color:"bg-green-500",glow:"shadow-[0_0_8px_hsl(142,76%,50%)]",label:"Online",animate:"animate-pulse"},away:{color:"bg-yellow-500",glow:"shadow-[0_0_6px_hsl(45,100%,50%)]",label:"Ausente",animate:""},offline:{color:"bg-muted-foreground/50",glow:"",label:"Offline",animate:""}}[e],c=d=>{if(!d)return"";const h=new Date().getTime()-d.getTime(),p=Math.floor(h/(1e3*60)),x=Math.floor(h/(1e3*60*60)),m=Math.floor(x/24);return p<1?"agora":p<60?`h ${p}m`:x<24?`h ${x}h`:`h ${m}d`},u=i.jsxs("div",{className:Be("flex items-center gap-1.5",s),children:[i.jsx("div",{className:Be("rounded-full",a[t],l.color,l.glow,l.animate)}),r&&i.jsx("span",{className:"text-xs text-muted-foreground",children:l.label})]});return n||e!=="online"?i.jsxs(Lv,{children:[i.jsx(Mv,{asChild:!0,children:u}),i.jsx(m0,{side:"top",className:"text-xs",children:i.jsxs("div",{className:"flex flex-col gap-0.5",children:[i.jsx("span",{className:"font-medium",children:l.label}),n&&e!=="online"&&i.jsxs("span",{className:"text-muted-foreground",children:["ltima atividade: ",c(n)]})]})})]}):u}function YB(){return i.jsx("div",{className:"absolute z-50 pointer-events-none",style:{top:"-12px",left:"-6px",width:"27px",height:"27px",transform:"rotate(-25deg)"},children:i.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",style:{filter:"drop-shadow(2px 3px 3px rgba(0,0,0,0.4))"},children:[i.jsx("path",{d:"M20 82 Q50 70 80 82 L72 40 Q50 5 28 40 Z",fill:"#c41e3a",stroke:"#8b0000",strokeWidth:"2"}),i.jsx("path",{d:"M28 40 Q20 35 15 50 Q8 70 5 80 Q0 92 12 95",fill:"#c41e3a",stroke:"#8b0000",strokeWidth:"2"}),i.jsx("circle",{cx:"8",cy:"85",r:"14",fill:"#ffffff",stroke:"#e8e8e8",strokeWidth:"1.5",children:i.jsx("animate",{attributeName:"r",values:"14;15;14",dur:"2s",repeatCount:"indefinite"})}),i.jsx("ellipse",{cx:"50",cy:"84",rx:"38",ry:"12",fill:"#ffffff",stroke:"#e8e8e8",strokeWidth:"1"}),i.jsx("ellipse",{cx:"50",cy:"82",rx:"33",ry:"8",fill:"rgba(255,255,255,0.7)"}),i.jsx("path",{d:"M45 50 Q52 25 55 50",fill:"none",stroke:"rgba(255,255,255,0.3)",strokeWidth:"4",strokeLinecap:"round"})]})})}const JB={LayoutDashboard:h5,ClipboardList:Po,Users:fd,HelpCircle:l0,History:hc,Settings:u0,Shield:ur,FileText:Cs,MessageCircle:vl,Radio:uj};function QB(){var C,b;const[e,t]=g.useState(!1),[r,n]=g.useState(()=>{try{const j=localStorage.getItem("sidebar-open-categories");return j?JSON.parse(j):{}}catch{return{}}}),s=g.useRef(!1),{config:a}=$p(),{effect:o}=oy(),l=Qd(),c=Zd(),{profile:u,role:d,signOut:f}=Pr(),{unreadCount:h}=VB(),{getVisibleItems:p,isLoading:x}=WB(),m=g.useMemo(()=>p(),[p,x]);g.useEffect(()=>{if(m.length!==0&&!s.current){if(!localStorage.getItem("sidebar-open-categories")){const N={};m.forEach(R=>{const k=R.items.some(O=>l.pathname===O.path);R.category&&(N[R.category.id]=k)}),n(N)}s.current=!0}},[m,l.pathname]),g.useEffect(()=>{Object.keys(r).length>0&&localStorage.setItem("sidebar-open-categories",JSON.stringify(r))},[r]);const v=async()=>{await f(),c("/login")},_=j=>({admin_master:"Admin",casting_manager:"Casting Manager",clevel:"CLevel",director:"Director",coordinator:"Coordinator",staff_manager:"Staff Manager",staff:"Staff",support:"Support",casting:"Casting",entrevistador:"Entrevistador"})[j||""]||"Usurio",w=j=>{n(N=>({...N,[j]:!N[j]}))},y=j=>JB[j]||ur,S=o==="christmas",E=j=>{const N=l.pathname===j.path,R=y(j.icon),k=j.path==="/support"&&h>0,O=i.jsxs("button",{onClick:()=>c(j.path),className:Be("w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-all duration-200 group relative",N?"bg-primary/10 text-primary border border-primary/20":"text-muted-foreground hover:text-foreground hover:bg-accent"),children:[N&&i.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-5 bg-primary rounded-full"}),i.jsxs("div",{className:"relative",children:[i.jsx(R,{className:Be("w-4 h-4 shrink-0 transition-all duration-200",N&&"text-primary drop-shadow-[0_0_8px_rgba(255,31,31,0.5)]")}),k&&e&&i.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-destructive rounded-full animate-pulse"})]}),!e&&i.jsx("span",{className:"font-medium text-sm flex-1 text-left",children:j.label}),k&&!e&&i.jsx(ar,{variant:"destructive",className:"h-5 min-w-5 text-xs px-1.5",children:h})]},j.path);return e?i.jsxs(Lv,{children:[i.jsx(Mv,{asChild:!0,children:O}),i.jsxs(m0,{side:"right",className:"flex items-center gap-2",children:[i.jsx("p",{children:j.label}),k&&i.jsx(ar,{variant:"destructive",className:"h-5 min-w-5 text-xs px-1.5",children:h})]})]},j.id||j.path):O};return i.jsxs("aside",{className:Be("h-screen flex flex-col justify-between border-r border-border bg-sidebar backdrop-blur-md relative z-20 transition-all duration-300",e?"w-20":"w-64"),children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("div",{className:"p-4 border-b border-border",children:i.jsxs("div",{className:"flex items-center gap-3 group cursor-default select-none",children:[i.jsxs("div",{className:"relative shrink-0",children:[S&&i.jsx(YB,{}),i.jsx("div",{className:"absolute inset-0 bg-primary/20 rounded-xl blur-md group-hover:blur-xl transition-all duration-500 opacity-50 group-hover:opacity-100"}),i.jsxs("div",{className:"relative w-10 h-10 bg-gradient-to-b from-muted to-background border border-border rounded-xl flex items-center justify-center shadow-xl group-hover:scale-105 group-hover:border-primary/30 transition-all duration-500 overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.site_logo_url?i.jsx("img",{src:a.site_logo_url,alt:"Logo",className:"w-full h-full object-contain p-1"}):i.jsx(ur,{className:"w-5 h-5 text-primary relative z-10 drop-shadow-[0_0_10px_rgba(255,31,31,0.6)]"})]}),i.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-background rounded-full flex items-center justify-center z-20",children:i.jsx("div",{className:"status-online"})})]}),!e&&i.jsxs("div",{className:"flex flex-col justify-center overflow-hidden min-w-0",children:[i.jsx("h1",{className:"font-display font-bold text-lg text-foreground leading-tight truncate",children:a.site_name}),i.jsx("span",{className:"text-primary font-medium text-[10px] tracking-wider uppercase truncate",children:a.site_subtitle})]})]})}),i.jsx("nav",{className:"flex-1 p-3 space-y-1 overflow-y-auto",children:m.map((j,N)=>{if(!j.category)return i.jsx("div",{className:"space-y-1",children:j.items.map(E)},"uncategorized");const R=r[j.category.id]!==!1;return e?i.jsx("div",{className:"space-y-1",children:j.items.map(E)},j.category.id):i.jsxs(hy,{open:R,onOpenChange:()=>w(j.category.id),children:[i.jsx(py,{className:"w-full",children:i.jsxs("div",{className:"flex items-center gap-2 px-2 py-1.5 text-xs font-semibold text-muted-foreground uppercase tracking-wider hover:text-foreground transition-colors cursor-pointer group",children:[i.jsx(qd,{className:Be("w-3 h-3 transition-transform duration-200",!R&&"-rotate-90")}),i.jsx("span",{className:"flex-1 text-left",children:j.category.name}),i.jsx("span",{className:"text-[10px] text-muted-foreground/60 group-hover:text-muted-foreground",children:j.items.length})]})}),i.jsx(my,{className:"space-y-1 mt-1",children:j.items.map(E)})]},j.category.id)})})]}),i.jsxs("div",{className:"p-3 border-t border-border space-y-3",children:[i.jsx("div",{className:Be("p-2.5 rounded-xl bg-accent/50 border border-border",e&&"p-2"),children:e?i.jsxs(Lv,{children:[i.jsx(Mv,{asChild:!0,children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 border border-primary/20 flex items-center justify-center text-primary font-bold text-sm mx-auto overflow-hidden",children:u!=null&&u.avatar_url?i.jsx("img",{src:u.avatar_url,alt:u.name,className:"w-full h-full object-cover"}):((C=u==null?void 0:u.name)==null?void 0:C.charAt(0).toUpperCase())||"U"}),i.jsx("div",{className:"absolute -bottom-0.5 -right-0.5",children:i.jsx(Nd,{status:"online",size:"sm"})})]})}),i.jsxs(m0,{side:"right",children:[i.jsx("p",{className:"font-medium",children:(u==null?void 0:u.name)||"Usurio"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:_(d)})]})]}):i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-9 h-9 rounded-full bg-primary/10 border border-primary/20 flex items-center justify-center text-primary font-bold overflow-hidden",children:u!=null&&u.avatar_url?i.jsx("img",{src:u.avatar_url,alt:u.name,className:"w-full h-full object-cover"}):((b=u==null?void 0:u.name)==null?void 0:b.charAt(0).toUpperCase())||"U"}),i.jsx("div",{className:"absolute -bottom-0.5 -right-0.5",children:i.jsx(Nd,{status:"online",size:"sm"})})]}),i.jsxs("div",{className:"flex-1 overflow-hidden min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:(u==null?void 0:u.name)||"Usurio"}),i.jsx("p",{className:"text-xs text-muted-foreground truncate",children:_(d)})]})]})}),i.jsxs(fe,{variant:"ghost",onClick:v,className:Be("w-full justify-start gap-2 text-muted-foreground hover:text-destructive hover:bg-destructive/10 h-9",e&&"justify-center px-2"),children:[i.jsx(m5,{className:"w-4 h-4"}),!e&&i.jsx("span",{className:"text-sm",children:"Sair"})]}),i.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>t(!e),className:"w-full h-8 border border-border hover:border-primary/30",children:e?i.jsx(o0,{className:"w-4 h-4"}):i.jsx(i5,{className:"w-4 h-4"})})]})]})}var cg=0;function gy(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Wb()),document.body.insertAdjacentElement("beforeend",e[1]??Wb()),cg++,()=>{cg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),cg--}},[])}function Wb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ug="focusScope.autoFocusOnMount",dg="focusScope.autoFocusOnUnmount",Hb={bubbles:!1,cancelable:!0},ZB="FocusScope",Vp=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=g.useState(null),u=Ar(s),d=Ar(a),f=g.useRef(null),h=pt(t,m=>c(m)),p=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(n){let m=function(y){if(p.paused||!l)return;const S=y.target;l.contains(S)?f.current=S:li(f.current,{select:!0})},v=function(y){if(p.paused||!l)return;const S=y.relatedTarget;S!==null&&(l.contains(S)||li(f.current,{select:!0}))},_=function(y){if(document.activeElement===document.body)for(const E of y)E.removedNodes.length>0&&li(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const w=new MutationObserver(_);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),w.disconnect()}}},[n,l,p.paused]),g.useEffect(()=>{if(l){qb.add(p);const m=document.activeElement;if(!l.contains(m)){const _=new CustomEvent(ug,Hb);l.addEventListener(ug,u),l.dispatchEvent(_),_.defaultPrevented||(e$(a$(ZT(l)),{select:!0}),document.activeElement===m&&li(l))}return()=>{l.removeEventListener(ug,u),setTimeout(()=>{const _=new CustomEvent(dg,Hb);l.addEventListener(dg,d),l.dispatchEvent(_),_.defaultPrevented||li(m??document.body,{select:!0}),l.removeEventListener(dg,d),qb.remove(p)},0)}}},[l,u,d,p]);const x=g.useCallback(m=>{if(!r&&!n||p.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,_=document.activeElement;if(v&&_){const w=m.currentTarget,[y,S]=t$(w);y&&S?!m.shiftKey&&_===S?(m.preventDefault(),r&&li(y,{select:!0})):m.shiftKey&&_===y&&(m.preventDefault(),r&&li(S,{select:!0})):_===w&&m.preventDefault()}},[r,n,p.paused]);return i.jsx(Ke.div,{tabIndex:-1,...o,ref:h,onKeyDown:x})});Vp.displayName=ZB;function e$(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(li(n,{select:t}),document.activeElement!==r)return}function t$(e){const t=ZT(e),r=Gb(t,e),n=Gb(t.reverse(),e);return[r,n]}function ZT(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Gb(e,t){for(const r of e)if(!r$(r,{upTo:t}))return r}function r$(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function n$(e){return e instanceof HTMLInputElement&&"select"in e}function li(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&n$(e)&&t&&e.select()}}var qb=s$();function s$(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Kb(e,t),e.unshift(t)},remove(t){var r;e=Kb(e,t),(r=e[0])==null||r.resume()}}}function Kb(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function a$(e){return e.filter(t=>t.tagName!=="A")}var i$=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},dl=new WeakMap,Qf=new WeakMap,Zf={},fg=0,ek=function(e){return e&&(e.host||ek(e.parentNode))},o$=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=ek(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},l$=function(e,t,r,n){var s=o$(t,Array.isArray(e)?e:[e]);Zf[r]||(Zf[r]=new WeakMap);var a=Zf[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),x=p!==null&&p!=="false",m=(dl.get(h)||0)+1,v=(a.get(h)||0)+1;dl.set(h,m),a.set(h,v),o.push(h),m===1&&x&&Qf.set(h,!0),v===1&&h.setAttribute(r,"true"),x||h.setAttribute(n,"true")}catch(_){console.error("aria-hidden: cannot operate on ",h,_)}})};return d(t),l.clear(),fg++,function(){o.forEach(function(f){var h=dl.get(f)-1,p=a.get(f)-1;dl.set(f,h),a.set(f,p),h||(Qf.has(f)||f.removeAttribute(n),Qf.delete(f)),p||f.removeAttribute(r)}),fg--,fg||(dl=new WeakMap,dl=new WeakMap,Qf=new WeakMap,Zf={})}},vy=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=i$(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),l$(n,s,r,"aria-hidden")):function(){return null}},Ph="right-scroll-bar-position",Ih="width-before-scroll-bar",c$="with-scroll-bars-hidden",u$="--removed-body-scroll-bar-size";function hg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function d$(e,t){var r=g.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var f$=typeof window<"u"?g.useLayoutEffect:g.useEffect,Xb=new WeakMap;function h$(e,t){var r=d$(null,function(n){return e.forEach(function(s){return hg(s,n)})});return f$(function(){var n=Xb.get(r);if(n){var s=new Set(n),a=new Set(e),o=r.current;s.forEach(function(l){a.has(l)||hg(l,null)}),a.forEach(function(l){s.has(l)||hg(l,o)})}Xb.set(r,e)},[e]),r}function p$(e){return e}function m$(e,t){t===void 0&&(t=p$);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function g$(e){e===void 0&&(e={});var t=m$(null);return t.options=Ss({async:!0,ssr:!1},e),t}var tk=function(e){var t=e.sideCar,r=ro(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return g.createElement(n,Ss({},r))};tk.isSideCarExport=!0;function v$(e,t){return e.useMedium(t),tk}var rk=g$(),pg=function(){},Wp=g.forwardRef(function(e,t){var r=g.useRef(null),n=g.useState({onScrollCapture:pg,onWheelCapture:pg,onTouchMoveCapture:pg}),s=n[0],a=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,x=e.noIsolation,m=e.inert,v=e.allowPinchZoom,_=e.as,w=_===void 0?"div":_,y=e.gapMode,S=ro(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=h,C=h$([r,t]),b=Ss(Ss({},S),s);return g.createElement(g.Fragment,null,d&&g.createElement(E,{sideCar:rk,removeScrollBar:u,shards:f,noRelative:p,noIsolation:x,inert:m,setCallbacks:a,allowPinchZoom:!!v,lockRef:r,gapMode:y}),o?g.cloneElement(g.Children.only(l),Ss(Ss({},b),{ref:C})):g.createElement(w,Ss({},b,{className:c,ref:C}),l))});Wp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wp.classNames={fullWidth:Ih,zeroRight:Ph};var x$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function y$(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=x$();return t&&e.setAttribute("nonce",t),e}function w$(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function _$(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var b$=function(){var e=0,t=null;return{add:function(r){e==0&&(t=y$())&&(w$(t,r),_$(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},S$=function(){var e=b$();return function(t,r){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},nk=function(){var e=S$(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},E$={left:0,top:0,right:0,gap:0},mg=function(e){return parseInt(e||"",10)||0},N$=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[mg(r),mg(n),mg(s)]},j$=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return E$;var t=N$(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},C$=nk(),Hl="data-scroll-locked",T$=function(e,t,r,n){var s=e.left,a=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(c$,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Hl,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ph,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ih,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ph," .").concat(Ph,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ih," .").concat(Ih,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Hl,`] {
    `).concat(u$,": ").concat(l,`px;
  }
`)},Yb=function(){var e=parseInt(document.body.getAttribute(Hl)||"0",10);return isFinite(e)?e:0},k$=function(){g.useEffect(function(){return document.body.setAttribute(Hl,(Yb()+1).toString()),function(){var e=Yb()-1;e<=0?document.body.removeAttribute(Hl):document.body.setAttribute(Hl,e.toString())}},[])},A$=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;k$();var a=g.useMemo(function(){return j$(s)},[s]);return g.createElement(C$,{styles:T$(a,!t,s,r?"":"!important")})},fx=!1;if(typeof window<"u")try{var eh=Object.defineProperty({},"passive",{get:function(){return fx=!0,!0}});window.addEventListener("test",eh,eh),window.removeEventListener("test",eh,eh)}catch{fx=!1}var fl=fx?{passive:!1}:!1,R$=function(e){return e.tagName==="TEXTAREA"},sk=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!R$(e)&&r[t]==="visible")},O$=function(e){return sk(e,"overflowY")},P$=function(e){return sk(e,"overflowX")},Jb=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=ak(e,n);if(s){var a=ik(e,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},I$=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},D$=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},ak=function(e,t){return e==="v"?O$(t):P$(t)},ik=function(e,t){return e==="v"?I$(t):D$(t)},F$=function(e,t){return e==="h"&&t==="rtl"?-1:1},L$=function(e,t,r,n,s){var a=F$(e,window.getComputedStyle(t).direction),o=a*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var p=ik(e,l),x=p[0],m=p[1],v=p[2],_=m-v-a*x;(x||_)&&ak(e,l)&&(f+=_,h+=x);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},th=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Qb=function(e){return[e.deltaX,e.deltaY]},Zb=function(e){return e&&"current"in e?e.current:e},M$=function(e,t){return e[0]===t[0]&&e[1]===t[1]},B$=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},$$=0,hl=[];function U$(e){var t=g.useRef([]),r=g.useRef([0,0]),n=g.useRef(),s=g.useState($$++)[0],a=g.useState(nk)[0],o=g.useRef(e);g.useEffect(function(){o.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=Q1([e.lockRef.current],(e.shards||[]).map(Zb),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=g.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var _=th(m),w=r.current,y="deltaX"in m?m.deltaX:w[0]-_[0],S="deltaY"in m?m.deltaY:w[1]-_[1],E,C=m.target,b=Math.abs(y)>Math.abs(S)?"h":"v";if("touches"in m&&b==="h"&&C.type==="range")return!1;var j=Jb(b,C);if(!j)return!0;if(j?E=b:(E=b==="v"?"h":"v",j=Jb(b,C)),!j)return!1;if(!n.current&&"changedTouches"in m&&(y||S)&&(n.current=E),!E)return!0;var N=n.current||E;return L$(N,v,m,N==="h"?y:S,!0)},[]),c=g.useCallback(function(m){var v=m;if(!(!hl.length||hl[hl.length-1]!==a)){var _="deltaY"in v?Qb(v):th(v),w=t.current.filter(function(E){return E.name===v.type&&(E.target===v.target||v.target===E.shadowParent)&&M$(E.delta,_)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var y=(o.current.shards||[]).map(Zb).filter(Boolean).filter(function(E){return E.contains(v.target)}),S=y.length>0?l(v,y[0]):!o.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),u=g.useCallback(function(m,v,_,w){var y={name:m,delta:v,target:_,should:w,shadowParent:z$(_)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(S){return S!==y})},1)},[]),d=g.useCallback(function(m){r.current=th(m),n.current=void 0},[]),f=g.useCallback(function(m){u(m.type,Qb(m),m.target,l(m,e.lockRef.current))},[]),h=g.useCallback(function(m){u(m.type,th(m),m.target,l(m,e.lockRef.current))},[]);g.useEffect(function(){return hl.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,fl),document.addEventListener("touchmove",c,fl),document.addEventListener("touchstart",d,fl),function(){hl=hl.filter(function(m){return m!==a}),document.removeEventListener("wheel",c,fl),document.removeEventListener("touchmove",c,fl),document.removeEventListener("touchstart",d,fl)}},[]);var p=e.removeScrollBar,x=e.inert;return g.createElement(g.Fragment,null,x?g.createElement(a,{styles:B$(s)}):null,p?g.createElement(A$,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function z$(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const V$=v$(rk,U$);var Hp=g.forwardRef(function(e,t){return g.createElement(Wp,Ss({},e,{ref:t,sideCar:V$}))});Hp.classNames=Wp.classNames;var Gp="Popover",[ok,RQ]=Yn(Gp,[Lc]),rf=Lc(),[W$,so]=ok(Gp),lk=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!1}=e,l=rf(t),c=g.useRef(null),[u,d]=g.useState(!1),[f,h]=na({prop:n,defaultProp:s??!1,onChange:a,caller:Gp});return i.jsx(V1,{...l,children:i.jsx(W$,{scope:t,contentId:ea(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:g.useCallback(()=>d(!0),[]),onCustomAnchorRemove:g.useCallback(()=>d(!1),[]),modal:o,children:r})})};lk.displayName=Gp;var ck="PopoverAnchor",H$=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=so(ck,r),a=rf(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return g.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(Cp,{...a,...n,ref:t})});H$.displayName=ck;var uk="PopoverTrigger",dk=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=so(uk,r),a=rf(r),o=pt(t,s.triggerRef),l=i.jsx(Ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":gk(s.open),...n,ref:o,onClick:ze(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:i.jsx(Cp,{asChild:!0,...a,children:l})});dk.displayName=uk;var xy="PopoverPortal",[G$,q$]=ok(xy,{forceMount:void 0}),fk=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,a=so(xy,t);return i.jsx(G$,{scope:t,forceMount:r,children:i.jsx(Fn,{present:r||a.open,children:i.jsx(Wd,{asChild:!0,container:s,children:n})})})};fk.displayName=xy;var Sc="PopoverContent",hk=g.forwardRef((e,t)=>{const r=q$(Sc,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,a=so(Sc,e.__scopePopover);return i.jsx(Fn,{present:n||a.open,children:a.modal?i.jsx(X$,{...s,ref:t}):i.jsx(Y$,{...s,ref:t})})});hk.displayName=Sc;var K$=Uo("PopoverContent.RemoveScroll"),X$=g.forwardRef((e,t)=>{const r=so(Sc,e.__scopePopover),n=g.useRef(null),s=pt(t,n),a=g.useRef(!1);return g.useEffect(()=>{const o=n.current;if(o)return vy(o)},[]),i.jsx(Hp,{as:K$,allowPinchZoom:!0,children:i.jsx(pk,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ze(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ze(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ze(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Y$=g.forwardRef((e,t)=>{const r=so(Sc,e.__scopePopover),n=g.useRef(!1),s=g.useRef(!1);return i.jsx(pk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),pk=g.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=so(Sc,r),p=rf(r);return gy(),i.jsx(Vp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(Pc,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:i.jsx(W1,{"data-state":gk(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),mk="PopoverClose",J$=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=so(mk,r);return i.jsx(Ke.button,{type:"button",...n,ref:t,onClick:ze(e.onClick,()=>s.onOpenChange(!1))})});J$.displayName=mk;var Q$="PopoverArrow",Z$=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=rf(r);return i.jsx(H1,{...s,...n,ref:t})});Z$.displayName=Q$;function gk(e){return e?"open":"closed"}var e9=lk,t9=dk,r9=fk,vk=hk;const n9=e9,s9=t9,xk=g.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>i.jsx(r9,{children:i.jsx(vk,{ref:s,align:t,sideOffset:r,className:Be("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));xk.displayName=vk.displayName;var a9=g.createContext(void 0);function qp(e){const t=g.useContext(a9);return e||t||"ltr"}function hx(e,[t,r]){return Math.min(r,Math.max(t,e))}function i9(e,t){return g.useReducer((r,n)=>t[r][n]??r,e)}var yy="ScrollArea",[yk,OQ]=Yn(yy),[o9,Ps]=yk(yy),wk=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...o}=e,[l,c]=g.useState(null),[u,d]=g.useState(null),[f,h]=g.useState(null),[p,x]=g.useState(null),[m,v]=g.useState(null),[_,w]=g.useState(0),[y,S]=g.useState(0),[E,C]=g.useState(!1),[b,j]=g.useState(!1),N=pt(t,k=>c(k)),R=qp(s);return i.jsx(o9,{scope:r,type:n,dir:R,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:x,scrollbarXEnabled:E,onScrollbarXEnabledChange:C,scrollbarY:m,onScrollbarYChange:v,scrollbarYEnabled:b,onScrollbarYEnabledChange:j,onCornerWidthChange:w,onCornerHeightChange:S,children:i.jsx(Ke.div,{dir:R,...o,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});wk.displayName=yy;var _k="ScrollAreaViewport",bk=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...a}=e,o=Ps(_k,r),l=g.useRef(null),c=pt(t,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),i.jsx(Ke.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});bk.displayName=_k;var Ta="ScrollAreaScrollbar",wy=g.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ps(Ta,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return g.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),s.type==="hover"?i.jsx(l9,{...n,ref:t,forceMount:r}):s.type==="scroll"?i.jsx(c9,{...n,ref:t,forceMount:r}):s.type==="auto"?i.jsx(Sk,{...n,ref:t,forceMount:r}):s.type==="always"?i.jsx(_y,{...n,ref:t}):null});wy.displayName=Ta;var l9=g.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ps(Ta,e.__scopeScrollArea),[a,o]=g.useState(!1);return g.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),i.jsx(Fn,{present:r||a,children:i.jsx(Sk,{"data-state":a?"visible":"hidden",...n,ref:t})})}),c9=g.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ps(Ta,e.__scopeScrollArea),a=e.orientation==="horizontal",o=Xp(()=>c("SCROLL_END"),100),[l,c]=i9("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),g.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),o()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,a,c,o]),i.jsx(Fn,{present:r||l!=="hidden",children:i.jsx(_y,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:ze(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ze(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Sk=g.forwardRef((e,t)=>{const r=Ps(Ta,e.__scopeScrollArea),{forceMount:n,...s}=e,[a,o]=g.useState(!1),l=e.orientation==="horizontal",c=Xp(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Ec(r.viewport,c),Ec(r.content,c),i.jsx(Fn,{present:n||a,children:i.jsx(_y,{"data-state":a?"visible":"hidden",...s,ref:t})})}),_y=g.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Ps(Ta,e.__scopeScrollArea),a=g.useRef(null),o=g.useRef(0),[l,c]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Tk(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return m9(h,o.current,l,p)}return r==="horizontal"?i.jsx(u9,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollLeft,p=e2(h,l,s.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?i.jsx(d9,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollTop,p=e2(h,l);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),u9=g.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=Ps(Ta,e.__scopeScrollArea),[o,l]=g.useState(),c=g.useRef(null),u=pt(t,c,a.onScrollbarXChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(Nk,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Kp(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),Ak(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:P0(o.paddingLeft),paddingEnd:P0(o.paddingRight)}})}})}),d9=g.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=Ps(Ta,e.__scopeScrollArea),[o,l]=g.useState(),c=g.useRef(null),u=pt(t,c,a.onScrollbarYChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(Nk,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Kp(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),Ak(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:P0(o.paddingTop),paddingEnd:P0(o.paddingBottom)}})}})}),[f9,Ek]=yk(Ta),Nk=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=Ps(Ta,r),[x,m]=g.useState(null),v=pt(t,N=>m(N)),_=g.useRef(null),w=g.useRef(""),y=p.viewport,S=n.content-n.viewport,E=Ar(d),C=Ar(c),b=Xp(f,10);function j(N){if(_.current){const R=N.clientX-_.current.left,k=N.clientY-_.current.top;u({x:R,y:k})}}return g.useEffect(()=>{const N=R=>{const k=R.target;(x==null?void 0:x.contains(k))&&E(R,S)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[y,x,S,E]),g.useEffect(C,[n,C]),Ec(x,b),Ec(p.content,b),i.jsx(f9,{scope:r,scrollbar:x,hasThumb:s,onThumbChange:Ar(a),onThumbPointerUp:Ar(o),onThumbPositionChange:C,onThumbPointerDown:Ar(l),children:i.jsx(Ke.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:ze(e.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),_.current=x.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),j(N))}),onPointerMove:ze(e.onPointerMove,j),onPointerUp:ze(e.onPointerUp,N=>{const R=N.target;R.hasPointerCapture(N.pointerId)&&R.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=w.current,p.viewport&&(p.viewport.style.scrollBehavior=""),_.current=null})})})}),O0="ScrollAreaThumb",jk=g.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ek(O0,e.__scopeScrollArea);return i.jsx(Fn,{present:r||s.hasThumb,children:i.jsx(h9,{ref:t,...n})})}),h9=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,a=Ps(O0,r),o=Ek(O0,r),{onThumbPositionChange:l}=o,c=pt(t,f=>o.onThumbChange(f)),u=g.useRef(void 0),d=Xp(()=>{u.current&&(u.current(),u.current=void 0)},100);return g.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!u.current){const p=g9(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,l]),i.jsx(Ke.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ze(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),x=f.clientX-p.left,m=f.clientY-p.top;o.onThumbPointerDown({x,y:m})}),onPointerUp:ze(e.onPointerUp,o.onThumbPointerUp)})});jk.displayName=O0;var by="ScrollAreaCorner",Ck=g.forwardRef((e,t)=>{const r=Ps(by,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(p9,{...e,ref:t}):null});Ck.displayName=by;var p9=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Ps(by,r),[a,o]=g.useState(0),[l,c]=g.useState(0),u=!!(a&&l);return Ec(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Ec(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?i.jsx(Ke.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function P0(e){return e?parseInt(e,10):0}function Tk(e,t){const r=e/t;return isNaN(r)?0:r}function Kp(e){const t=Tk(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function m9(e,t,r,n="ltr"){const s=Kp(r),a=s/2,o=t||a,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return kk([c,u],f)(e)}function e2(e,t,r="ltr"){const n=Kp(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,o=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,o]:[o*-1,0],u=hx(e,c);return kk([0,o],[0,l])(u)}function kk(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Ak(e,t){return e>0&&e<t}var g9=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},o=r.left!==a.left,l=r.top!==a.top;(o||l)&&t(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Xp(e,t){const r=Ar(e),n=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(n.current),[]),g.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Ec(e,t){const r=Ar(t);_r(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var Rk=wk,v9=bk,x9=Ck;const Vn=g.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(Rk,{ref:n,className:Be("relative overflow-hidden",e),...r,children:[i.jsx(v9,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(Ok,{}),i.jsx(x9,{})]}));Vn.displayName=Rk.displayName;const Ok=g.forwardRef(({className:e,orientation:t="vertical",...r},n)=>i.jsx(wy,{ref:n,orientation:t,className:Be("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:i.jsx(jk,{className:"relative flex-1 rounded-full bg-border"})}));Ok.displayName=wy.displayName;var Pk={exports:{}},Ik={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nc=g;function y9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var w9=typeof Object.is=="function"?Object.is:y9,_9=Nc.useState,b9=Nc.useEffect,S9=Nc.useLayoutEffect,E9=Nc.useDebugValue;function N9(e,t){var r=t(),n=_9({inst:{value:r,getSnapshot:t}}),s=n[0].inst,a=n[1];return S9(function(){s.value=r,s.getSnapshot=t,gg(s)&&a({inst:s})},[e,r,t]),b9(function(){return gg(s)&&a({inst:s}),e(function(){gg(s)&&a({inst:s})})},[e]),E9(r),r}function gg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!w9(e,r)}catch{return!0}}function j9(e,t){return t()}var C9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?j9:N9;Ik.useSyncExternalStore=Nc.useSyncExternalStore!==void 0?Nc.useSyncExternalStore:C9;Pk.exports=Ik;var T9=Pk.exports;function k9(){return T9.useSyncExternalStore(A9,()=>!0,()=>!1)}function A9(){return()=>{}}var Sy="Avatar",[R9,PQ]=Yn(Sy),[O9,Dk]=R9(Sy),Fk=g.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,a]=g.useState("idle");return i.jsx(O9,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:i.jsx(Ke.span,{...n,ref:t})})});Fk.displayName=Sy;var Lk="AvatarImage",Mk=g.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...a}=e,o=Dk(Lk,r),l=P9(n,a),c=Ar(u=>{s(u),o.onImageLoadingStatusChange(u)});return _r(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(Ke.img,{...a,ref:t,src:n}):null});Mk.displayName=Lk;var Bk="AvatarFallback",$k=g.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,a=Dk(Bk,r),[o,l]=g.useState(n===void 0);return g.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&a.imageLoadingStatus!=="loaded"?i.jsx(Ke.span,{...s,ref:t}):null});$k.displayName=Bk;function t2(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function P9(e,{referrerPolicy:t,crossOrigin:r}){const n=k9(),s=g.useRef(null),a=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=g.useState(()=>t2(a,e));return _r(()=>{l(t2(a,e))},[a,e]),_r(()=>{const c=f=>()=>{l(f)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,r,t]),o}var Uk=Fk,zk=Mk,Vk=$k;const xn=g.forwardRef(({className:e,...t},r)=>i.jsx(Uk,{ref:r,className:Be("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));xn.displayName=Uk.displayName;const yn=g.forwardRef(({className:e,...t},r)=>i.jsx(zk,{ref:r,className:Be("aspect-square h-full w-full",e),...t}));yn.displayName=zk.displayName;const wn=g.forwardRef(({className:e,...t},r)=>i.jsx(Vk,{ref:r,className:Be("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));wn.displayName=Vk.displayName;function Uc(){const{user:e}=Pr();return{logAction:async(r,n,s,a)=>{if(e)try{await re.from("audit_logs").insert({user_id:e.id,action:r,target_type:n,target_id:s,details:a})}catch(o){console.error("Error logging audit:",o)}}}}const Wk=[{key:"manage_users",label:"Gerenciar usurios",enabled:!0},{key:"manage_questions",label:"Gerenciar perguntas",enabled:!0},{key:"view_all_history",label:"Ver todo histrico",enabled:!0},{key:"full_settings",label:"Configuraes completas",enabled:!0},{key:"manage_reports",label:"Gerenciar relatrios",enabled:!0},{key:"archive_tickets",label:"Arquivar tickets",enabled:!0},{key:"live_monitoring",label:"Monitorar ao vivo",enabled:!0},{key:"send_notifications",label:"Enviar notificaes",enabled:!0},{key:"customize_system",label:"Customizar sistema",enabled:!0},{key:"conduct_interviews",label:"Realizar entrevistas",enabled:!0},{key:"respond_tickets",label:"Responder tickets",enabled:!0},{key:"view_profiles",label:"Ver perfis",enabled:!0},{key:"edit_own_profile",label:"Editar prprio perfil",enabled:!0},{key:"view_own_dashboard",label:"Ver prprio dashboard",enabled:!0},{key:"create_support_tickets",label:"Criar tickets suporte",enabled:!0},{key:"view_pendencias",label:"Ver pendncias",enabled:!0}],Ra=e=>Wk.map(t=>({...t,enabled:e.includes(t.key)})),ai={admin_master:{id:"",role_key:"admin_master",name:"Admin",description:"Controle total do sistema",color:"#FF1F1F",level:"Nvel Mximo",permissions:Wk.map(e=>({...e,enabled:!0}))},clevel:{id:"",role_key:"clevel",name:"CLevel",description:"Mesmo nvel do Admin, sem configuraes visuais",color:"#9333EA",level:"Nvel Executivo",permissions:Ra(["manage_users","manage_questions","view_all_history","manage_reports","archive_tickets","live_monitoring","send_notifications","conduct_interviews","respond_tickets","view_profiles","edit_own_profile","view_own_dashboard","create_support_tickets","view_pendencias"])},director:{id:"",role_key:"director",name:"Director",description:"Mesmo nvel do Admin, sem configuraes visuais",color:"#7C3AED",level:"Nvel Diretoria",permissions:Ra(["manage_users","manage_questions","view_all_history","manage_reports","archive_tickets","live_monitoring","send_notifications","conduct_interviews","respond_tickets","view_profiles","edit_own_profile","view_own_dashboard","create_support_tickets","view_pendencias"])},coordinator:{id:"",role_key:"coordinator",name:"Coordinator",description:"Mesmo nvel do Admin, sem configuraes visuais",color:"#6366F1",level:"Nvel Coordenao",permissions:Ra(["manage_users","manage_questions","view_all_history","manage_reports","archive_tickets","live_monitoring","send_notifications","conduct_interviews","respond_tickets","view_profiles","edit_own_profile","view_own_dashboard","create_support_tickets","view_pendencias"])},staff_manager:{id:"",role_key:"staff_manager",name:"Staff Manager",description:"Gerenciamento de equipe",color:"#3B82F6",level:"Nvel Gerncia",permissions:Ra(["view_all_history","manage_reports","live_monitoring","send_notifications","conduct_interviews","respond_tickets","view_profiles","edit_own_profile","view_own_dashboard","create_support_tickets","view_pendencias"])},casting_manager:{id:"",role_key:"casting_manager",name:"Casting Manager",description:"Gerncia de casting",color:"#3B82F6",level:"Nvel Intermedirio",permissions:Ra(["manage_reports","send_notifications","conduct_interviews","respond_tickets","view_profiles","edit_own_profile","view_own_dashboard","create_support_tickets"])},staff:{id:"",role_key:"staff",name:"Staff",description:"Equipe operacional",color:"#10B981",level:"Nvel Operacional",permissions:Ra(["conduct_interviews","respond_tickets","view_profiles","edit_own_profile","view_own_dashboard","create_support_tickets"])},support:{id:"",role_key:"support",name:"Support",description:"Equipe de suporte",color:"#F59E0B",level:"Nvel Suporte",permissions:Ra(["respond_tickets","view_profiles","edit_own_profile","view_own_dashboard","create_support_tickets"])},casting:{id:"",role_key:"casting",name:"Casting",description:"Entrevistadores",color:"#22C55E",level:"Nvel Bsico",permissions:Ra(["conduct_interviews","edit_own_profile","view_own_dashboard","create_support_tickets"])},entrevistador:{id:"",role_key:"entrevistador",name:"Casting",description:"Entrevistadores",color:"#22C55E",level:"Nvel Bsico",permissions:Ra(["conduct_interviews","edit_own_profile","view_own_dashboard","create_support_tickets"])}};function Zo(){const[e,t]=g.useState(ai),[r,n]=g.useState(!0),{logAction:s}=Uc(),a=g.useCallback(async()=>{try{const{data:f,error:h}=await re.from("role_configs").select("*");if(h)throw h;if(f&&f.length>0){const p={...ai};f.forEach(x=>{var v,_,w;let m=x.permissions||[];Array.isArray(m)&&m.length===0&&(m=((v=ai[x.role_key])==null?void 0:v.permissions)||[]),p[x.role_key]={id:x.id,role_key:x.role_key,name:x.name,description:x.description||((_=ai[x.role_key])==null?void 0:_.description)||"",color:x.color,level:x.level||((w=ai[x.role_key])==null?void 0:w.level)||"",permissions:m}}),t(p)}}catch(f){console.error("Error fetching role configs:",f)}finally{n(!1)}},[]);g.useEffect(()=>{a();const f=re.channel("role_configs_changes").on("postgres_changes",{event:"*",schema:"public",table:"role_configs"},()=>{a()}).subscribe();return()=>{re.removeChannel(f)}},[a]);const o=async(f,h)=>{try{const p=h.permissions?JSON.parse(JSON.stringify(h.permissions)):void 0,{error:x}=await re.from("role_configs").update({name:h.name,description:h.description,color:h.color,level:h.level,permissions:p,updated_at:new Date().toISOString()}).eq("role_key",f);if(x)throw x;return t(m=>({...m,[f]:{...m[f],...h}})),await s("update_role_permissions","role",f,{updates:h}),!0}catch(p){return console.error("Error updating role config:",p),!1}},l=f=>{var h,p;return((h=e[f])==null?void 0:h.color)||((p=ai[f])==null?void 0:p.color)||"#888888"},c=f=>{var h,p;return((h=e[f])==null?void 0:h.name)||((p=ai[f])==null?void 0:p.name)||f},u=f=>{var h,p;return((h=e[f])==null?void 0:h.permissions)||((p=ai[f])==null?void 0:p.permissions)||[]};return{roleConfigs:e,isLoading:r,fetchRoleConfigs:a,updateRoleConfig:o,getRoleColor:l,getRoleName:c,getRolePermissions:u,hasRolePermission:(f,h)=>{const x=u(f).find(m=>m.key===h);return(x==null?void 0:x.enabled)??!1}}}const I9=()=>{try{const e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),r=e.createGain();t.connect(r),r.connect(e.destination),t.frequency.value=800,t.type="sine",r.gain.setValueAtTime(.3,e.currentTime),r.gain.exponentialRampToValueAtTime(.01,e.currentTime+.3),t.start(e.currentTime),t.stop(e.currentTime+.3)}catch(e){console.log("Could not play notification sound:",e)}};function D9(){const{user:e}=Pr(),{toast:t}=pr(),{getRoleColor:r,getRoleName:n}=Zo(),[s,a]=g.useState([]),[o,l]=g.useState([]),[c,u]=g.useState([]),[d,f]=g.useState(!1),[h,p]=g.useState(!1),x=g.useRef(!1);g.useEffect(()=>{if(!e)return;m();const b=re.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e.id}`},j=>{const N=j.new,R=o.find(O=>O.user_id===N.sender_id),k=c.find(O=>O.user_id===N.sender_id);a(O=>[{...N,sender_name:(R==null?void 0:R.name)||"Admin",sender_avatar:R==null?void 0:R.avatar_url,sender_role:(k==null?void 0:k.role)||"admin_master"},...O]),x.current&&I9()}).subscribe();return()=>{re.removeChannel(b)}},[e,o,c]);const m=async()=>{if(!e)return;const[b,j,N]=await Promise.all([re.from("profiles").select("user_id, name, avatar_url"),re.from("user_roles").select("user_id, role"),re.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(20)]);if(b.data&&l(b.data),j.data&&u(j.data),N.data&&b.data&&j.data){const R=N.data.map(k=>{const O=b.data.find(K=>K.user_id===k.sender_id),L=j.data.find(K=>K.user_id===k.sender_id);return{...k,sender_name:(O==null?void 0:O.name)||"Admin",sender_avatar:O==null?void 0:O.avatar_url,sender_role:(L==null?void 0:L.role)||"admin_master"}});a(R),x.current=!0}},v=async b=>{const{error:j}=await re.from("notifications").update({is_read:!0}).eq("id",b);j||a(N=>N.map(R=>R.id===b?{...R,is_read:!0}:R))},_=async()=>{if(!e)return;const{error:b}=await re.from("notifications").update({is_read:!0}).eq("user_id",e.id).eq("is_read",!1);b||a(j=>j.map(N=>({...N,is_read:!0})))},w=async()=>{if(e){p(!0);try{const{error:b}=await re.from("notifications").delete().eq("user_id",e.id);if(b)throw b;a([]),t({title:"Notificaes limpas",description:"Todas as notificaes foram removidas."})}catch(b){console.error("Error clearing notifications:",b),t({title:"Erro",description:"No foi possvel limpar as notificaes.",variant:"destructive"})}finally{p(!1)}}},y=s.filter(b=>!b.is_read).length,S=b=>{const j=new Date(b),R=new Date().getTime()-j.getTime(),k=Math.floor(R/(1e3*60)),O=Math.floor(R/(1e3*60*60)),L=Math.floor(O/24);return k<1?"Agora":k<60?`${k}m`:O<24?`${O}h`:`${L}d`},E=b=>{const j=r(b||"admin_master"),N=n(b||"admin_master"),R=b==="admin_master"?ur:b==="casting_manager"?dd:xa;return i.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] font-medium",style:{backgroundColor:`${j}20`,color:j},children:[i.jsx(R,{className:"w-2.5 h-2.5"}),N]})},C=b=>b.split(" ").map(j=>j[0]).join("").toUpperCase().slice(0,2);return i.jsxs(n9,{open:d,onOpenChange:f,children:[i.jsx(s9,{asChild:!0,children:i.jsxs(fe,{variant:"ghost",size:"icon",className:"relative hover:bg-accent",children:[i.jsx(i0,{className:"w-5 h-5"}),y>0&&i.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-primary text-primary-foreground text-xs font-bold rounded-full flex items-center justify-center animate-pulse",children:y>9?"9+":y})]})}),i.jsxs(xk,{className:"w-96 p-0 glass-panel border-primary/20",align:"end",children:[i.jsx("div",{className:"p-4 border-b border-border bg-gradient-to-r from-primary/10 to-transparent",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-display font-bold text-foreground",children:"Notificaes"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:y>0?`${y} no lida${y>1?"s":""}`:"Tudo em dia"})]}),i.jsxs("div",{className:"flex gap-1",children:[y>0&&i.jsxs(fe,{variant:"ghost",size:"sm",onClick:_,className:"text-xs h-8",children:[i.jsx(A1,{className:"w-3.5 h-3.5 mr-1"}),"Marcar"]}),s.length>0&&i.jsxs(fe,{variant:"ghost",size:"sm",onClick:w,disabled:h,className:"text-xs h-8 text-destructive hover:text-destructive",children:[i.jsx(an,{className:"w-3.5 h-3.5 mr-1"}),"Limpar"]})]})]})}),i.jsx(Vn,{className:"max-h-[400px]",children:s.length===0?i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-3 rounded-full bg-muted/50 flex items-center justify-center",children:i.jsx(i0,{className:"w-8 h-8 text-muted-foreground/50"})}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"Nenhuma notificao"}),i.jsx("p",{className:"text-muted-foreground/60 text-xs mt-1",children:"Voc ver alertas aqui"})]}):i.jsx("div",{className:"divide-y divide-border/50",children:s.map(b=>i.jsx("div",{className:`p-4 hover:bg-accent/30 transition-colors cursor-pointer ${b.is_read?"":"bg-primary/5 border-l-2 border-l-primary"}`,onClick:()=>v(b.id),children:i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(xn,{className:"w-10 h-10 border border-border flex-shrink-0",children:[i.jsx(yn,{src:b.sender_avatar||void 0}),i.jsx(wn,{className:"bg-primary/10 text-primary text-xs",children:C(b.sender_name||"?")})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"text-sm font-medium text-foreground truncate",children:b.sender_name}),E(b.sender_role),i.jsx("span",{className:"text-xs text-muted-foreground/60 ml-auto flex-shrink-0",children:S(b.created_at)})]}),i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:b.message})]}),!b.is_read&&i.jsx("div",{className:"w-2.5 h-2.5 bg-primary rounded-full flex-shrink-0 mt-2 animate-pulse"})]})},b.id))})})]})]})}function F9(){const[e,t]=g.useState([]);return g.useEffect(()=>{const r=[];for(let n=0;n<50;n++)r.push({id:n,x:Math.random()*100,size:Math.random()*4+2,delay:Math.random()*10,duration:Math.random()*10+10,opacity:Math.random()*.6+.2});t(r)},[]),i.jsxs("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:[e.map(r=>i.jsx("div",{className:"absolute rounded-full bg-white/80",style:{left:`${r.x}%`,width:`${r.size}px`,height:`${r.size}px`,opacity:r.opacity,animation:`snowfall ${r.duration}s linear ${r.delay}s infinite`}},r.id)),i.jsx("style",{children:`
        @keyframes snowfall {
          0% {
            transform: translateY(-10px) rotate(0deg);
            opacity: 0;
          }
          10% {
            opacity: 1;
          }
          90% {
            opacity: 1;
          }
          100% {
            transform: translateY(100vh) rotate(360deg);
            opacity: 0;
          }
        }
      `})]})}function On({children:e}){const{config:t}=$p(),{effect:r}=oy();return i.jsxs("div",{className:"flex h-screen w-full overflow-hidden",children:[r==="christmas"&&i.jsx(F9,{}),i.jsx("div",{className:"bg-nebula"}),i.jsx("div",{className:"grid-overlay"}),t.site_background_url&&i.jsx("div",{className:"fixed inset-0 z-[-3] bg-cover bg-center bg-no-repeat opacity-20",style:{backgroundImage:`url(${t.site_background_url})`}}),i.jsx(QB,{}),i.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative z-10",children:[i.jsx("div",{className:"flex justify-end p-4 border-b border-border/50",children:i.jsx(D9,{})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6 lg:p-8",children:e})]})]})}function Ia({className:e,...t}){return i.jsx("div",{className:Be("animate-pulse rounded-md bg-muted",e),...t})}var Yp="Dialog",[Hk,IQ]=Yn(Yp),[L9,oa]=Hk(Yp),Gk=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=g.useRef(null),c=g.useRef(null),[u,d]=na({prop:n,defaultProp:s??!1,onChange:a,caller:Yp});return i.jsx(L9,{scope:t,triggerRef:l,contentRef:c,contentId:ea(),titleId:ea(),descriptionId:ea(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};Gk.displayName=Yp;var qk="DialogTrigger",Kk=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=oa(qk,r),a=pt(t,s.triggerRef);return i.jsx(Ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":jy(s.open),...n,ref:a,onClick:ze(e.onClick,s.onOpenToggle)})});Kk.displayName=qk;var Ey="DialogPortal",[M9,Xk]=Hk(Ey,{forceMount:void 0}),Yk=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=oa(Ey,t);return i.jsx(M9,{scope:t,forceMount:r,children:g.Children.map(n,o=>i.jsx(Fn,{present:r||a.open,children:i.jsx(Wd,{asChild:!0,container:s,children:o})}))})};Yk.displayName=Ey;var I0="DialogOverlay",Jk=g.forwardRef((e,t)=>{const r=Xk(I0,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=oa(I0,e.__scopeDialog);return a.modal?i.jsx(Fn,{present:n||a.open,children:i.jsx($9,{...s,ref:t})}):null});Jk.displayName=I0;var B9=Uo("DialogOverlay.RemoveScroll"),$9=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=oa(I0,r);return i.jsx(Hp,{as:B9,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(Ke.div,{"data-state":jy(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Wo="DialogContent",Qk=g.forwardRef((e,t)=>{const r=Xk(Wo,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=oa(Wo,e.__scopeDialog);return i.jsx(Fn,{present:n||a.open,children:a.modal?i.jsx(U9,{...s,ref:t}):i.jsx(z9,{...s,ref:t})})});Qk.displayName=Wo;var U9=g.forwardRef((e,t)=>{const r=oa(Wo,e.__scopeDialog),n=g.useRef(null),s=pt(t,r.contentRef,n);return g.useEffect(()=>{const a=n.current;if(a)return vy(a)},[]),i.jsx(Zk,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ze(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ze(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:ze(e.onFocusOutside,a=>a.preventDefault())})}),z9=g.forwardRef((e,t)=>{const r=oa(Wo,e.__scopeDialog),n=g.useRef(!1),s=g.useRef(!1);return i.jsx(Zk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),Zk=g.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=oa(Wo,r),c=g.useRef(null),u=pt(t,c);return gy(),i.jsxs(i.Fragment,{children:[i.jsx(Vp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(Pc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":jy(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(V9,{titleId:l.titleId}),i.jsx(H9,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Ny="DialogTitle",e4=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=oa(Ny,r);return i.jsx(Ke.h2,{id:s.titleId,...n,ref:t})});e4.displayName=Ny;var t4="DialogDescription",r4=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=oa(t4,r);return i.jsx(Ke.p,{id:s.descriptionId,...n,ref:t})});r4.displayName=t4;var n4="DialogClose",s4=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=oa(n4,r);return i.jsx(Ke.button,{type:"button",...n,ref:t,onClick:ze(e.onClick,()=>s.onOpenChange(!1))})});s4.displayName=n4;function jy(e){return e?"open":"closed"}var a4="DialogTitleWarning",[DQ,i4]=lI(a4,{contentName:Wo,titleName:Ny,docsSlug:"dialog"}),V9=({titleId:e})=>{const t=i4(a4),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},W9="DialogDescriptionWarning",H9=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${i4(W9).contentName}}.`;return g.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},G9=Gk,q9=Kk,K9=Yk,o4=Jk,l4=Qk,c4=e4,u4=r4,X9=s4;const Tt=G9,zc=q9,Y9=K9,d4=g.forwardRef(({className:e,...t},r)=>i.jsx(o4,{ref:r,className:Be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));d4.displayName=o4.displayName;const Et=g.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(Y9,{children:[i.jsx(d4,{}),i.jsxs(l4,{ref:n,className:Be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(X9,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(Sp,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Et.displayName=l4.displayName;const kt=({className:e,...t})=>i.jsx("div",{className:Be("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});kt.displayName="DialogHeader";const qt=({className:e,...t})=>i.jsx("div",{className:Be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});qt.displayName="DialogFooter";const At=g.forwardRef(({className:e,...t},r)=>i.jsx(c4,{ref:r,className:Be("text-lg font-semibold leading-none tracking-tight",e),...t}));At.displayName=c4.displayName;const dr=g.forwardRef(({className:e,...t},r)=>i.jsx(u4,{ref:r,className:Be("text-sm text-muted-foreground",e),...t}));dr.displayName=u4.displayName;function Cy(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Jp="Switch",[J9,FQ]=Yn(Jp),[Q9,Z9]=J9(Jp),f4=g.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=g.useState(null),x=pt(t,y=>p(y)),m=g.useRef(!1),v=h?d||!!h.closest("form"):!0,[_,w]=na({prop:s,defaultProp:a??!1,onChange:u,caller:Jp});return i.jsxs(Q9,{scope:r,checked:_,disabled:l,children:[i.jsx(Ke.button,{type:"button",role:"switch","aria-checked":_,"aria-required":o,"data-state":g4(_),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onClick:ze(e.onClick,y=>{w(S=>!S),v&&(m.current=y.isPropagationStopped(),m.current||y.stopPropagation())})}),v&&i.jsx(m4,{control:h,bubbles:!m.current,name:n,value:c,checked:_,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});f4.displayName=Jp;var h4="SwitchThumb",p4=g.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=Z9(h4,r);return i.jsx(Ke.span,{"data-state":g4(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});p4.displayName=h4;var e7="SwitchBubbleInput",m4=g.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},a)=>{const o=g.useRef(null),l=pt(o,a),c=Cy(r),u=$1(t);return g.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const x=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(x)}},[c,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});m4.displayName=e7;function g4(e){return e?"checked":"unchecked"}var v4=f4,t7=p4;const jc=g.forwardRef(({className:e,...t},r)=>i.jsx(v4,{className:Be("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:i.jsx(t7,{className:Be("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));jc.displayName=v4.displayName;const r2=[{key:"stats_today",label:"Entrevistas Hoje",enabled:!0},{key:"stats_month",label:"Entrevistas do Ms",enabled:!0},{key:"stats_approval",label:"Taxa de Aprovao",enabled:!0},{key:"stats_rejected",label:"Reprovados",enabled:!0},{key:"top_interviewers",label:"Top Entrevistadores",enabled:!0},{key:"quick_actions",label:"Aes Rpidas",enabled:!0}];function r7({onConfigChange:e,currentConfig:t}){const{toast:r}=pr(),[n,s]=g.useState(!1),[a,o]=g.useState(r2),[l,c]=g.useState(!1);g.useEffect(()=>{t&&o(r2.map(f=>({...f,enabled:t[f.key]??f.enabled})))},[t]);const u=f=>{o(h=>h.map(p=>p.key===f?{...p,enabled:!p.enabled}:p))},d=async()=>{c(!0);try{const f={};a.forEach(h=>{f[h.key]=h.enabled}),localStorage.setItem("dashboard_widgets",JSON.stringify(f)),e(f),s(!1),r({title:"Sucesso",description:"Dashboard personalizado salvo!"})}finally{c(!1)}};return i.jsxs(Tt,{open:n,onOpenChange:s,children:[i.jsx(zc,{asChild:!0,children:i.jsxs(fe,{variant:"outline",size:"sm",className:"gap-2",children:[i.jsx(u0,{className:"w-4 h-4"}),"Personalizar"]})}),i.jsxs(Et,{className:"glass-panel border-t-2 border-primary max-w-md",children:[i.jsxs(kt,{children:[i.jsxs(At,{className:"flex items-center gap-2",children:[i.jsx(u0,{className:"w-5 h-5 text-primary"}),"Personalizar Dashboard"]}),i.jsx(dr,{children:"Escolha quais widgets exibir no seu dashboard"})]}),i.jsx("div",{className:"space-y-4 py-4",children:a.map(f=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-accent/50 border border-border",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[f.enabled?i.jsx($i,{className:"w-4 h-4 text-primary"}):i.jsx(Fu,{className:"w-4 h-4 text-muted-foreground"}),i.jsx(ve,{className:"cursor-pointer",children:f.label})]}),i.jsx(jc,{checked:f.enabled,onCheckedChange:()=>u(f.key)})]},f.key))}),i.jsxs(qt,{children:[i.jsx(fe,{variant:"ghost",onClick:()=>s(!1),children:"Cancelar"}),i.jsxs(fe,{onClick:d,disabled:l,className:"btn-neon",children:[l?i.jsx(ot,{className:"w-4 h-4 animate-spin mr-2"}):i.jsx($a,{className:"w-4 h-4 mr-2"}),"Salvar"]})]})]})]})}function n7(){const{profile:e,isAdmin:t}=Pr(),r=Zd(),{toast:n}=pr(),[s,a]=g.useState(null),[o,l]=g.useState([]),[c,u]=g.useState(!0),[d,f]=g.useState(!1),[h,p]=g.useState(!1),[x,m]=g.useState(null),[v,_]=g.useState(()=>{const E=localStorage.getItem("dashboard_widgets");return E?JSON.parse(E):{stats_today:!0,stats_month:!0,stats_approval:!0,stats_rejected:!0,top_interviewers:!0,quick_actions:!0}});g.useEffect(()=>{w()},[t]);const w=async()=>{try{const E=new Date;E.setHours(0,0,0,0);const C=new Date(E.getFullYear(),E.getMonth(),1),{data:b}=await re.from("system_configs").select("value").eq("key","ranking_reset_date").single(),j=b!=null&&b.value?new Date(b.value):null;m((b==null?void 0:b.value)||null);const{data:N}=await re.from("interviews").select("*");if(N){const R=N.filter(K=>new Date(K.created_at)>=E),k=N.filter(K=>new Date(K.created_at)>=C),O=k.filter(K=>K.result==="approved").length,L=k.length;if(a({totalToday:R.length,totalMonth:L,approvalRate:L>0?Math.round(O/L*100):0,myInterviews:N.length,myApproved:N.filter(K=>K.result==="approved").length,myRejected:N.filter(K=>K.result==="rejected").length}),t){const K={},M=j&&j>C?j:C,q=N.filter(X=>new Date(X.created_at)>=M);for(const X of q)X.interviewer_id&&(K[X.interviewer_id]||(K[X.interviewer_id]={total:0,approved:0,rejected:0}),K[X.interviewer_id].total++,X.result==="approved"?K[X.interviewer_id].approved++:K[X.interviewer_id].rejected++);const ie=Object.keys(K);if(ie.length>0){const{data:X}=await re.from("profiles").select("user_id, name").in("user_id",ie),J=ie.map(Y=>{const ge=X==null?void 0:X.find(P=>P.user_id===Y);return{name:(ge==null?void 0:ge.name)||"Desconhecido",...K[Y]}}).sort((Y,ge)=>ge.total-Y.total).slice(0,5);l(J)}}}}catch(E){console.error("Error fetching dashboard data:",E)}finally{u(!1)}},y=async()=>{p(!0);try{const E=new Date().toISOString(),{error:C}=await re.from("system_configs").update({value:E,updated_at:E}).eq("key","ranking_reset_date");if(C)throw C;n({title:"Ranking Resetado",description:"O ranking foi resetado com sucesso. Apenas novas entrevistas sero contabilizadas."}),f(!1),w()}catch(E){console.error("Error resetting ranking:",E),n({title:"Erro",description:"No foi possvel resetar o ranking.",variant:"destructive"})}finally{p(!1)}},S=we.forwardRef(({icon:E,label:C,value:b,subtext:j,color:N="primary"},R)=>i.jsxs("div",{ref:R,className:"glass-panel rounded-xl p-6 card-hover",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsx("div",{className:`p-3 rounded-xl bg-${N}/10 border border-${N}/20`,children:i.jsx(E,{className:`w-6 h-6 text-${N}`})}),i.jsx(b5,{className:"w-4 h-4 text-success"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-3xl font-display font-bold text-foreground",children:b}),i.jsx("p",{className:"text-sm text-muted-foreground",children:C}),j&&i.jsx("p",{className:"text-xs text-muted-foreground/70",children:j})]})]}));return S.displayName="StatCard",i.jsxs(On,{children:[i.jsxs("div",{className:"space-y-8 animate-fade-in",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-display font-bold text-foreground",children:"Dashboard"}),i.jsxs("p",{className:"text-muted-foreground mt-1",children:["Bem-vindo de volta, ",(e==null?void 0:e.name)||"Usurio","!"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[t&&i.jsx(r7,{onConfigChange:_,currentConfig:v}),i.jsxs(fe,{onClick:()=>r("/interview"),className:"btn-neon gap-2",children:[i.jsx(Po,{className:"w-5 h-5"}),"Nova Entrevista",i.jsx(Ff,{className:"w-4 h-4"})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:c?i.jsx(i.Fragment,{children:[...Array(4)].map((E,C)=>i.jsx(Ia,{className:"h-40 rounded-xl"},C))}):i.jsxs(i.Fragment,{children:[v.stats_today!==!1&&i.jsx(S,{icon:En,label:"Entrevistas Hoje",value:(s==null?void 0:s.totalToday)||0,subtext:"ltimas 24 horas"}),v.stats_month!==!1&&i.jsx(S,{icon:fd,label:"Entrevistas do Ms",value:(s==null?void 0:s.totalMonth)||0,subtext:new Date().toLocaleDateString("pt-BR",{month:"long",year:"numeric"})}),v.stats_approval!==!1&&i.jsx(S,{icon:Er,label:"Taxa de Aprovao",value:`${(s==null?void 0:s.approvalRate)||0}%`,subtext:"Este ms",color:"success"}),v.stats_rejected!==!1&&i.jsx(S,{icon:Rs,label:"Reprovados",value:(s==null?void 0:s.myRejected)||0,subtext:t?"Total global":"Suas entrevistas",color:"destructive"})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t&&v.top_interviewers!==!1&&i.jsxs("div",{className:"glass-panel rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-warning/10 border border-warning/20",children:i.jsx(T_,{className:"w-5 h-5 text-warning"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-display font-bold text-lg text-foreground",children:"Top Entrevistadores"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:x?"Desde o ltimo reset":"Ranking do ms"})]})]}),i.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>f(!0),className:"gap-2 text-xs",children:[i.jsx(Ym,{className:"w-3 h-3"}),"Resetar"]})]}),c?i.jsx("div",{className:"space-y-4",children:[...Array(5)].map((E,C)=>i.jsx(Ia,{className:"h-12 w-full"},C))}):o.length>0?i.jsx("div",{className:"space-y-3",children:o.map((E,C)=>i.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg bg-accent/50 border border-border",children:[C===0?i.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:i.jsx(Km,{className:"w-6 h-6 text-yellow-400 drop-shadow-[0_0_8px_rgba(250,204,21,0.5)]"})}):C===1?i.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:i.jsx(Km,{className:"w-6 h-6 text-gray-300 drop-shadow-[0_0_6px_rgba(209,213,219,0.4)]"})}):C===2?i.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:i.jsx(Km,{className:"w-6 h-6 text-orange-400 drop-shadow-[0_0_6px_rgba(251,146,60,0.4)]"})}):i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm bg-primary/10 text-primary border border-primary/20",children:C+1}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-foreground",children:E.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[E.total," entrevistas"]})]}),i.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[i.jsxs("span",{className:"text-success flex items-center gap-1",children:[i.jsx(Er,{className:"w-4 h-4"}),E.approved]}),i.jsxs("span",{className:"text-destructive flex items-center gap-1",children:[i.jsx(Rs,{className:"w-4 h-4"}),E.rejected]})]})]},C))}):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(T_,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:"Nenhuma entrevista este ms"})]})]}),v.quick_actions!==!1&&i.jsxs("div",{className:"glass-panel rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"p-2 rounded-lg bg-primary/10 border border-primary/20",children:i.jsx(Po,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-display font-bold text-lg text-foreground",children:"Aes Rpidas"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Acesso rpido s funcionalidades"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(fe,{variant:"ghost",className:"w-full justify-between h-auto py-4 px-4 bg-accent/50 hover:bg-accent border border-border hover:border-primary/30",onClick:()=>r("/interview"),children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Po,{className:"w-5 h-5 text-primary"}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"font-medium text-foreground",children:"Nova Entrevista"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Iniciar processo de avaliao"})]})]}),i.jsx(Ff,{className:"w-5 h-5 text-muted-foreground"})]}),i.jsxs(fe,{variant:"ghost",className:"w-full justify-between h-auto py-4 px-4 bg-accent/50 hover:bg-accent border border-border hover:border-primary/30",onClick:()=>r("/history"),children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(En,{className:"w-5 h-5 text-primary"}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"font-medium text-foreground",children:"Ver Histrico"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Consultar entrevistas anteriores"})]})]}),i.jsx(Ff,{className:"w-5 h-5 text-muted-foreground"})]}),t&&i.jsx(i.Fragment,{children:i.jsxs(fe,{variant:"ghost",className:"w-full justify-between h-auto py-4 px-4 bg-accent/50 hover:bg-accent border border-border hover:border-primary/30",onClick:()=>r("/users"),children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(fd,{className:"w-5 h-5 text-primary"}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"font-medium text-foreground",children:"Gerenciar Usurios"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Adicionar ou editar membros"})]})]}),i.jsx(Ff,{className:"w-5 h-5 text-muted-foreground"})]})})]})]})]})]}),i.jsx(Tt,{open:d,onOpenChange:f,children:i.jsxs(Et,{className:"glass-panel border-t-2 border-warning",children:[i.jsxs(kt,{children:[i.jsxs(At,{className:"flex items-center gap-2",children:[i.jsx(ud,{className:"w-5 h-5 text-warning"}),"Resetar Ranking"]}),i.jsxs(dr,{className:"text-left space-y-3 pt-2",children:[i.jsx("p",{children:"Tem certeza que deseja resetar o ranking de entrevistadores?"}),i.jsx("div",{className:"p-3 rounded-lg bg-warning/10 border border-warning/20",children:i.jsxs("p",{className:"text-sm text-foreground",children:[i.jsx("strong",{children:"Ateno:"})," Esta ao ir zerar a contagem do ranking. O histrico de entrevistas ser preservado, mas apenas as novas entrevistas realizadas aps o reset sero contabilizadas no ranking."]})})]})]}),i.jsxs(qt,{className:"gap-2 sm:gap-0",children:[i.jsx(fe,{variant:"ghost",onClick:()=>f(!1),children:"Cancelar"}),i.jsx(fe,{onClick:y,disabled:h,className:"bg-warning hover:bg-warning/90 text-warning-foreground gap-2",children:h?i.jsxs(i.Fragment,{children:[i.jsx(Ym,{className:"w-4 h-4 animate-spin"}),"Resetando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ym,{className:"w-4 h-4"}),"Confirmar Reset"]})})]})]})})]})}const An=g.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:Be("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));An.displayName="Textarea";var s7=[" ","Enter","ArrowUp","ArrowDown"],a7=[" ","Enter"],Ho="Select",[Qp,Zp,i7]=j1(Ho),[Vc,LQ]=Yn(Ho,[i7,Lc]),em=Lc(),[o7,ao]=Vc(Ho),[l7,c7]=Vc(Ho),x4=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:x}=e,m=em(t),[v,_]=g.useState(null),[w,y]=g.useState(null),[S,E]=g.useState(!1),C=qp(u),[b,j]=na({prop:n,defaultProp:s??!1,onChange:a,caller:Ho}),[N,R]=na({prop:o,defaultProp:l,onChange:c,caller:Ho}),k=g.useRef(null),O=v?x||!!v.closest("form"):!0,[L,K]=g.useState(new Set),M=Array.from(L).map(q=>q.props.value).join(";");return i.jsx(V1,{...m,children:i.jsxs(o7,{required:p,scope:t,trigger:v,onTriggerChange:_,valueNode:w,onValueNodeChange:y,valueNodeHasChildren:S,onValueNodeHasChildrenChange:E,contentId:ea(),value:N,onValueChange:R,open:b,onOpenChange:j,dir:C,triggerPointerDownPosRef:k,disabled:h,children:[i.jsx(Qp.Provider,{scope:t,children:i.jsx(l7,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(q=>{K(ie=>new Set(ie).add(q))},[]),onNativeOptionRemove:g.useCallback(q=>{K(ie=>{const X=new Set(ie);return X.delete(q),X})},[]),children:r})}),O?i.jsxs(z4,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:q=>R(q.target.value),disabled:h,form:x,children:[N===void 0?i.jsx("option",{value:""}):null,Array.from(L)]},M):null]})})};x4.displayName=Ho;var y4="SelectTrigger",w4=g.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=em(r),o=ao(y4,r),l=o.disabled||n,c=pt(t,o.onTriggerChange),u=Zp(r),d=g.useRef("touch"),[f,h,p]=W4(m=>{const v=u().filter(y=>!y.disabled),_=v.find(y=>y.value===o.value),w=H4(v,m,_);w!==void 0&&o.onValueChange(w.value)}),x=m=>{l||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return i.jsx(Cp,{asChild:!0,...a,children:i.jsx(Ke.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":V4(o.value)?"":void 0,...s,ref:c,onClick:ze(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&x(m)}),onPointerDown:ze(s.onPointerDown,m=>{d.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(x(m),m.preventDefault())}),onKeyDown:ze(s.onKeyDown,m=>{const v=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(v&&m.key===" ")&&s7.includes(m.key)&&(x(),m.preventDefault())})})})});w4.displayName=y4;var _4="SelectValue",b4=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:o="",...l}=e,c=ao(_4,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=pt(t,c.onValueNodeChange);return _r(()=>{u(d)},[u,d]),i.jsx(Ke.span,{...l,ref:f,style:{pointerEvents:"none"},children:V4(c.value)?i.jsx(i.Fragment,{children:o}):a})});b4.displayName=_4;var u7="SelectIcon",S4=g.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return i.jsx(Ke.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});S4.displayName=u7;var d7="SelectPortal",E4=e=>i.jsx(Wd,{asChild:!0,...e});E4.displayName=d7;var Go="SelectContent",N4=g.forwardRef((e,t)=>{const r=ao(Go,e.__scopeSelect),[n,s]=g.useState();if(_r(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?Ns.createPortal(i.jsx(j4,{scope:e.__scopeSelect,children:i.jsx(Qp.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(C4,{...e,ref:t})});N4.displayName=Go;var $s=10,[j4,io]=Vc(Go),f7="SelectContentImpl",h7=Uo("SelectContent.RemoveScroll"),C4=g.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:x,hideWhenDetached:m,avoidCollisions:v,..._}=e,w=ao(Go,r),[y,S]=g.useState(null),[E,C]=g.useState(null),b=pt(t,U=>S(U)),[j,N]=g.useState(null),[R,k]=g.useState(null),O=Zp(r),[L,K]=g.useState(!1),M=g.useRef(!1);g.useEffect(()=>{if(y)return vy(y)},[y]),gy();const q=g.useCallback(U=>{const[he,...ce]=O().map(ne=>ne.ref.current),[A]=ce.slice(-1),H=document.activeElement;for(const ne of U)if(ne===H||(ne==null||ne.scrollIntoView({block:"nearest"}),ne===he&&E&&(E.scrollTop=0),ne===A&&E&&(E.scrollTop=E.scrollHeight),ne==null||ne.focus(),document.activeElement!==H))return},[O,E]),ie=g.useCallback(()=>q([j,y]),[q,j,y]);g.useEffect(()=>{L&&ie()},[L,ie]);const{onOpenChange:X,triggerPointerDownPosRef:J}=w;g.useEffect(()=>{if(y){let U={x:0,y:0};const he=A=>{var H,ne;U={x:Math.abs(Math.round(A.pageX)-(((H=J.current)==null?void 0:H.x)??0)),y:Math.abs(Math.round(A.pageY)-(((ne=J.current)==null?void 0:ne.y)??0))}},ce=A=>{U.x<=10&&U.y<=10?A.preventDefault():y.contains(A.target)||X(!1),document.removeEventListener("pointermove",he),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",he),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",he),document.removeEventListener("pointerup",ce,{capture:!0})}}},[y,X,J]),g.useEffect(()=>{const U=()=>X(!1);return window.addEventListener("blur",U),window.addEventListener("resize",U),()=>{window.removeEventListener("blur",U),window.removeEventListener("resize",U)}},[X]);const[Y,ge]=W4(U=>{const he=O().filter(H=>!H.disabled),ce=he.find(H=>H.ref.current===document.activeElement),A=H4(he,U,ce);A&&setTimeout(()=>A.ref.current.focus())}),P=g.useCallback((U,he,ce)=>{const A=!M.current&&!ce;(w.value!==void 0&&w.value===he||A)&&(N(U),A&&(M.current=!0))},[w.value]),G=g.useCallback(()=>y==null?void 0:y.focus(),[y]),B=g.useCallback((U,he,ce)=>{const A=!M.current&&!ce;(w.value!==void 0&&w.value===he||A)&&k(U)},[w.value]),W=n==="popper"?px:T4,ee=W===px?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:x,hideWhenDetached:m,avoidCollisions:v}:{};return i.jsx(j4,{scope:r,content:y,viewport:E,onViewportChange:C,itemRefCallback:P,selectedItem:j,onItemLeave:G,itemTextRefCallback:B,focusSelectedItem:ie,selectedItemText:R,position:n,isPositioned:L,searchRef:Y,children:i.jsx(Hp,{as:h7,allowPinchZoom:!0,children:i.jsx(Vp,{asChild:!0,trapped:w.open,onMountAutoFocus:U=>{U.preventDefault()},onUnmountAutoFocus:ze(s,U=>{var he;(he=w.trigger)==null||he.focus({preventScroll:!0}),U.preventDefault()}),children:i.jsx(Pc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:U=>U.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:i.jsx(W,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:U=>U.preventDefault(),..._,...ee,onPlaced:()=>K(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:ze(_.onKeyDown,U=>{const he=U.ctrlKey||U.altKey||U.metaKey;if(U.key==="Tab"&&U.preventDefault(),!he&&U.key.length===1&&ge(U.key),["ArrowUp","ArrowDown","Home","End"].includes(U.key)){let A=O().filter(H=>!H.disabled).map(H=>H.ref.current);if(["ArrowUp","End"].includes(U.key)&&(A=A.slice().reverse()),["ArrowUp","ArrowDown"].includes(U.key)){const H=U.target,ne=A.indexOf(H);A=A.slice(ne+1)}setTimeout(()=>q(A)),U.preventDefault()}})})})})})})});C4.displayName=f7;var p7="SelectItemAlignedPosition",T4=g.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=ao(Go,r),o=io(Go,r),[l,c]=g.useState(null),[u,d]=g.useState(null),f=pt(t,b=>d(b)),h=Zp(r),p=g.useRef(!1),x=g.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:_,focusSelectedItem:w}=o,y=g.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&m&&v&&_){const b=a.trigger.getBoundingClientRect(),j=u.getBoundingClientRect(),N=a.valueNode.getBoundingClientRect(),R=_.getBoundingClientRect();if(a.dir!=="rtl"){const H=R.left-j.left,ne=N.left-H,Re=b.left-ne,Z=b.width+Re,_e=Math.max(Z,j.width),ue=window.innerWidth-$s,te=hx(ne,[$s,Math.max($s,ue-_e)]);l.style.minWidth=Z+"px",l.style.left=te+"px"}else{const H=j.right-R.right,ne=window.innerWidth-N.right-H,Re=window.innerWidth-b.right-ne,Z=b.width+Re,_e=Math.max(Z,j.width),ue=window.innerWidth-$s,te=hx(ne,[$s,Math.max($s,ue-_e)]);l.style.minWidth=Z+"px",l.style.right=te+"px"}const k=h(),O=window.innerHeight-$s*2,L=m.scrollHeight,K=window.getComputedStyle(u),M=parseInt(K.borderTopWidth,10),q=parseInt(K.paddingTop,10),ie=parseInt(K.borderBottomWidth,10),X=parseInt(K.paddingBottom,10),J=M+q+L+X+ie,Y=Math.min(v.offsetHeight*5,J),ge=window.getComputedStyle(m),P=parseInt(ge.paddingTop,10),G=parseInt(ge.paddingBottom,10),B=b.top+b.height/2-$s,W=O-B,ee=v.offsetHeight/2,U=v.offsetTop+ee,he=M+q+U,ce=J-he;if(he<=B){const H=k.length>0&&v===k[k.length-1].ref.current;l.style.bottom="0px";const ne=u.clientHeight-m.offsetTop-m.offsetHeight,Re=Math.max(W,ee+(H?G:0)+ne+ie),Z=he+Re;l.style.height=Z+"px"}else{const H=k.length>0&&v===k[0].ref.current;l.style.top="0px";const Re=Math.max(B,M+m.offsetTop+(H?P:0)+ee)+ce;l.style.height=Re+"px",m.scrollTop=he-B+m.offsetTop}l.style.margin=`${$s}px 0`,l.style.minHeight=Y+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,l,u,m,v,_,a.dir,n]);_r(()=>y(),[y]);const[S,E]=g.useState();_r(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const C=g.useCallback(b=>{b&&x.current===!0&&(y(),w==null||w(),x.current=!1)},[y,w]);return i.jsx(g7,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:C,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:i.jsx(Ke.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});T4.displayName=p7;var m7="SelectPopperPosition",px=g.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=$s,...a}=e,o=em(r);return i.jsx(W1,{...o,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});px.displayName=m7;var[g7,Ty]=Vc(Go,{}),mx="SelectViewport",k4=g.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=io(mx,r),o=Ty(mx,r),l=pt(t,a.onViewportChange),c=g.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(Qp.Slot,{scope:r,children:i.jsx(Ke.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ze(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const x=window.innerHeight-$s*2,m=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),_=Math.max(m,v);if(_<x){const w=_+p,y=Math.min(x,w),S=w-y;f.style.height=y+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});k4.displayName=mx;var A4="SelectGroup",[v7,x7]=Vc(A4),y7=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=ea();return i.jsx(v7,{scope:r,id:s,children:i.jsx(Ke.div,{role:"group","aria-labelledby":s,...n,ref:t})})});y7.displayName=A4;var R4="SelectLabel",O4=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=x7(R4,r);return i.jsx(Ke.div,{id:s.id,...n,ref:t})});O4.displayName=R4;var D0="SelectItem",[w7,P4]=Vc(D0),I4=g.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...o}=e,l=ao(D0,r),c=io(D0,r),u=l.value===n,[d,f]=g.useState(a??""),[h,p]=g.useState(!1),x=pt(t,w=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,w,n,s)}),m=ea(),v=g.useRef("touch"),_=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(w7,{scope:r,value:n,disabled:s,textId:m,isSelected:u,onItemTextChange:g.useCallback(w=>{f(y=>y||((w==null?void 0:w.textContent)??"").trim())},[]),children:i.jsx(Qp.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:i.jsx(Ke.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:ze(o.onFocus,()=>p(!0)),onBlur:ze(o.onBlur,()=>p(!1)),onClick:ze(o.onClick,()=>{v.current!=="mouse"&&_()}),onPointerUp:ze(o.onPointerUp,()=>{v.current==="mouse"&&_()}),onPointerDown:ze(o.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:ze(o.onPointerMove,w=>{var y;v.current=w.pointerType,s?(y=c.onItemLeave)==null||y.call(c):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ze(o.onPointerLeave,w=>{var y;w.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:ze(o.onKeyDown,w=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&w.key===" "||(a7.includes(w.key)&&_(),w.key===" "&&w.preventDefault())})})})})});I4.displayName=D0;var Eu="SelectItemText",D4=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,o=ao(Eu,r),l=io(Eu,r),c=P4(Eu,r),u=c7(Eu,r),[d,f]=g.useState(null),h=pt(t,_=>f(_),c.onItemTextChange,_=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,_,c.value,c.disabled)}),p=d==null?void 0:d.textContent,x=g.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=u;return _r(()=>(m(x),()=>v(x)),[m,v,x]),i.jsxs(i.Fragment,{children:[i.jsx(Ke.span,{id:c.textId,...a,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ns.createPortal(a.children,o.valueNode):null]})});D4.displayName=Eu;var F4="SelectItemIndicator",L4=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return P4(F4,r).isSelected?i.jsx(Ke.span,{"aria-hidden":!0,...n,ref:t}):null});L4.displayName=F4;var gx="SelectScrollUpButton",M4=g.forwardRef((e,t)=>{const r=io(gx,e.__scopeSelect),n=Ty(gx,e.__scopeSelect),[s,a]=g.useState(!1),o=pt(t,n.onScrollButtonChange);return _r(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx($4,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});M4.displayName=gx;var vx="SelectScrollDownButton",B4=g.forwardRef((e,t)=>{const r=io(vx,e.__scopeSelect),n=Ty(vx,e.__scopeSelect),[s,a]=g.useState(!1),o=pt(t,n.onScrollButtonChange);return _r(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx($4,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});B4.displayName=vx;var $4=g.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=io("SelectScrollButton",r),o=g.useRef(null),l=Zp(r),c=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),_r(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(Ke.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ze(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:ze(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:ze(s.onPointerLeave,()=>{c()})})}),_7="SelectSeparator",U4=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(Ke.div,{"aria-hidden":!0,...n,ref:t})});U4.displayName=_7;var xx="SelectArrow",b7=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=em(r),a=ao(xx,r),o=io(xx,r);return a.open&&o.position==="popper"?i.jsx(H1,{...s,...n,ref:t}):null});b7.displayName=xx;var S7="SelectBubbleInput",z4=g.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=g.useRef(null),a=pt(n,s),o=Cy(t);return g.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),i.jsx(Ke.select,{...r,style:{...$N,...r.style},ref:a,defaultValue:t})});z4.displayName=S7;function V4(e){return e===""||e===void 0}function W4(e){const t=Ar(e),r=g.useRef(""),n=g.useRef(0),s=g.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=g.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function H4(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=E7(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function E7(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var N7=x4,G4=w4,j7=b4,C7=S4,T7=E4,q4=N4,k7=k4,K4=O4,X4=I4,A7=D4,R7=L4,Y4=M4,J4=B4,Q4=U4;const Yt=N7,Jt=j7,Wt=g.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(G4,{ref:n,className:Be("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(C7,{asChild:!0,children:i.jsx(qd,{className:"h-4 w-4 opacity-50"})})]}));Wt.displayName=G4.displayName;const Z4=g.forwardRef(({className:e,...t},r)=>i.jsx(Y4,{ref:r,className:Be("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(cj,{className:"h-4 w-4"})}));Z4.displayName=Y4.displayName;const eA=g.forwardRef(({className:e,...t},r)=>i.jsx(J4,{ref:r,className:Be("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(qd,{className:"h-4 w-4"})}));eA.displayName=J4.displayName;const Ht=g.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>i.jsx(T7,{children:i.jsxs(q4,{ref:s,className:Be("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(Z4,{}),i.jsx(k7,{className:Be("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(eA,{})]})}));Ht.displayName=q4.displayName;const O7=g.forwardRef(({className:e,...t},r)=>i.jsx(K4,{ref:r,className:Be("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));O7.displayName=K4.displayName;const He=g.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(X4,{ref:n,className:Be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(R7,{children:i.jsx(A1,{className:"h-4 w-4"})})}),i.jsx(A7,{children:t})]}));He.displayName=X4.displayName;const P7=g.forwardRef(({className:e,...t},r)=>i.jsx(Q4,{ref:r,className:Be("-mx-1 my-1 h-px bg-muted",e),...t}));P7.displayName=Q4.displayName;const I7=["Ilegal","Polcia","Restaurante","Judicirio","Hospital","Civil"];function D7(){Zd();const{user:e,profile:t}=Pr(),{toast:r}=pr(),[n,s]=g.useState("briefing"),[a,o]=g.useState(!1),[l,c]=g.useState(0),[u,d]=g.useState(!1),[f,h]=g.useState("normal"),[p,x]=g.useState(null),[m,v]=g.useState([]),[_,w]=g.useState([]),[y,S]=g.useState({}),[E,C]=g.useState(!0),[b,j]=g.useState({name:"",id:"",age:"",dob:"",rpTime:"",rpStyle:"Ilegal"}),[N,R]=g.useState({}),[k,O]=g.useState(0),[L,K]=g.useState("");g.useEffect(()=>{if(t){const Z=new Date,_e=`${Z.getHours().toString().padStart(2,"0")}:${Z.getMinutes().toString().padStart(2,"0")}`,ue=t,te=zt=>zt?zt.slice(0,5):null,Xe=te(ue.codiguinho_schedule_start),We=te(ue.codiguinho_schedule_end),Je=te(ue.codiguinho_schedule_start_2),ut=te(ue.codiguinho_schedule_end_2),Lt=te(ue.codiguinho_schedule_start_3),Rt=te(ue.codiguinho_schedule_end_3),Bt=te(ue.interview_schedule_start),Kr=te(ue.interview_schedule_end),Ut=te(ue.interview_schedule_start_2),er=te(ue.interview_schedule_end_2),tr=te(ue.interview_schedule_start_3),$r=te(ue.interview_schedule_end_3),mr=(zt,Jr)=>!zt||!Jr?!1:_e>=zt&&_e<=Jr,rr=mr(Xe,We)||mr(Je,ut)||mr(Lt,Rt),Xr=mr(Bt,Kr)||mr(Ut,er)||mr(tr,$r),Yr=Xe||Je||Lt||Bt||Ut||tr;h(rr?"codiguinho":"normal")}},[t]),g.useEffect(()=>{let Z;return a&&(Z=setInterval(()=>{c(_e=>_e+1)},1e3)),()=>clearInterval(Z)},[a]),g.useEffect(()=>{M()},[]);const M=async()=>{try{const[Z,_e,ue]=await Promise.all([re.from("categories").select("*").eq("is_active",!0).order("order_index"),re.from("questions").select("*").eq("is_active",!0).order("order_index"),re.from("system_configs").select("*")]);if(Z.data&&v(Z.data),_e.data&&w(_e.data),ue.data){const te={};ue.data.forEach(Xe=>{te[Xe.key]=Xe.value}),S(te)}}catch(Z){console.error("Error fetching interview data:",Z),r({title:"Erro",description:"No foi possvel carregar os dados da entrevista.",variant:"destructive"})}finally{C(!1)}},q=Z=>{const _e=Math.floor(Z/3600).toString().padStart(2,"0"),ue=Math.floor(Z%3600/60).toString().padStart(2,"0"),te=(Z%60).toString().padStart(2,"0");return`${_e}:${ue}:${te}`},ie=async()=>{if(o(!0),s("candidate"),e&&t)try{const{data:Z,error:_e}=await re.from("active_interviews").insert({user_id:e.id,user_name:t.name,interview_mode:f,current_phase:"candidate"}).select().single();Z&&x(Z.id),_e&&console.error("Error registering active interview:",_e)}catch(Z){console.error("Error:",Z)}},X=async(Z,_e)=>{if(p)try{const ue={current_phase:Z};_e&&(ue.candidate_name=_e),await re.from("active_interviews").update(ue).eq("id",p)}catch(ue){console.error("Error updating active interview:",ue)}},J=async()=>{if(p)try{await re.from("active_interviews").delete().eq("id",p),x(null)}catch(Z){console.error("Error removing active interview:",Z)}};g.useEffect(()=>()=>{p&&re.from("active_interviews").delete().eq("id",p)},[p]);const Y=(Z,_e)=>{j(ue=>({...ue,[Z]:_e}))},ge=Z=>{let _e=Z.replace(/\D/g,"");_e.length>8&&(_e=_e.slice(0,8)),_e.length>4?_e=`${_e.slice(0,2)}/${_e.slice(2,4)}/${_e.slice(4)}`:_e.length>2&&(_e=`${_e.slice(0,2)}/${_e.slice(2)}`);let ue=b.age;if(_e.length===10){const te=parseInt(_e.split("/")[2]),Xe=new Date().getFullYear();te>1900&&te<Xe&&(ue=(Xe-te).toString())}j(te=>({...te,dob:_e,age:ue}))},P=(Z,_e)=>{R(ue=>{var te,Xe;return{...ue,[Z]:{questionId:Z,isCorrect:((te=ue[Z])==null?void 0:te.isCorrect)===_e?null:_e,observation:((Xe=ue[Z])==null?void 0:Xe.observation)||""}}})},G=(Z,_e)=>{R(ue=>({...ue,[Z]:{...ue[Z],questionId:Z,observation:_e}}))},B=g.useCallback(()=>{const Z=_.length,_e=Object.values(N).filter(te=>te.isCorrect===!0).length,ue=Object.values(N).filter(te=>te.isCorrect===!1).length;return{correct:_e,wrong:ue,total:Z,score:Z>0?Math.round(_e/Z*100):0}},[N,_.length]),W=async()=>{await J(),j({name:"",id:"",age:"",dob:"",rpTime:"",rpStyle:"Ilegal"}),R({}),K(""),O(0),s("briefing"),c(0),o(!1),d(!1),r({title:"Sistema reiniciado",description:"Pronto para nova entrevista."})},ee=async Z=>{const _e=y.discord_webhook;if(_e)try{let ue=[];try{ue=JSON.parse(y.webhook_fields||"[]")}catch{ue=[]}const te=Z.result==="approved",Xe=te?2278750:15680580,We=te?" APROVADO":" REPROVADO",Je=[],ut={candidate_name:{name:" Candidato",value:Z.candidate_name,inline:!0},candidate_id:{name:" Discord ID",value:`<@${Z.candidate_id}> (${Z.candidate_id})`,inline:!0},candidate_age:{name:" Idade",value:Z.candidate_age?`${Z.candidate_age} anos`:"-",inline:!0},candidate_birth_date:{name:" Nascimento",value:Z.candidate_birth_date||"-",inline:!0},candidate_rp_time:{name:" Tempo de RP",value:Z.candidate_rp_time||"-",inline:!0},candidate_rp_style:{name:" Estilo de RP",value:Z.candidate_rp_style||"-",inline:!0},result:{name:" Resultado",value:We,inline:!1},total_correct:{name:" Acertos",value:Z.total_correct.toString(),inline:!0},total_wrong:{name:" Erros",value:Z.total_wrong.toString(),inline:!0},duration:{name:" Durao",value:q(Z.duration_seconds),inline:!0},interviewer_name:{name:" Entrevistador",value:(t==null?void 0:t.name)||"Desconhecido",inline:!0},final_observation:{name:" Observao",value:Z.final_observation||"Nenhuma observao.",inline:!1}};ue.forEach(Lt=>{Lt.enabled&&ut[Lt.key]&&Je.push(ut[Lt.key])}),Je.length===0&&Object.values(ut).forEach(Lt=>Je.push(Lt)),await fetch(_e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({embeds:[{title:" Relatrio de Entrevista",color:Xe,fields:Je,timestamp:new Date().toISOString(),footer:{text:`${y.site_name||"Host Manager"}  Entrevista Finalizada`}}]})})}catch(ue){console.error("Error sending webhook:",ue)}},U=async()=>{if(!e)return;const Z=B(),_e=f==="codiguinho"?!0:Z.wrong===0&&Z.correct>0;try{const{data:ue,error:te}=await re.from("interviews").insert({interviewer_id:e.id,candidate_name:b.name,candidate_id:b.id,candidate_age:b.age?parseInt(b.age):null,candidate_birth_date:b.dob,candidate_rp_time:b.rpTime,candidate_rp_style:b.rpStyle,total_correct:f==="codiguinho"?0:Z.correct,total_wrong:f==="codiguinho"?0:Z.wrong,result:_e?"approved":"rejected",final_observation:f==="codiguinho"?`[CODIGUINHO] ${L||"Aprovado via codiguinho"}`:L,duration_seconds:l}).select().single();if(te)throw te;if(f==="normal"){const Xe=Object.values(N).map(We=>{const Je=_.find(ut=>ut.id===We.questionId);return{interview_id:ue.id,question_id:We.questionId,question_text:(Je==null?void 0:Je.question)||"",expected_answer:(Je==null?void 0:Je.expected_answer)||"",is_correct:We.isCorrect??!1,observation:We.observation}});Xe.length>0&&await re.from("interview_answers").insert(Xe)}return await ee({candidate_name:b.name,candidate_id:b.id,candidate_age:b.age?parseInt(b.age):null,candidate_birth_date:b.dob,candidate_rp_time:b.rpTime,candidate_rp_style:b.rpStyle,total_correct:Z.correct,total_wrong:Z.wrong,result:_e?"approved":"rejected",final_observation:L,duration_seconds:l}),r({title:"Entrevista salva!",description:`Candidato ${_e?"aprovado":"reprovado"} com sucesso.`}),ue}catch(ue){return console.error("Error saving interview:",ue),r({title:"Erro ao salvar",description:"No foi possvel salvar a entrevista.",variant:"destructive"}),null}},he=async()=>{await U(),await J(),r({title:"Entrevista finalizada!",description:"Os resultados foram salvos e enviados para o Discord."})},ce=m[k],A=_.filter(Z=>Z.category_id===(ce==null?void 0:ce.id)),H=B(),ne=f==="codiguinho"?!0:H.wrong===0&&H.correct>0,Re=f==="codiguinho"?[{id:"briefing",label:"Briefing",icon:ur},{id:"candidate",label:"Candidato",icon:xa},{id:"result",label:"Concluso",icon:Er}]:[{id:"briefing",label:"Briefing",icon:ur},{id:"candidate",label:"Candidato",icon:xa},{id:"questions",label:"Avaliao",icon:Cs},{id:"result",label:"Concluso",icon:Er}];return E?i.jsx(On,{children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})}):i.jsxs(On,{children:[i.jsxs("div",{className:"flex h-full gap-6",children:[i.jsx("div",{className:"w-64 shrink-0 hidden lg:block",children:i.jsxs("div",{className:"glass-panel rounded-xl p-4 sticky top-0",children:[i.jsx("div",{className:"space-y-4",children:Re.map((Z,_e)=>{const ue=n===Z.id,te=Re.findIndex(We=>We.id===n)>_e,Xe=Z.icon;return i.jsxs("button",{onClick:()=>{a&&(s(Z.id),X(Z.id))},disabled:!a,className:`relative flex items-center gap-3 w-full text-left transition-all duration-300 group ${ue?"opacity-100":"opacity-50 hover:opacity-70"} ${a?"":"cursor-not-allowed"}`,children:[ue&&i.jsx("div",{className:"absolute -left-4 top-1/2 -translate-y-1/2 w-1 h-6 bg-primary rounded-full"}),i.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center border transition-all ${ue?"bg-primary/20 text-primary border-primary/30":te?"bg-success/20 text-success border-success/30":"bg-muted border-border"}`,children:te?i.jsx(Er,{className:"w-5 h-5"}):i.jsx(Xe,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsxs("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:["Fase ",_e+1]}),i.jsx("p",{className:`font-medium ${ue?"text-foreground":"text-muted-foreground"}`,children:Z.label})]})]},Z.id)})}),i.jsxs("div",{className:"mt-6 p-4 rounded-lg bg-accent/50 border border-border",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(En,{className:"w-4 h-4 text-muted-foreground"}),i.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Tempo de Sesso"})]}),i.jsx("p",{className:"text-2xl font-mono font-bold text-primary",children:q(l)})]}),i.jsxs(fe,{variant:"ghost",className:"w-full mt-4 border border-border hover:border-destructive/50 hover:bg-destructive/10 hover:text-destructive",onClick:()=>d(!0),children:[i.jsx(dj,{className:"w-4 h-4 mr-2"}),"Reiniciar"]})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto",children:[i.jsxs("div",{className:"glass-panel rounded-xl p-4 mb-6 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-lg bg-accent flex items-center justify-center border border-border",children:a?i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute inset-0 rounded-full bg-success animate-ping opacity-75"}),i.jsx("div",{className:"w-3 h-3 rounded-full bg-success"})]}):i.jsx("div",{className:"w-3 h-3 rounded-full bg-destructive/50"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Candidato em Anlise"}),i.jsx("h2",{className:"text-xl font-display font-bold text-foreground",children:b.name||"Aguardando..."})]})]}),i.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[i.jsxs("div",{className:`px-3 py-1.5 rounded-lg font-medium text-xs border flex items-center gap-2 ${f==="codiguinho"?"bg-warning/20 text-warning border-warning/30":"bg-primary/20 text-primary border-primary/30"}`,children:[i.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${f==="codiguinho"?"bg-warning":"bg-primary"}`}),f==="codiguinho"?"Entrevista de Verificaes":"Entrevista de Visitantes"]}),b.id&&i.jsxs("span",{className:"px-2 py-1 rounded bg-accent text-muted-foreground font-mono text-xs max-w-[150px] truncate",children:["ID: ",b.id]}),i.jsx("span",{className:"font-mono text-muted-foreground",children:q(l)})]})]}),i.jsxs("div",{className:"glass-panel rounded-xl p-6 animate-fade-in",children:[n==="briefing"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[i.jsx("div",{className:"w-20 h-20 rounded-2xl bg-primary/10 border border-primary/20 flex items-center justify-center mx-auto mb-6",children:i.jsx(ur,{className:"w-10 h-10 text-primary"})}),i.jsx("h1",{className:"text-3xl font-display font-bold text-foreground mb-4",children:"Protocolos de Entrevista"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Bem-vindo ao terminal de gerenciamento de whitelist. Siga os procedimentos padro para garantir a qualidade do roleplay na cidade. Mantenha a postura profissional e utilize este painel como ferramenta de suporte."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-8",children:[i.jsxs("div",{className:"p-4 rounded-lg bg-accent/50 border border-border",children:[i.jsx("h3",{className:"font-bold text-foreground mb-2",children:"01. Procedimentos"}),i.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[i.jsx("li",{children:" Visitante: Todas as fases."}),i.jsx("li",{children:" Codiguinho: 1 e 3 Fase."}),i.jsx("li",{children:" Tropa: 1, 3 Fase e Doc."})]})]}),i.jsxs("div",{className:"p-4 rounded-lg bg-accent/50 border border-border",children:[i.jsx("h3",{className:"font-bold text-foreground mb-2",children:"02. Avaliao"}),i.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[i.jsx("li",{children:" Anote nome, ID e observaes."}),i.jsx("li",{children:" Observe respeito e clareza."}),i.jsx("li",{children:" Avalie interesse genuno."})]})]}),i.jsxs("div",{className:"p-4 rounded-lg bg-accent/50 border border-border",children:[i.jsx("h3",{className:"font-bold text-foreground mb-2",children:"03. Finalizao"}),i.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[i.jsx("li",{children:" Se aprovado, explique erros."}),i.jsx("li",{children:" Explique liberao."}),i.jsx("li",{children:" Tire todas as dvidas."})]})]})]}),i.jsxs("div",{className:"flex items-center justify-center gap-4 mt-8",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-warning",children:[i.jsx(ud,{className:"w-4 h-4"}),i.jsx("span",{children:"Discord +4 meses / Histrico"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[i.jsx(ud,{className:"w-4 h-4"}),i.jsx("span",{children:"Verificar BANs anteriores"})]})]}),i.jsx("div",{className:"flex justify-center mt-8",children:i.jsxs(fe,{onClick:ie,size:"lg",className:"btn-neon gap-2 px-8",children:[i.jsx(pc,{className:"w-5 h-5"}),"Iniciar Entrevista"]})})]}),n==="candidate"&&i.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h2",{className:"text-2xl font-display font-bold text-foreground mb-2",children:"Dados do Candidato"}),i.jsx("p",{className:"text-muted-foreground",children:"Preencha as informaes do candidato para prosseguir"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Nome do Candidato *"}),i.jsx(Oe,{value:b.name,onChange:Z=>Y("name",Z.target.value),placeholder:"Nome completo",className:"glass-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"ID Discord *"}),i.jsx(Oe,{value:b.id,onChange:Z=>Y("id",Z.target.value),placeholder:"000000000000000000",className:"glass-input font-mono"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Data de Nascimento"}),i.jsx(Oe,{value:b.dob,onChange:Z=>ge(Z.target.value),placeholder:"DD/MM/AAAA",className:"glass-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Idade"}),i.jsx(Oe,{value:b.age,onChange:Z=>Y("age",Z.target.value),placeholder:"Idade",className:"glass-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Tempo de RP"}),i.jsx(Oe,{value:b.rpTime,onChange:Z=>Y("rpTime",Z.target.value),placeholder:"Ex: 2 anos",className:"glass-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Estilo de RP"}),i.jsxs(Yt,{value:b.rpStyle,onValueChange:Z=>Y("rpStyle",Z),children:[i.jsx(Wt,{className:"glass-input",children:i.jsx(Jt,{})}),i.jsx(Ht,{children:I7.map(Z=>i.jsx(He,{value:Z,children:Z},Z))})]})]})]}),i.jsxs("div",{className:"flex justify-between mt-8",children:[i.jsx(fe,{variant:"ghost",onClick:()=>{s("briefing"),X("briefing")},children:"Voltar"}),i.jsxs(fe,{onClick:()=>{const Z=f==="codiguinho"?"result":"questions";s(Z),X(Z,b.name)},disabled:!b.name||!b.id,className:"btn-neon gap-2",children:[f==="codiguinho"?"Ir para Concluso":"Continuar",i.jsx(o0,{className:"w-4 h-4"})]})]})]}),n==="questions"&&ce&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:["Categoria ",k+1," de ",m.length]}),i.jsx("h2",{className:"text-2xl font-display font-bold text-foreground",children:ce.name})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Acertos"}),i.jsx("p",{className:"text-xl font-bold text-success",children:H.correct})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Erros"}),i.jsx("p",{className:"text-xl font-bold text-destructive",children:H.wrong})]})]})]}),i.jsx("div",{className:"space-y-4",children:A.map((Z,_e)=>{const ue=N[Z.id];return i.jsx("div",{className:`p-4 rounded-lg border transition-all ${(ue==null?void 0:ue.isCorrect)===!0?"bg-success/10 border-success/30":(ue==null?void 0:ue.isCorrect)===!1?"bg-destructive/10 border-destructive/30":"bg-accent/50 border-border"}`,children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("span",{className:"text-xs font-mono text-muted-foreground shrink-0",children:String(_e+1).padStart(2,"0")}),i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsx("p",{className:"font-medium text-foreground",children:Z.question}),i.jsxs("p",{className:"text-sm text-muted-foreground italic",children:["Esperado: ",Z.expected_answer]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(fe,{variant:(ue==null?void 0:ue.isCorrect)===!0?"default":"outline",size:"sm",onClick:()=>P(Z.id,!0),className:(ue==null?void 0:ue.isCorrect)===!0?"bg-success hover:bg-success/80":"",children:[i.jsx(Er,{className:"w-4 h-4 mr-1"}),"OK"]}),i.jsxs(fe,{variant:(ue==null?void 0:ue.isCorrect)===!1?"default":"outline",size:"sm",onClick:()=>P(Z.id,!1),className:(ue==null?void 0:ue.isCorrect)===!1?"bg-destructive hover:bg-destructive/80":"",children:[i.jsx(Rs,{className:"w-4 h-4 mr-1"}),"NO"]})]}),i.jsx(Oe,{value:(ue==null?void 0:ue.observation)||"",onChange:te=>G(Z.id,te.target.value),placeholder:"Observao (opcional)",className:"glass-input text-sm"})]})]})},Z.id)})}),i.jsxs("div",{className:"flex justify-between mt-8",children:[i.jsx(fe,{variant:"ghost",onClick:()=>{k>0?O(Z=>Z-1):(s("candidate"),X("candidate"))},children:"Voltar"}),i.jsxs(fe,{onClick:()=>{k<m.length-1?O(Z=>Z+1):(s("result"),X("result"))},className:"btn-neon gap-2",children:[k<m.length-1?"Prxima Categoria":"Ver Resultado",i.jsx(o0,{className:"w-4 h-4"})]})]})]}),n==="result"&&i.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:`w-24 h-24 rounded-full mx-auto mb-6 flex items-center justify-center border-4 ${ne?"bg-success/20 border-success text-success":"bg-destructive/20 border-destructive text-destructive"}`,children:ne?i.jsx(Er,{className:"w-12 h-12"}):i.jsx(Rs,{className:"w-12 h-12"})}),i.jsx("h2",{className:"text-3xl font-display font-bold text-foreground mb-2",children:ne?"APROVADO":"REPROVADO"}),i.jsx("p",{className:"text-muted-foreground",children:f==="codiguinho"?"Entrevista de codiguinho concluda!":ne?"O candidato atendeu todos os requisitos!":"O candidato no atendeu os requisitos mnimos."}),f==="codiguinho"&&i.jsx("span",{className:"inline-block mt-2 px-3 py-1 rounded-full bg-warning/20 text-warning text-sm font-medium border border-warning/30",children:"Modo Codiguinho"})]}),f==="normal"&&i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[i.jsxs("div",{className:"p-4 rounded-lg bg-accent/50 border border-border",children:[i.jsx("p",{className:"text-3xl font-bold text-success",children:H.correct}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Corretas"})]}),i.jsxs("div",{className:"p-4 rounded-lg bg-accent/50 border border-border",children:[i.jsx("p",{className:"text-3xl font-bold text-destructive",children:H.wrong}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Erradas"})]}),i.jsxs("div",{className:"p-4 rounded-lg bg-accent/50 border border-border",children:[i.jsx("p",{className:"text-3xl font-bold text-primary",children:q(l)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Durao"})]})]}),f==="codiguinho"&&i.jsxs("div",{className:"p-4 rounded-lg bg-accent/50 border border-border text-center",children:[i.jsx("p",{className:"text-3xl font-bold text-primary",children:q(l)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Durao da Entrevista"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Observao Final"}),i.jsx(An,{value:L,onChange:Z=>K(Z.target.value),placeholder:"Adicione uma observao final sobre a entrevista...",className:"glass-input min-h-[100px]"})]}),i.jsxs("div",{className:"flex justify-center gap-4 mt-8",children:[f==="normal"&&i.jsx(fe,{variant:"outline",onClick:()=>{s("questions"),X("questions")},children:"Revisar Respostas"}),i.jsxs(fe,{onClick:he,className:"btn-neon gap-2",children:[i.jsx(pc,{className:"w-4 h-4"}),"Finalizar"]})]})]})]})]})]}),i.jsx(Tt,{open:u,onOpenChange:d,children:i.jsxs(Et,{className:"glass-panel",children:[i.jsxs(kt,{children:[i.jsx(At,{children:"Reiniciar Entrevista?"}),i.jsx(dr,{children:"Todos os dados da entrevista atual sero perdidos. Esta ao no pode ser desfeita."})]}),i.jsxs(qt,{children:[i.jsx(fe,{variant:"ghost",onClick:()=>d(!1),children:"Cancelar"}),i.jsx(fe,{variant:"destructive",onClick:W,children:"Reiniciar"})]})]})})]})}const Ci=g.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Be("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ci.displayName="Card";const ky=g.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Be("flex flex-col space-y-1.5 p-6",e),...t}));ky.displayName="CardHeader";const Ay=g.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:Be("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ay.displayName="CardTitle";const F7=g.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:Be("text-sm text-muted-foreground",e),...t}));F7.displayName="CardDescription";const Ti=g.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Be("p-6 pt-0",e),...t}));Ti.displayName="CardContent";const L7=g.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Be("flex items-center p-6 pt-0",e),...t}));L7.displayName="CardFooter";const M7={briefing:"Briefing",candidate:"Dados do Candidato",questions:"Avaliao",result:"Concluso"};function B7({startedAt:e,onTimeout:t}){const[r,n]=g.useState(""),[s,a]=g.useState(!1);return g.useEffect(()=>{const o=()=>{const c=new Date(e).getTime(),u=Date.now(),d=Math.floor((u-c)/1e3),f=Math.floor(d/3600),h=Math.floor(d%3600/60),p=d%60,x=f.toString().padStart(2,"0"),m=h.toString().padStart(2,"0"),v=p.toString().padStart(2,"0");n(`${x}:${m}:${v}`),f>=1&&!s&&(a(!0),t&&t())};o();const l=setInterval(o,1e3);return()=>clearInterval(l)},[e,t,s]),i.jsx("span",{className:`font-mono font-bold ${s?"text-destructive animate-pulse":"text-primary"}`,children:r})}const $7=e=>e.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2);function U7(){const{isAdmin:e}=Pr(),{toast:t}=pr(),[r,n]=g.useState([]),[s,a]=g.useState([]),[o,l]=g.useState(()=>{try{const y=localStorage.getItem("hidden_live_interviews");if(y)return new Set(JSON.parse(y))}catch(y){console.error("Error loading hidden interviews:",y)}return new Set}),[c,u]=g.useState(!0),[d,f]=g.useState(new Date);g.useEffect(()=>{const y=setInterval(()=>f(new Date),1e3);return()=>clearInterval(y)},[]),g.useEffect(()=>{h();const y=re.channel("active-interviews-changes").on("postgres_changes",{event:"*",schema:"public",table:"active_interviews"},()=>{p()}).subscribe();return()=>{re.removeChannel(y)}},[]);const h=async()=>{try{const[y,S]=await Promise.all([re.from("active_interviews").select("*").order("started_at",{ascending:!1}),re.from("profiles").select("user_id, name, avatar_url")]);y.data&&n(y.data),S.data&&a(S.data)}catch(y){console.error("Error fetching data:",y)}finally{u(!1)}},p=async()=>{try{const{data:y,error:S}=await re.from("active_interviews").select("*").order("started_at",{ascending:!1});if(S)throw S;n(y||[])}catch(y){console.error("Error fetching active interviews:",y)}},x=y=>s.find(S=>S.user_id===y),m=y=>{l(S=>{const E=new Set(S);return E.has(y)?E.delete(y):E.add(y),localStorage.setItem("hidden_live_interviews",JSON.stringify(Array.from(E))),E})},v=async()=>{const y=r.filter(S=>{const E=new Date(S.started_at).getTime();return(Date.now()-E)/(1e3*60*60)>=1});if(y.length===0){t({title:"Nenhuma entrevista longa",description:"No h entrevistas com mais de 1 hora de durao."});return}try{const S=y.map(C=>C.id),{error:E}=await re.from("active_interviews").delete().in("id",S);if(E)throw E;n(C=>C.filter(b=>!S.includes(b.id))),t({title:"Entrevistas encerradas",description:`${y.length} entrevista(s) encerrada(s) por inatividade.`})}catch(S){console.error("Error closing interviews:",S),t({title:"Erro",description:"No foi possvel encerrar as entrevistas.",variant:"destructive"})}},_=async(y,S)=>{t({title:"Entrevista longa detectada",description:`A entrevista com ${S||"candidato desconhecido"} passou de 1 hora.`,variant:"destructive"});try{await re.from("active_interviews").delete().eq("id",y),t({title:"Entrevista encerrada",description:"A entrevista foi encerrada automaticamente por inatividade."})}catch(E){console.error("Error closing interview:",E)}},w=r.filter(y=>!o.has(y.id));return e?i.jsx(On,{children:i.jsxs("div",{className:"space-y-6 animate-fade-in",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"font-display text-3xl font-bold text-foreground flex items-center gap-3",children:[i.jsx(uj,{className:"w-8 h-8 text-primary animate-pulse"}),"Entrevistas ao Vivo"]}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Acompanhe quem est realizando entrevistas neste momento"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(fe,{variant:"destructive",size:"sm",onClick:v,className:"gap-2",children:[i.jsx(an,{className:"w-4 h-4"}),"Encerrar +1h"]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Hora atual"}),i.jsx("p",{className:"font-mono text-lg text-foreground",children:d.toLocaleTimeString("pt-BR")})]}),i.jsxs(ar,{variant:"outline",className:"gap-2 px-3 py-1.5",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),w.length," ativa",w.length!==1?"s":""]}),o.size>0&&i.jsxs(ar,{variant:"secondary",className:"gap-2 px-3 py-1.5",children:[i.jsx(Fu,{className:"w-3 h-3"}),o.size," oculta",o.size!==1?"s":""]})]})]}),c?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):w.length===0?i.jsx(Ci,{className:"glass-panel border-border",children:i.jsxs(Ti,{className:"flex flex-col items-center justify-center py-16",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-muted flex items-center justify-center mb-4",children:i.jsx(o5,{className:"w-10 h-10 text-muted-foreground"})}),i.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:o.size>0?"Todas as entrevistas esto ocultas":"Nenhuma entrevista ativa"}),i.jsx("p",{className:"text-muted-foreground text-center max-w-md",children:o.size>0?"Clique no boto de olho nas entrevistas para exibi-las novamente.":"Quando um entrevistador iniciar uma nova entrevista, ela aparecer aqui em tempo real."})]})}):i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:w.map(y=>{const S=x(y.user_id);return i.jsxs(Ci,{className:"glass-panel border-border hover:border-primary/30 transition-all duration-300",children:[i.jsx(ky,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(xn,{className:"w-10 h-10 border-2 border-primary/20",children:[i.jsx(yn,{src:(S==null?void 0:S.avatar_url)||void 0}),i.jsx(wn,{className:"bg-primary/10 text-primary font-semibold",children:$7(y.user_name)})]}),i.jsxs("div",{children:[i.jsx(Ay,{className:"text-base font-semibold text-foreground",children:y.user_name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Entrevistador"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>m(y.id),className:"h-8 w-8",title:"Ocultar entrevista",children:i.jsx(Fu,{className:"w-4 h-4 text-muted-foreground"})}),i.jsx(ar,{variant:y.interview_mode==="codiguinho"?"secondary":"default",className:"text-xs",children:y.interview_mode==="codiguinho"?"Verificaes":"Visitantes"})]})]})}),i.jsxs(Ti,{className:"space-y-3",children:[i.jsxs("div",{className:"p-3 rounded-lg bg-accent/50 border border-border",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Candidato"}),i.jsx("p",{className:"font-medium text-foreground",children:y.candidate_name||"Aguardando dados..."})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Fase atual:"}),i.jsx(ar,{variant:"outline",className:"font-medium",children:M7[y.current_phase]||y.current_phase})]}),i.jsx("div",{className:"p-3 rounded-lg bg-primary/5 border border-primary/20",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(hj,{className:"w-4 h-4 text-primary"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"Durao"})]}),i.jsx(B7,{startedAt:y.started_at,onTimeout:()=>_(y.id,y.candidate_name)})]})}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx(En,{className:"w-3.5 h-3.5"}),i.jsxs("span",{children:["Incio: ",new Date(y.started_at).toLocaleTimeString("pt-BR")]})]})]})]},y.id)})}),o.size>0&&i.jsxs("div",{className:"mt-8",children:[i.jsxs("h3",{className:"text-sm font-medium text-muted-foreground mb-3 flex items-center gap-2",children:[i.jsx(Fu,{className:"w-4 h-4"}),"Entrevistas Ocultas (",o.size,")"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:r.filter(y=>o.has(y.id)).map(y=>i.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>m(y.id),className:"gap-2",children:[i.jsx($i,{className:"w-3 h-3"}),y.user_name," - ",y.candidate_name||"Sem candidato"]},y.id))})]})]})}):i.jsx(On,{children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx(js,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Acesso Restrito"}),i.jsx("p",{className:"text-muted-foreground",children:"Esta pgina  exclusiva para administradores."})]})})})}const Wc=g.forwardRef(({className:e,...t},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:Be("w-full caption-bottom text-sm",e),...t})}));Wc.displayName="Table";const Hc=g.forwardRef(({className:e,...t},r)=>i.jsx("thead",{ref:r,className:Be("[&_tr]:border-b",e),...t}));Hc.displayName="TableHeader";const Gc=g.forwardRef(({className:e,...t},r)=>i.jsx("tbody",{ref:r,className:Be("[&_tr:last-child]:border-0",e),...t}));Gc.displayName="TableBody";const z7=g.forwardRef(({className:e,...t},r)=>i.jsx("tfoot",{ref:r,className:Be("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));z7.displayName="TableFooter";const Nr=g.forwardRef(({className:e,...t},r)=>i.jsx("tr",{ref:r,className:Be("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Nr.displayName="TableRow";const bt=g.forwardRef(({className:e,...t},r)=>i.jsx("th",{ref:r,className:Be("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));bt.displayName="TableHead";const tt=g.forwardRef(({className:e,...t},r)=>i.jsx("td",{ref:r,className:Be("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));tt.displayName="TableCell";const V7=g.forwardRef(({className:e,...t},r)=>i.jsx("caption",{ref:r,className:Be("mt-4 text-sm text-muted-foreground",e),...t}));V7.displayName="TableCaption";function W7({userId:e,userName:t}){const{toast:r}=pr(),{user:n}=Pr(),[s,a]=g.useState(!1),[o,l]=g.useState(""),[c,u]=g.useState(!1),d=async()=>{if(!o.trim()||!n){r({title:"Erro",description:"Digite uma mensagem.",variant:"destructive"});return}u(!0);try{const{error:f}=await re.from("notifications").insert({user_id:e,sender_id:n.id,message:o.trim()});if(f)throw f;r({title:"Sucesso",description:`Notificao enviada para ${t}!`}),l(""),a(!1)}catch(f){r({title:"Erro",description:f.message,variant:"destructive"})}finally{u(!1)}};return i.jsxs(Tt,{open:s,onOpenChange:a,children:[i.jsx(zc,{asChild:!0,children:i.jsx(fe,{variant:"ghost",size:"icon",className:"hover:bg-warning/10 hover:text-warning",children:i.jsx(i0,{className:"w-4 h-4"})})}),i.jsxs(Et,{className:"glass-panel border-t-2 border-warning",children:[i.jsxs(kt,{children:[i.jsxs(At,{className:"flex items-center gap-2",children:[i.jsx(i0,{className:"w-5 h-5 text-warning"}),"Notificar Usurio"]}),i.jsxs(dr,{children:["Envie uma mensagem de alerta para ",i.jsx("strong",{children:t})]})]}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Mensagem"}),i.jsx(An,{value:o,onChange:f=>l(f.target.value),placeholder:"Digite sua mensagem...",className:"glass-input min-h-[120px]"})]})}),i.jsxs(qt,{children:[i.jsx(fe,{variant:"ghost",onClick:()=>a(!1),children:"Cancelar"}),i.jsxs(fe,{onClick:d,disabled:c,className:"bg-warning text-warning-foreground hover:bg-warning/90 gap-2",children:[c?i.jsx(ot,{className:"w-4 h-4 animate-spin"}):i.jsx(pc,{className:"w-4 h-4"}),"Enviar"]})]})]})]})}const H7=Gd("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),tA=g.forwardRef(({className:e,variant:t,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:Be(H7({variant:t}),e),...r}));tA.displayName="Alert";const G7=g.forwardRef(({className:e,...t},r)=>i.jsx("h5",{ref:r,className:Be("mb-1 font-medium leading-none tracking-tight",e),...t}));G7.displayName="AlertTitle";const rA=g.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Be("text-sm [&_p]:leading-relaxed",e),...t}));rA.displayName="AlertDescription";function q7({userId:e,userName:t,initialSchedule:r,onSave:n}){const{toast:s}=pr(),{logAction:a}=Uc(),[o,l]=g.useState(!1),[c,u]=g.useState(!1),[d,f]=g.useState([]),[h,p]=g.useState([]);g.useEffect(()=>{if(o){const k=[];(r!=null&&r.interview_schedule_start||r!=null&&r.interview_schedule_end)&&k.push({start:r.interview_schedule_start||"",end:r.interview_schedule_end||""}),(r!=null&&r.interview_schedule_start_2||r!=null&&r.interview_schedule_end_2)&&k.push({start:r.interview_schedule_start_2||"",end:r.interview_schedule_end_2||""}),(r!=null&&r.interview_schedule_start_3||r!=null&&r.interview_schedule_end_3)&&k.push({start:r.interview_schedule_start_3||"",end:r.interview_schedule_end_3||""}),k.length===0&&k.push({start:"",end:""}),f(k);const O=[];(r!=null&&r.codiguinho_schedule_start||r!=null&&r.codiguinho_schedule_end)&&O.push({start:r.codiguinho_schedule_start||"",end:r.codiguinho_schedule_end||""}),(r!=null&&r.codiguinho_schedule_start_2||r!=null&&r.codiguinho_schedule_end_2)&&O.push({start:r.codiguinho_schedule_start_2||"",end:r.codiguinho_schedule_end_2||""}),(r!=null&&r.codiguinho_schedule_start_3||r!=null&&r.codiguinho_schedule_end_3)&&O.push({start:r.codiguinho_schedule_start_3||"",end:r.codiguinho_schedule_end_3||""}),O.length===0&&O.push({start:"",end:""}),p(O)}},[o,r]);const x=()=>{d.length<3&&f([...d,{start:"",end:""}])},m=k=>{d.length>1?f(d.filter((O,L)=>L!==k)):f([{start:"",end:""}])},v=(k,O,L)=>{const K=[...d];K[k][O]=L,f(K)},_=()=>{h.length<3&&p([...h,{start:"",end:""}])},w=k=>{h.length>1?p(h.filter((O,L)=>L!==k)):p([{start:"",end:""}])},y=(k,O,L)=>{const K=[...h];K[k][O]=L,p(K)},S=k=>{if(!k)return-1;const[O,L]=k.split(":").map(Number);return O*60+L},E=(k,O)=>{if(!k.start||!k.end||!O.start||!O.end)return!1;const L=S(k.start),K=S(k.end),M=S(O.start),q=S(O.end);return L>=K||M>=q?!1:L<q&&K>M},C=g.useMemo(()=>{const k=[],O=(L,K,M)=>{if(L.start&&L.end){const q=S(L.start),ie=S(L.end);q>=ie&&k.push(`${K} #${M+1}: Horrio de fim deve ser aps o incio`)}else(L.start&&!L.end||!L.start&&L.end)&&k.push(`${K} #${M+1}: Preencha incio e fim ou deixe ambos vazios`)};d.forEach((L,K)=>O(L,"Entrevista de Visitantes",K)),h.forEach((L,K)=>O(L,"Entrevista de Verificaes",K));for(let L=0;L<d.length;L++)for(let K=L+1;K<d.length;K++)E(d[L],d[K])&&k.push(`Visitantes #${L+1} e #${K+1} se sobrepem`);for(let L=0;L<h.length;L++)for(let K=L+1;K<h.length;K++)E(h[L],h[K])&&k.push(`Verificaes #${L+1} e #${K+1} se sobrepem`);for(let L=0;L<d.length;L++)for(let K=0;K<h.length;K++)E(d[L],h[K])&&k.push(`Visitantes #${L+1} e Verificaes #${K+1} se sobrepem`);return k},[d,h]),b=C.length>0,j=async()=>{var k,O,L,K,M,q,ie,X,J,Y,ge,P;if(b){s({title:"Erro de validao",description:"Corrija os erros antes de salvar.",variant:"destructive"});return}u(!0);try{const G={interview_schedule_start:((k=d[0])==null?void 0:k.start)||null,interview_schedule_end:((O=d[0])==null?void 0:O.end)||null,interview_schedule_start_2:((L=d[1])==null?void 0:L.start)||null,interview_schedule_end_2:((K=d[1])==null?void 0:K.end)||null,interview_schedule_start_3:((M=d[2])==null?void 0:M.start)||null,interview_schedule_end_3:((q=d[2])==null?void 0:q.end)||null,codiguinho_schedule_start:((ie=h[0])==null?void 0:ie.start)||null,codiguinho_schedule_end:((X=h[0])==null?void 0:X.end)||null,codiguinho_schedule_start_2:((J=h[1])==null?void 0:J.start)||null,codiguinho_schedule_end_2:((Y=h[1])==null?void 0:Y.end)||null,codiguinho_schedule_start_3:((ge=h[2])==null?void 0:ge.start)||null,codiguinho_schedule_end_3:((P=h[2])==null?void 0:P.end)||null},{error:B}=await re.from("profiles").update(G).eq("user_id",e);if(B)throw B;await a("update_user_schedule","user",e,{userName:t,interviewSlots:d.filter(W=>W.start&&W.end),codiguinhoSlots:h.filter(W=>W.start&&W.end)}),s({title:"Sucesso",description:"Horrios salvos com sucesso!"}),l(!1),n==null||n()}catch(G){s({title:"Erro",description:G.message,variant:"destructive"})}finally{u(!1)}},N=(k,O)=>!k&&!O?null:`${k||"??:??"} - ${O||"??:??"}`,R=()=>r&&(r.interview_schedule_start||r.interview_schedule_start_2||r.interview_schedule_start_3||r.codiguinho_schedule_start||r.codiguinho_schedule_start_2||r.codiguinho_schedule_start_3);return i.jsxs(Tt,{open:o,onOpenChange:l,children:[i.jsx(zc,{asChild:!0,children:i.jsxs(fe,{variant:"ghost",size:"icon",className:"hover:bg-accent relative",children:[i.jsx(En,{className:"w-4 h-4"}),R()&&i.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-success rounded-full"})]})}),i.jsxs(Et,{className:"glass-panel border-t-2 border-primary max-w-xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(kt,{children:[i.jsxs(At,{className:"flex items-center gap-2",children:[i.jsx(En,{className:"w-5 h-5 text-primary"}),"Horrios de Entrevista"]}),i.jsxs(dr,{children:["Defina at 3 horrios de entrevista para ",i.jsx("strong",{children:t})]})]}),i.jsxs("div",{className:"p-3 rounded-lg bg-accent/30 border border-border space-y-2",children:[i.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Horrios Configurados:"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-success font-medium",children:"Normais:"}),i.jsxs("div",{className:"space-y-0.5 mt-1",children:[d.filter(k=>k.start&&k.end).map((k,O)=>i.jsx("div",{className:"text-foreground",children:N(k.start,k.end)},O)),d.every(k=>!k.start&&!k.end)&&i.jsx("div",{className:"text-muted-foreground",children:"Nenhum horrio definido"})]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-warning font-medium",children:"Codiguinho:"}),i.jsxs("div",{className:"space-y-0.5 mt-1",children:[h.filter(k=>k.start&&k.end).map((k,O)=>i.jsx("div",{className:"text-foreground",children:N(k.start,k.end)},O)),h.every(k=>!k.start&&!k.end)&&i.jsx("div",{className:"text-muted-foreground",children:"Nenhum horrio definido"})]})]})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-success"}),"Entrevistas de Visitantes"]}),d.length<3&&i.jsxs(fe,{variant:"ghost",size:"sm",onClick:x,className:"h-7 text-xs gap-1",children:[i.jsx(qr,{className:"w-3 h-3"}),"Adicionar"]})]}),d.map((k,O)=>i.jsxs("div",{className:"flex items-end gap-2",children:[i.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-2",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs(ve,{className:"text-xs text-muted-foreground",children:["Incio ",O+1]}),i.jsx(Oe,{type:"time",value:k.start,onChange:L=>v(O,"start",L.target.value),className:"glass-input"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs(ve,{className:"text-xs text-muted-foreground",children:["Fim ",O+1]}),i.jsx(Oe,{type:"time",value:k.end,onChange:L=>v(O,"end",L.target.value),className:"glass-input"})]})]}),i.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>m(O),className:"h-10 w-10 text-destructive hover:bg-destructive/10",children:i.jsx(an,{className:"w-4 h-4"})})]},O))]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-warning"}),"Entrevistas de Verificaes"]}),h.length<3&&i.jsxs(fe,{variant:"ghost",size:"sm",onClick:_,className:"h-7 text-xs gap-1",children:[i.jsx(qr,{className:"w-3 h-3"}),"Adicionar"]})]}),h.map((k,O)=>i.jsxs("div",{className:"flex items-end gap-2",children:[i.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-2",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs(ve,{className:"text-xs text-muted-foreground",children:["Incio ",O+1]}),i.jsx(Oe,{type:"time",value:k.start,onChange:L=>y(O,"start",L.target.value),className:"glass-input"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs(ve,{className:"text-xs text-muted-foreground",children:["Fim ",O+1]}),i.jsx(Oe,{type:"time",value:k.end,onChange:L=>y(O,"end",L.target.value),className:"glass-input"})]})]}),i.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>w(O),className:"h-10 w-10 text-destructive hover:bg-destructive/10",children:i.jsx(an,{className:"w-4 h-4"})})]},O))]}),b&&i.jsxs(tA,{variant:"destructive",className:"border-destructive/50",children:[i.jsx(ud,{className:"h-4 w-4"}),i.jsx(rA,{children:i.jsx("ul",{className:"list-disc list-inside space-y-1 text-xs",children:C.map((k,O)=>i.jsx("li",{children:k},O))})})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Durante o horrio de codiguinho, o entrevistador s poder realizar entrevistas de codiguinho (sem fase de avaliao)."})]}),i.jsxs(qt,{children:[i.jsx(fe,{variant:"ghost",onClick:()=>l(!1),children:"Cancelar"}),i.jsxs(fe,{onClick:j,disabled:c||b,className:"btn-neon gap-2",children:[c?i.jsx(ot,{className:"w-4 h-4 animate-spin"}):i.jsx($a,{className:"w-4 h-4"}),"Salvar"]})]})]})]})}function K7(){const{user:e}=Pr(),[t,r]=g.useState({}),n=g.useRef(null),s=g.useRef(null),a=g.useRef(!1),o=g.useRef(!1),l=g.useCallback(async f=>{if(!(!e||!n.current||!o.current))try{await n.current.track({user_id:e.id,status:f,last_seen:new Date().toISOString()}),a.current=f==="away"}catch(h){console.error("Error updating presence:",h)}},[e]),c=g.useCallback(()=>{s.current&&clearTimeout(s.current),a.current&&o.current&&l("online"),s.current=setTimeout(()=>{o.current&&l("away")},30*60*1e3)},[l]);g.useEffect(()=>{if(!e)return;const h=re.channel("presence-room-global",{config:{presence:{key:e.id}}});n.current=h,h.on("presence",{event:"sync"},()=>{const m=h.presenceState(),v={};Object.entries(m).forEach(([_,w])=>{if(w&&w.length>0){const y=w[0];y.user_id&&(v[y.user_id]=y)}}),r(v)}).on("presence",{event:"join"},({key:m,newPresences:v})=>{if(v&&v.length>0){const _=v[0];_.user_id&&r(w=>({...w,[_.user_id]:_}))}}).on("presence",{event:"leave"},({key:m,leftPresences:v})=>{if(v&&v.length>0){const _=v[0];_.user_id&&r(w=>{const y={...w};return y[_.user_id]&&(y[_.user_id]={...y[_.user_id],status:"offline",last_seen:new Date().toISOString()}),y})}}).subscribe(async m=>{if(m==="SUBSCRIBED"){o.current=!0;try{await h.track({user_id:e.id,status:"online",last_seen:new Date().toISOString()})}catch(v){console.error("Error tracking presence:",v)}}});const p=["mousedown","keydown","touchstart","scroll","mousemove"],x=X7(c,1e3);return p.forEach(m=>{window.addEventListener(m,x,{passive:!0})}),c(),localStorage.getItem("hidden_live_interviews"),()=>{o.current=!1,s.current&&clearTimeout(s.current),p.forEach(m=>{window.removeEventListener(m,x)}),h.unsubscribe()}},[e==null?void 0:e.id,c]);const u=g.useCallback(f=>{const h=t[f];return h?h.status:"offline"},[t]),d=g.useCallback(f=>{const h=t[f];return h!=null&&h.last_seen?new Date(h.last_seen):null},[t]);return{presenceMap:t,getUserStatus:u,getLastActivity:d}}function X7(e,t){let r=null;return(...n)=>{r&&clearTimeout(r),r=setTimeout(()=>e(...n),t)}}function Y7({user:e,open:t,onOpenChange:r,userStatus:n,lastActivity:s}){const{getRoleColor:a,getRoleName:o}=Zo(),[l,c]=g.useState([]),[u,d]=g.useState(!1);g.useEffect(()=>{t&&e&&f()},[t,e==null?void 0:e.user_id]);const f=async()=>{if(e){d(!0);try{const{data:y,error:S}=await re.from("access_logs").select("id, ip_address, logged_at").eq("user_id",e.user_id).order("logged_at",{ascending:!1}).limit(5);if(S)throw S;c(y||[])}catch(y){console.error("Error fetching logs:",y)}finally{d(!1)}}},h=y=>new Date(y).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),p=(y,S)=>!y&&!S?null:`${y||"--:--"} - ${S||"--:--"}`,x=()=>{if(!e)return{interview:[],codiguinho:[]};const y=[p(e.interview_schedule_start,e.interview_schedule_end),p(e.interview_schedule_start_2,e.interview_schedule_end_2),p(e.interview_schedule_start_3,e.interview_schedule_end_3)].filter(Boolean),S=[p(e.codiguinho_schedule_start,e.codiguinho_schedule_end),p(e.codiguinho_schedule_start_2,e.codiguinho_schedule_end_2),p(e.codiguinho_schedule_start_3,e.codiguinho_schedule_end_3)].filter(Boolean);return{interview:y,codiguinho:S}};if(!e)return null;const m=a(e.role),v=o(e.role),_=x(),w=e.role==="admin_master"?ur:dd;return i.jsx(Tt,{open:t,onOpenChange:r,children:i.jsxs(Et,{className:"glass-panel border-0 max-w-lg p-0 overflow-hidden",children:[i.jsx("div",{className:"p-6 pb-16 relative",style:{background:`linear-gradient(135deg, ${m}20, ${m}05)`,borderBottom:`1px solid ${m}30`},children:i.jsx(kt,{children:i.jsx(At,{className:"text-xl",children:"Detalhes do Usurio"})})}),i.jsx("div",{className:"flex justify-center -mt-12 relative z-10",children:i.jsxs("div",{className:"relative",children:[i.jsxs(xn,{className:"w-24 h-24 border-4 border-background shadow-xl",children:[i.jsx(yn,{src:e.avatar_url||void 0,alt:e.name}),i.jsx(wn,{className:"text-2xl font-bold",style:{backgroundColor:`${m}20`,color:m},children:e.name.split(" ").map(y=>y[0]).join("").substring(0,2).toUpperCase()})]}),i.jsx("div",{className:"absolute -bottom-1 -right-1",children:i.jsx(Nd,{status:n,size:"lg"})})]})}),i.jsx(Vn,{className:"max-h-[60vh]",children:i.jsxs("div",{className:"px-6 pb-6 pt-4 space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-xl font-bold text-foreground",children:e.name}),i.jsxs("p",{className:"text-sm text-muted-foreground font-mono",children:["@",e.username]}),i.jsx("div",{className:"flex justify-center mt-2",children:i.jsxs(ar,{className:"gap-1.5",style:{backgroundColor:`${m}20`,color:m,borderColor:`${m}40`},children:[i.jsx(w,{className:"w-3 h-3"}),v]})})]}),i.jsx("div",{className:"p-4 rounded-xl bg-accent/50 border border-border",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(r5,{className:"w-5 h-5 text-muted-foreground"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:"Status Atual"}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(Nd,{status:n,showLabel:!0}),s&&n!=="online"&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:[" ltima atividade: ",s.toLocaleTimeString("pt-BR")]})]})]})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 rounded-xl bg-green-500/10 border border-green-500/20",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(En,{className:"w-4 h-4 text-green-500"}),i.jsx("p",{className:"text-sm font-medium text-green-500",children:"Entrevistas"})]}),_.interview.length>0?i.jsx("div",{className:"space-y-1",children:_.interview.map((y,S)=>i.jsx("p",{className:"text-sm text-foreground font-mono",children:y},S))}):i.jsx("p",{className:"text-xs text-muted-foreground",children:"No configurado"})]}),i.jsxs("div",{className:"p-4 rounded-xl bg-warning/10 border border-warning/20",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(En,{className:"w-4 h-4 text-warning"}),i.jsx("p",{className:"text-sm font-medium text-warning",children:"Codiguinho"})]}),_.codiguinho.length>0?i.jsx("div",{className:"space-y-1",children:_.codiguinho.map((y,S)=>i.jsx("p",{className:"text-sm text-foreground font-mono",children:y},S))}):i.jsx("p",{className:"text-xs text-muted-foreground",children:"No configurado"})]})]}),i.jsxs("div",{className:"p-4 rounded-xl bg-accent/50 border border-border",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(g5,{className:"w-4 h-4 text-muted-foreground"}),i.jsx("p",{className:"text-sm font-medium text-foreground",children:"ltimos Acessos"})]}),u?i.jsx("p",{className:"text-xs text-muted-foreground",children:"Carregando..."}):l.length>0?i.jsx("div",{className:"space-y-2",children:l.map(y=>i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsx("span",{className:"font-mono text-foreground",children:y.ip_address}),i.jsx("span",{className:"text-muted-foreground",children:h(y.logged_at)})]},y.id))}):i.jsx("p",{className:"text-xs text-muted-foreground",children:"Nenhum acesso registrado"})]})]})})]})})}const n2=Up({name:Ys().min(2,"Nome deve ter pelo menos 2 caracteres").max(100),username:Ys().min(3,"Usurio deve ter pelo menos 3 caracteres").max(50).regex(/^[a-zA-Z0-9_]+$/,"Apenas letras, nmeros e underscore"),password:Ys().min(3,"Senha deve ter pelo menos 3 caracteres").max(100).optional(),role:$B(["admin_master","clevel","director","coordinator","staff_manager","casting_manager","staff","support","casting","entrevistador"]),custom_id:Ys().max(50).optional()});function J7(){const{toast:e}=pr(),{getUserStatus:t,getLastActivity:r}=K7(),{roleConfigs:n,getRoleColor:s,getRoleName:a}=Zo(),{logAction:o}=Uc(),[l,c]=g.useState([]),[u,d]=g.useState(!0),[f,h]=g.useState(!1),[p,x]=g.useState(""),[m,v]=g.useState(!1),[_,w]=g.useState(null),[y,S]=g.useState(!1),[E,C]=g.useState(!1),[b,j]=g.useState(!1),[N,R]=g.useState(!1),[k,O]=g.useState(null),[L,K]=g.useState([]),[M,q]=g.useState({name:"",username:"",password:"",role:"casting",custom_id:""}),[ie,X]=g.useState({});g.useEffect(()=>{J()},[]);const J=async()=>{try{const{data:A,error:H}=await re.from("profiles").select("*").order("name");if(H)throw H;const{data:ne,error:Re}=await re.from("user_roles").select("*");if(Re)throw Re;const{data:Z,error:_e}=await re.from("access_logs").select("*").order("logged_at",{ascending:!1});if(_e)throw _e;const ue=A.map(te=>{const Xe=ne.find(Je=>Je.user_id===te.user_id),We=Z.find(Je=>Je.user_id===te.user_id);return{id:te.id,user_id:te.user_id,name:te.name,username:te.username,custom_id:te.custom_id,avatar_url:te.avatar_url,role:(Xe==null?void 0:Xe.role)||"entrevistador",last_login:We?{ip_address:We.ip_address,logged_at:We.logged_at}:void 0,interview_schedule_start:te.interview_schedule_start,interview_schedule_end:te.interview_schedule_end,interview_schedule_start_2:te.interview_schedule_start_2,interview_schedule_end_2:te.interview_schedule_end_2,interview_schedule_start_3:te.interview_schedule_start_3,interview_schedule_end_3:te.interview_schedule_end_3,codiguinho_schedule_start:te.codiguinho_schedule_start,codiguinho_schedule_end:te.codiguinho_schedule_end,codiguinho_schedule_start_2:te.codiguinho_schedule_start_2,codiguinho_schedule_end_2:te.codiguinho_schedule_end_2,codiguinho_schedule_start_3:te.codiguinho_schedule_start_3,codiguinho_schedule_end_3:te.codiguinho_schedule_end_3}});c(ue)}catch(A){console.error("Error fetching users:",A),e({title:"Erro",description:"No foi possvel carregar os usurios.",variant:"destructive"})}finally{d(!1)}},Y=(A=!1)=>{try{return(A?n2.extend({password:Ys().optional()}):n2.extend({password:Ys().min(3,"Senha  obrigatria")})).parse(M),X({}),!0}catch(H){if(H instanceof fs){const ne={};H.errors.forEach(Re=>{ne[Re.path[0]]=Re.message}),X(ne)}return!1}},ge=async()=>{if(Y()){h(!0);try{const{data:A,error:H}=await re.functions.invoke("manage-users",{body:{action:"create",name:M.name,username:M.username,password:M.password,role:M.role,custom_id:M.custom_id||void 0}});if(H)throw H;if(!A.success)throw new Error(A.error);await o("create_user","user",A.userId,{name:M.name,username:M.username,role:M.role}),e({title:"Sucesso",description:"Usurio criado com sucesso!"}),S(!1),W(),J()}catch(A){e({title:"Erro",description:A.message||"No foi possvel criar o usurio.",variant:"destructive"})}finally{h(!1)}}},P=async()=>{if(!(!k||!Y(!0))){h(!0);try{const{data:A,error:H}=await re.functions.invoke("manage-users",{body:{action:"update",userId:k.user_id,name:M.name,password:M.password||void 0,role:M.role,custom_id:M.custom_id||void 0}});if(H)throw H;if(!A.success)throw new Error(A.error);await o("update_user","user",k.user_id,{name:M.name,role:M.role,passwordChanged:!!M.password}),e({title:"Sucesso",description:"Usurio atualizado com sucesso!"}),C(!1),W(),J()}catch(A){e({title:"Erro",description:A.message||"No foi possvel atualizar o usurio.",variant:"destructive"})}finally{h(!1)}}},G=async()=>{if(k){h(!0);try{const{data:A,error:H}=await re.functions.invoke("manage-users",{body:{action:"delete",userId:k.user_id}});if(H)throw H;if(!A.success)throw new Error(A.error);await o("delete_user","user",k.user_id,{name:k.name,username:k.username}),e({title:"Sucesso",description:"Usurio excludo com sucesso!"}),j(!1),O(null),J()}catch(A){e({title:"Erro",description:A.message||"No foi possvel excluir o usurio.",variant:"destructive"})}finally{h(!1)}}},B=A=>{O(A),q({name:A.name,username:A.username,password:"",role:A.role,custom_id:A.custom_id||""}),C(!0)},W=()=>{q({name:"",username:"",password:"",role:"casting",custom_id:""}),X({}),O(null)},ee=A=>{const H=s(A),ne=a(A),Re=A==="admin_master"?ur:dd;return i.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium border",style:{backgroundColor:`${H}20`,color:H,borderColor:`${H}40`},children:[i.jsx(Re,{className:"w-3 h-3"}),ne]})},U=A=>new Date(A).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),he=l.filter(A=>{if(!p)return!0;const H=p.toLowerCase();return A.name.toLowerCase().includes(H)||A.username.toLowerCase().includes(H)}),ce={total:l.length,admins:l.filter(A=>A.role==="admin_master").length,casting:l.filter(A=>A.role==="casting_manager").length,interviewers:l.filter(A=>A.role==="entrevistador").length};return i.jsxs(On,{children:[i.jsxs("div",{className:"space-y-6 animate-fade-in",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-display font-bold text-foreground flex items-center gap-3",children:[i.jsx(fd,{className:"w-8 h-8 text-primary"}),"Gerenciamento de Usurios"]}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Adicione, edite ou remova membros da equipe"})]}),i.jsxs(fe,{onClick:()=>S(!0),className:"btn-neon gap-2",children:[i.jsx(qr,{className:"w-5 h-5"}),"Novo Usurio"]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[i.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Total"}),i.jsx("p",{className:"text-2xl font-bold text-foreground",children:ce.total})]}),i.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[i.jsx("p",{className:"text-xs uppercase tracking-wider mb-1",style:{color:s("admin_master")},children:"Admins"}),i.jsx("p",{className:"text-2xl font-bold",style:{color:s("admin_master")},children:ce.admins})]}),i.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[i.jsx("p",{className:"text-xs uppercase tracking-wider mb-1",style:{color:s("casting_manager")},children:"Casting"}),i.jsx("p",{className:"text-2xl font-bold",style:{color:s("casting_manager")},children:ce.casting})]}),i.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[i.jsx("p",{className:"text-xs uppercase tracking-wider mb-1",style:{color:s("entrevistador")},children:"Entrevistadores"}),i.jsx("p",{className:"text-2xl font-bold",style:{color:s("entrevistador")},children:ce.interviewers})]})]}),i.jsx("div",{className:"glass-panel rounded-xl p-4",children:i.jsxs("div",{className:"relative",children:[i.jsx(Kd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),i.jsx(Oe,{placeholder:"Buscar usurios...",value:p,onChange:A=>x(A.target.value),className:"glass-input pl-10"})]})}),i.jsx("div",{className:"glass-panel rounded-xl overflow-hidden",children:i.jsxs(Wc,{children:[i.jsx(Hc,{children:i.jsxs(Nr,{className:"border-border hover:bg-transparent",children:[i.jsx(bt,{className:"w-[80px]",children:"Status"}),i.jsx(bt,{children:"ID"}),i.jsx(bt,{children:"Usurio"}),i.jsx(bt,{children:"Cargo"}),i.jsx(bt,{children:"ltimo Login"}),i.jsx(bt,{className:"text-right",children:"Aes"})]})}),i.jsx(Gc,{children:u?i.jsx(Nr,{children:i.jsxs(tt,{colSpan:6,className:"text-center py-12",children:[i.jsx(ot,{className:"w-8 h-8 animate-spin mx-auto text-primary"}),i.jsx("p",{className:"text-muted-foreground mt-2 text-sm",children:"Carregando..."})]})}):he.length===0?i.jsx(Nr,{children:i.jsxs(tt,{colSpan:6,className:"text-center py-12",children:[i.jsx(fd,{className:"w-12 h-12 mx-auto text-muted-foreground/30 mb-3"}),i.jsx("p",{className:"text-muted-foreground",children:"Nenhum usurio encontrado"})]})}):he.map(A=>i.jsxs(Nr,{className:"border-border group hover:bg-accent/30 transition-colors",children:[i.jsx(tt,{children:i.jsx("div",{className:"flex items-center justify-center",children:i.jsxs("div",{className:"relative",children:[i.jsxs(xn,{className:"w-10 h-10 border-2 border-border group-hover:border-primary/30 transition-colors",children:[i.jsx(yn,{src:A.avatar_url||"",alt:A.name}),i.jsx(wn,{className:"bg-primary/10 text-primary font-medium",children:A.name.split(" ").map(H=>H[0]).join("").substring(0,2).toUpperCase()})]}),i.jsx("div",{className:"absolute -bottom-0.5 -right-0.5",children:i.jsx(Nd,{status:t(A.user_id),size:"sm"})})]})})}),i.jsx(tt,{children:A.custom_id?i.jsx(ar,{variant:"outline",className:"font-mono text-xs",children:A.custom_id}):i.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),i.jsx(tt,{children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-foreground",children:A.name}),i.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:["@",A.username]})]})}),i.jsx(tt,{children:ee(A.role)}),i.jsx(tt,{children:A.last_login?i.jsxs("div",{className:"text-sm",children:[i.jsx("p",{className:"text-foreground",children:U(A.last_login.logged_at)}),i.jsx("p",{className:"text-muted-foreground text-xs font-mono",children:A.last_login.ip_address})]}):i.jsx("span",{className:"text-muted-foreground text-sm",children:"Nunca"})}),i.jsx(tt,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end gap-1 opacity-60 group-hover:opacity-100 transition-opacity",children:[i.jsx(W7,{userId:A.user_id,userName:A.name}),i.jsx(q7,{userId:A.user_id,userName:A.name,initialSchedule:{interview_schedule_start:A.interview_schedule_start,interview_schedule_end:A.interview_schedule_end,interview_schedule_start_2:A.interview_schedule_start_2,interview_schedule_end_2:A.interview_schedule_end_2,interview_schedule_start_3:A.interview_schedule_start_3,interview_schedule_end_3:A.interview_schedule_end_3,codiguinho_schedule_start:A.codiguinho_schedule_start,codiguinho_schedule_end:A.codiguinho_schedule_end,codiguinho_schedule_start_2:A.codiguinho_schedule_start_2,codiguinho_schedule_end_2:A.codiguinho_schedule_end_2,codiguinho_schedule_start_3:A.codiguinho_schedule_start_3,codiguinho_schedule_end_3:A.codiguinho_schedule_end_3},onSave:J}),i.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>{w(A),v(!0)},className:"hover:bg-primary/10 hover:text-primary",children:i.jsx($i,{className:"w-4 h-4"})}),i.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>B(A),className:"hover:bg-primary/10 hover:text-primary",children:i.jsx(Ka,{className:"w-4 h-4"})}),i.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>{O(A),j(!0)},className:"hover:bg-destructive/10 hover:text-destructive",children:i.jsx(an,{className:"w-4 h-4"})})]})})]},A.id))})]})})]}),i.jsx(Tt,{open:y,onOpenChange:S,children:i.jsxs(Et,{className:"glass-panel border-primary/20 max-w-md",children:[i.jsxs(kt,{children:[i.jsxs(At,{className:"flex items-center gap-2 text-xl",children:[i.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:i.jsx(qr,{className:"w-5 h-5 text-primary"})}),"Novo Usurio"]}),i.jsx(dr,{children:"Preencha os dados para criar um novo membro da equipe."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Nome Completo"}),i.jsx(Oe,{value:M.name,onChange:A=>q({...M,name:A.target.value}),placeholder:"Joo Silva",className:`glass-input ${ie.name?"border-destructive":""}`}),ie.name&&i.jsxs("p",{className:"text-xs text-destructive flex items-center gap-1",children:[i.jsx(js,{className:"w-3 h-3"}),ie.name]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Usurio"}),i.jsx(Oe,{value:M.username,onChange:A=>q({...M,username:A.target.value}),placeholder:"joaosilva",className:`glass-input font-mono ${ie.username?"border-destructive":""}`}),ie.username&&i.jsxs("p",{className:"text-xs text-destructive flex items-center gap-1",children:[i.jsx(js,{className:"w-3 h-3"}),ie.username]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Senha Inicial"}),i.jsx(Oe,{type:"password",value:M.password,onChange:A=>q({...M,password:A.target.value}),placeholder:"",className:`glass-input ${ie.password?"border-destructive":""}`}),ie.password&&i.jsxs("p",{className:"text-xs text-destructive flex items-center gap-1",children:[i.jsx(js,{className:"w-3 h-3"}),ie.password]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"O usurio dever alterar a senha no primeiro login"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"ID Personalizado (opcional)"}),i.jsx(Oe,{value:M.custom_id,onChange:A=>q({...M,custom_id:A.target.value}),placeholder:"Ex: 12345",className:"glass-input font-mono"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Identificador nico para o usurio"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Cargo"}),i.jsxs(Yt,{value:M.role,onValueChange:A=>q({...M,role:A}),children:[i.jsx(Wt,{className:"glass-input",children:i.jsx(Jt,{})}),i.jsx(Ht,{children:["admin_master","clevel","director","coordinator","staff_manager","casting_manager","staff","support","casting"].map(A=>i.jsx(He,{value:A,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:s(A)}}),a(A)]})},A))})]})]})]}),i.jsxs(qt,{children:[i.jsx(fe,{variant:"ghost",onClick:()=>S(!1),children:"Cancelar"}),i.jsxs(fe,{onClick:ge,disabled:f,className:"btn-neon",children:[f?i.jsx(ot,{className:"w-4 h-4 animate-spin mr-2"}):i.jsx(qr,{className:"w-4 h-4 mr-2"}),"Criar Usurio"]})]})]})}),i.jsx(Tt,{open:E,onOpenChange:C,children:i.jsxs(Et,{className:"glass-panel border-primary/20 max-w-md",children:[i.jsxs(kt,{children:[i.jsxs(At,{className:"flex items-center gap-2 text-xl",children:[i.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:i.jsx(Ka,{className:"w-5 h-5 text-primary"})}),"Editar Usurio"]}),i.jsxs(dr,{children:["Atualize as informaes de ",k==null?void 0:k.name]})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Nome Completo"}),i.jsx(Oe,{value:M.name,onChange:A=>q({...M,name:A.target.value}),className:`glass-input ${ie.name?"border-destructive":""}`}),ie.name&&i.jsxs("p",{className:"text-xs text-destructive flex items-center gap-1",children:[i.jsx(js,{className:"w-3 h-3"}),ie.name]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Usurio"}),i.jsx(Oe,{value:M.username,disabled:!0,className:"glass-input font-mono opacity-60"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"O nome de usurio no pode ser alterado"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Nova Senha (opcional)"}),i.jsx(Oe,{type:"password",value:M.password,onChange:A=>q({...M,password:A.target.value}),placeholder:"Deixe em branco para manter",className:"glass-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Cargo"}),i.jsxs(Yt,{value:M.role,onValueChange:A=>q({...M,role:A}),children:[i.jsx(Wt,{className:"glass-input",children:i.jsx(Jt,{})}),i.jsx(Ht,{children:["admin_master","clevel","director","coordinator","staff_manager","casting_manager","staff","support","casting"].map(A=>i.jsx(He,{value:A,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:s(A)}}),a(A)]})},A))})]})]})]}),i.jsxs(qt,{children:[i.jsx(fe,{variant:"ghost",onClick:()=>C(!1),children:"Cancelar"}),i.jsxs(fe,{onClick:P,disabled:f,className:"btn-neon",children:[f?i.jsx(ot,{className:"w-4 h-4 animate-spin mr-2"}):null,"Salvar Alteraes"]})]})]})}),i.jsx(Tt,{open:b,onOpenChange:j,children:i.jsxs(Et,{className:"glass-panel border-destructive/20 max-w-md",children:[i.jsxs(kt,{children:[i.jsxs(At,{className:"flex items-center gap-2 text-xl text-destructive",children:[i.jsx("div",{className:"p-2 rounded-lg bg-destructive/10",children:i.jsx(an,{className:"w-5 h-5 text-destructive"})}),"Excluir Usurio"]}),i.jsxs(dr,{children:["Tem certeza que deseja excluir ",i.jsx("strong",{children:k==null?void 0:k.name}),"? Esta ao no pode ser desfeita."]})]}),i.jsxs(qt,{children:[i.jsx(fe,{variant:"ghost",onClick:()=>j(!1),children:"Cancelar"}),i.jsxs(fe,{variant:"destructive",onClick:G,disabled:f,children:[f?i.jsx(ot,{className:"w-4 h-4 animate-spin mr-2"}):i.jsx(an,{className:"w-4 h-4 mr-2"}),"Excluir"]})]})]})}),i.jsx(Tt,{open:N,onOpenChange:R,children:i.jsxs(Et,{className:"glass-panel border-primary/20 max-w-lg",children:[i.jsxs(kt,{children:[i.jsxs(At,{className:"flex items-center gap-2 text-xl",children:[i.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:i.jsx($i,{className:"w-5 h-5 text-primary"})}),"Histrico de Acesso"]}),i.jsxs(dr,{children:["ltimos 10 acessos de ",k==null?void 0:k.name]})]}),i.jsx(Vn,{className:"max-h-[400px]",children:L.length===0?i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx($i,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),"Nenhum registro de acesso"]}):i.jsx("div",{className:"space-y-2",children:L.map((A,H)=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-accent/50 border border-border",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-mono text-sm text-foreground",children:A.ip_address}),i.jsx("p",{className:"text-xs text-muted-foreground",children:U(A.logged_at)})]}),i.jsxs(ar,{variant:"outline",className:"text-xs",children:["#",H+1]})]},A.id))})})]})}),i.jsx(Y7,{user:_,open:m,onOpenChange:v,userStatus:_?t(_.user_id):"offline",lastActivity:_?r(_.user_id):null})]})}function Q7(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return g.useMemo(()=>n=>{t.forEach(s=>s(n))},t)}const tm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function qc(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Ry(e){return"nodeType"in e}function Jn(e){var t,r;return e?qc(e)?e:Ry(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function Oy(e){const{Document:t}=Jn(e);return e instanceof t}function nf(e){return qc(e)?!1:e instanceof Jn(e).HTMLElement}function nA(e){return e instanceof Jn(e).SVGElement}function Kc(e){return e?qc(e)?e.document:Ry(e)?Oy(e)?e:nf(e)||nA(e)?e.ownerDocument:document:document:document}const Na=tm?g.useLayoutEffect:g.useEffect;function Py(e){const t=g.useRef(e);return Na(()=>{t.current=e}),g.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return t.current==null?void 0:t.current(...n)},[])}function Z7(){const e=g.useRef(null),t=g.useCallback((n,s)=>{e.current=setInterval(n,s)},[]),r=g.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function jd(e,t){t===void 0&&(t=[e]);const r=g.useRef(e);return Na(()=>{r.current!==e&&(r.current=e)},t),r}function sf(e,t){const r=g.useRef();return g.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function F0(e){const t=Py(e),r=g.useRef(null),n=g.useCallback(s=>{s!==r.current&&(t==null||t(s,r.current)),r.current=s},[]);return[r,n]}function yx(e){const t=g.useRef();return g.useEffect(()=>{t.current=e},[e]),t.current}let vg={};function af(e,t){return g.useMemo(()=>{if(t)return t;const r=vg[e]==null?0:vg[e]+1;return vg[e]=r,e+"-"+r},[e,t])}function sA(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return n.reduce((a,o)=>{const l=Object.entries(o);for(const[c,u]of l){const d=a[c];d!=null&&(a[c]=d+e*u)}return a},{...t})}}const Gl=sA(1),Cd=sA(-1);function eU(e){return"clientX"in e&&"clientY"in e}function Iy(e){if(!e)return!1;const{KeyboardEvent:t}=Jn(e.target);return t&&e instanceof t}function tU(e){if(!e)return!1;const{TouchEvent:t}=Jn(e.target);return t&&e instanceof t}function wx(e){if(tU(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return eU(e)?{x:e.clientX,y:e.clientY}:null}const Xi=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Xi.Translate.toString(e),Xi.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),s2="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function rU(e){return e.matches(s2)?e:e.querySelector(s2)}const nU={display:"none"};function sU(e){let{id:t,value:r}=e;return we.createElement("div",{id:t,style:nU},r)}function aU(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return we.createElement("div",{id:t,style:s,role:"status","aria-live":n,"aria-atomic":!0},r)}function iU(){const[e,t]=g.useState("");return{announce:g.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const aA=g.createContext(null);function oU(e){const t=g.useContext(aA);g.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function lU(){const[e]=g.useState(()=>new Set),t=g.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[g.useCallback(n=>{let{type:s,event:a}=n;e.forEach(o=>{var l;return(l=o[s])==null?void 0:l.call(o,a)})},[e]),t]}const cU={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},uU={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function dU(e){let{announcements:t=uU,container:r,hiddenTextDescribedById:n,screenReaderInstructions:s=cU}=e;const{announce:a,announcement:o}=iU(),l=af("DndLiveRegion"),[c,u]=g.useState(!1);if(g.useEffect(()=>{u(!0)},[]),oU(g.useMemo(()=>({onDragStart(f){let{active:h}=f;a(t.onDragStart({active:h}))},onDragMove(f){let{active:h,over:p}=f;t.onDragMove&&a(t.onDragMove({active:h,over:p}))},onDragOver(f){let{active:h,over:p}=f;a(t.onDragOver({active:h,over:p}))},onDragEnd(f){let{active:h,over:p}=f;a(t.onDragEnd({active:h,over:p}))},onDragCancel(f){let{active:h,over:p}=f;a(t.onDragCancel({active:h,over:p}))}}),[a,t])),!c)return null;const d=we.createElement(we.Fragment,null,we.createElement(sU,{id:n,value:s.draggable}),we.createElement(aU,{id:l,announcement:o}));return r?Ns.createPortal(d,r):d}var Mr;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Mr||(Mr={}));function L0(){}function Cc(e,t){return g.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Dy(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return g.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const ia=Object.freeze({x:0,y:0});function iA(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function oA(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function fU(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function a2(e){let{left:t,top:r,height:n,width:s}=e;return[{x:t,y:r},{x:t+s,y:r},{x:t,y:r+n},{x:t+s,y:r+n}]}function lA(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function i2(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const M0=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const s=i2(t,t.left,t.top),a=[];for(const o of n){const{id:l}=o,c=r.get(l);if(c){const u=iA(i2(c),s);a.push({id:l,data:{droppableContainer:o,value:u}})}}return a.sort(oA)},hU=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const s=a2(t),a=[];for(const o of n){const{id:l}=o,c=r.get(l);if(c){const u=a2(c),d=s.reduce((h,p,x)=>h+iA(u[x],p),0),f=Number((d/4).toFixed(4));a.push({id:l,data:{droppableContainer:o,value:f}})}}return a.sort(oA)};function pU(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=s-n,l=a-r;if(n<s&&r<a){const c=t.width*t.height,u=e.width*e.height,d=o*l,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const mU=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const s=[];for(const a of n){const{id:o}=a,l=r.get(o);if(l){const c=pU(l,t);c>0&&s.push({id:o,data:{droppableContainer:a,value:c}})}}return s.sort(fU)};function gU(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function cA(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ia}function vU(e){return function(r){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return s.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...r})}}const xU=vU(1);function yU(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function wU(e,t,r){const n=yU(t);if(!n)return e;const{scaleX:s,scaleY:a,x:o,y:l}=n,c=e.left-o-(1-s)*parseFloat(r),u=e.top-l-(1-a)*parseFloat(r.slice(r.indexOf(" ")+1)),d=s?e.width/s:e.width,f=a?e.height/a:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const _U={ignoreTransform:!1};function Xc(e,t){t===void 0&&(t=_U);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=Jn(e).getComputedStyle(e);u&&(r=wU(r,u,d))}const{top:n,left:s,width:a,height:o,bottom:l,right:c}=r;return{top:n,left:s,width:a,height:o,bottom:l,right:c}}function o2(e){return Xc(e,{ignoreTransform:!0})}function bU(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function SU(e,t){return t===void 0&&(t=Jn(e).getComputedStyle(e)),t.position==="fixed"}function EU(e,t){t===void 0&&(t=Jn(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const a=t[s];return typeof a=="string"?r.test(a):!1})}function rm(e,t){const r=[];function n(s){if(t!=null&&r.length>=t||!s)return r;if(Oy(s)&&s.scrollingElement!=null&&!r.includes(s.scrollingElement))return r.push(s.scrollingElement),r;if(!nf(s)||nA(s)||r.includes(s))return r;const a=Jn(e).getComputedStyle(s);return s!==e&&EU(s,a)&&r.push(s),SU(s,a)?r:n(s.parentNode)}return e?n(e):r}function uA(e){const[t]=rm(e,1);return t??null}function xg(e){return!tm||!e?null:qc(e)?e:Ry(e)?Oy(e)||e===Kc(e).scrollingElement?window:nf(e)?e:null:null}function dA(e){return qc(e)?e.scrollX:e.scrollLeft}function fA(e){return qc(e)?e.scrollY:e.scrollTop}function _x(e){return{x:dA(e),y:fA(e)}}var zr;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(zr||(zr={}));function hA(e){return!tm||!e?!1:e===document.scrollingElement}function pA(e){const t={x:0,y:0},r=hA(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},s=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,o=e.scrollTop>=n.y,l=e.scrollLeft>=n.x;return{isTop:s,isLeft:a,isBottom:o,isRight:l,maxScroll:n,minScroll:t}}const NU={x:.2,y:.2};function jU(e,t,r,n,s){let{top:a,left:o,right:l,bottom:c}=r;n===void 0&&(n=10),s===void 0&&(s=NU);const{isTop:u,isBottom:d,isLeft:f,isRight:h}=pA(e),p={x:0,y:0},x={x:0,y:0},m={height:t.height*s.y,width:t.width*s.x};return!u&&a<=t.top+m.height?(p.y=zr.Backward,x.y=n*Math.abs((t.top+m.height-a)/m.height)):!d&&c>=t.bottom-m.height&&(p.y=zr.Forward,x.y=n*Math.abs((t.bottom-m.height-c)/m.height)),!h&&l>=t.right-m.width?(p.x=zr.Forward,x.x=n*Math.abs((t.right-m.width-l)/m.width)):!f&&o<=t.left+m.width&&(p.x=zr.Backward,x.x=n*Math.abs((t.left+m.width-o)/m.width)),{direction:p,speed:x}}function CU(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:t,left:r,right:n,bottom:s}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:s,width:e.clientWidth,height:e.clientHeight}}function mA(e){return e.reduce((t,r)=>Gl(t,_x(r)),ia)}function TU(e){return e.reduce((t,r)=>t+dA(r),0)}function kU(e){return e.reduce((t,r)=>t+fA(r),0)}function AU(e,t){if(t===void 0&&(t=Xc),!e)return;const{top:r,left:n,bottom:s,right:a}=t(e);uA(e)&&(s<=0||a<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const RU=[["x",["left","right"],TU],["y",["top","bottom"],kU]];class Fy{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=rm(r),s=mA(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,o,l]of RU)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=l(n),d=s[a]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Mu{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var s;(s=this.target)==null||s.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function OU(e){const{EventTarget:t}=Jn(e);return e instanceof t?e:Kc(e)}function yg(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var ws;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ws||(ws={}));function l2(e){e.preventDefault()}function PU(e){e.stopPropagation()}var vt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(vt||(vt={}));const gA={start:[vt.Space,vt.Enter],cancel:[vt.Esc],end:[vt.Space,vt.Enter,vt.Tab]},IU=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case vt.Right:return{...r,x:r.x+25};case vt.Left:return{...r,x:r.x-25};case vt.Down:return{...r,y:r.y+25};case vt.Up:return{...r,y:r.y-25}}};class of{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new Mu(Kc(r)),this.windowListeners=new Mu(Jn(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ws.Resize,this.handleCancel),this.windowListeners.add(ws.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ws.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&AU(n),r(ia)}handleKeyDown(t){if(Iy(t)){const{active:r,context:n,options:s}=this.props,{keyboardCodes:a=gA,coordinateGetter:o=IU,scrollBehavior:l="smooth"}=s,{code:c}=t;if(a.end.includes(c)){this.handleEnd(t);return}if(a.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=n.current,d=u?{x:u.left,y:u.top}:ia;this.referenceCoordinates||(this.referenceCoordinates=d);const f=o(t,{active:r,context:n.current,currentCoordinates:d});if(f){const h=Cd(f,d),p={x:0,y:0},{scrollableAncestors:x}=n.current;for(const m of x){const v=t.code,{isTop:_,isRight:w,isLeft:y,isBottom:S,maxScroll:E,minScroll:C}=pA(m),b=CU(m),j={x:Math.min(v===vt.Right?b.right-b.width/2:b.right,Math.max(v===vt.Right?b.left:b.left+b.width/2,f.x)),y:Math.min(v===vt.Down?b.bottom-b.height/2:b.bottom,Math.max(v===vt.Down?b.top:b.top+b.height/2,f.y))},N=v===vt.Right&&!w||v===vt.Left&&!y,R=v===vt.Down&&!S||v===vt.Up&&!_;if(N&&j.x!==f.x){const k=m.scrollLeft+h.x,O=v===vt.Right&&k<=E.x||v===vt.Left&&k>=C.x;if(O&&!h.y){m.scrollTo({left:k,behavior:l});return}O?p.x=m.scrollLeft-k:p.x=v===vt.Right?m.scrollLeft-E.x:m.scrollLeft-C.x,p.x&&m.scrollBy({left:-p.x,behavior:l});break}else if(R&&j.y!==f.y){const k=m.scrollTop+h.y,O=v===vt.Down&&k<=E.y||v===vt.Up&&k>=C.y;if(O&&!h.x){m.scrollTo({top:k,behavior:l});return}O?p.y=m.scrollTop-k:p.y=v===vt.Down?m.scrollTop-E.y:m.scrollTop-C.y,p.y&&m.scrollBy({top:-p.y,behavior:l});break}}this.handleMove(t,Gl(Cd(f,this.referenceCoordinates),p))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}of.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=gA,onActivation:s}=t,{active:a}=r;const{code:o}=e.nativeEvent;if(n.start.includes(o)){const l=a.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function c2(e){return!!(e&&"distance"in e)}function u2(e){return!!(e&&"delay"in e)}class Ly{constructor(t,r,n){var s;n===void 0&&(n=OU(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:a}=t,{target:o}=a;this.props=t,this.events=r,this.document=Kc(o),this.documentListeners=new Mu(this.document),this.listeners=new Mu(n),this.windowListeners=new Mu(Jn(o)),this.initialCoordinates=(s=wx(a))!=null?s:ia,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ws.Resize,this.handleCancel),this.windowListeners.add(ws.DragStart,l2),this.windowListeners.add(ws.VisibilityChange,this.handleCancel),this.windowListeners.add(ws.ContextMenu,l2),this.documentListeners.add(ws.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(u2(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(c2(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:s}=this.props;s(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(ws.Click,PU,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ws.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:s,props:a}=this,{onMove:o,options:{activationConstraint:l}}=a;if(!s)return;const c=(r=wx(t))!=null?r:ia,u=Cd(s,c);if(!n&&l){if(c2(l)){if(l.tolerance!=null&&yg(u,l.tolerance))return this.handleCancel();if(yg(u,l.distance))return this.handleStart()}if(u2(l)&&yg(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===vt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const DU={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class lf extends Ly{constructor(t){const{event:r}=t,n=Kc(r.target);super(t,DU,n)}}lf.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const FU={move:{name:"mousemove"},end:{name:"mouseup"}};var bx;(function(e){e[e.RightClick=2]="RightClick"})(bx||(bx={}));class LU extends Ly{constructor(t){super(t,FU,Kc(t.event.target))}}LU.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===bx.RightClick?!1:(n==null||n({event:r}),!0)}}];const wg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class MU extends Ly{constructor(t){super(t,wg)}static setup(){return window.addEventListener(wg.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(wg.move.name,t)};function t(){}}}MU.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:s}=r;return s.length>1?!1:(n==null||n({event:r}),!0)}}];var Bu;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Bu||(Bu={}));var B0;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(B0||(B0={}));function BU(e){let{acceleration:t,activator:r=Bu.Pointer,canScroll:n,draggingRect:s,enabled:a,interval:o=5,order:l=B0.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:h}=e;const p=UU({delta:f,disabled:!a}),[x,m]=Z7(),v=g.useRef({x:0,y:0}),_=g.useRef({x:0,y:0}),w=g.useMemo(()=>{switch(r){case Bu.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Bu.DraggableRect:return s}},[r,s,c]),y=g.useRef(null),S=g.useCallback(()=>{const C=y.current;if(!C)return;const b=v.current.x*_.current.x,j=v.current.y*_.current.y;C.scrollBy(b,j)},[]),E=g.useMemo(()=>l===B0.TreeOrder?[...u].reverse():u,[l,u]);g.useEffect(()=>{if(!a||!u.length||!w){m();return}for(const C of E){if((n==null?void 0:n(C))===!1)continue;const b=u.indexOf(C),j=d[b];if(!j)continue;const{direction:N,speed:R}=jU(C,j,w,t,h);for(const k of["x","y"])p[k][N[k]]||(R[k]=0,N[k]=0);if(R.x>0||R.y>0){m(),y.current=C,x(S,o),v.current=R,_.current=N;return}}v.current={x:0,y:0},_.current={x:0,y:0},m()},[t,S,n,m,a,o,JSON.stringify(w),JSON.stringify(p),x,u,E,d,JSON.stringify(h)])}const $U={x:{[zr.Backward]:!1,[zr.Forward]:!1},y:{[zr.Backward]:!1,[zr.Forward]:!1}};function UU(e){let{delta:t,disabled:r}=e;const n=yx(t);return sf(s=>{if(r||!n||!s)return $U;const a={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[zr.Backward]:s.x[zr.Backward]||a.x===-1,[zr.Forward]:s.x[zr.Forward]||a.x===1},y:{[zr.Backward]:s.y[zr.Backward]||a.y===-1,[zr.Forward]:s.y[zr.Forward]||a.y===1}}},[r,t,n])}function zU(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return sf(s=>{var a;return t==null?null:(a=n??s)!=null?a:null},[n,t])}function VU(e,t){return g.useMemo(()=>e.reduce((r,n)=>{const{sensor:s}=n,a=s.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,n)}));return[...r,...a]},[]),[e,t])}var Td;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Td||(Td={}));var Sx;(function(e){e.Optimized="optimized"})(Sx||(Sx={}));const d2=new Map;function WU(e,t){let{dragging:r,dependencies:n,config:s}=t;const[a,o]=g.useState(null),{frequency:l,measure:c,strategy:u}=s,d=g.useRef(e),f=v(),h=jd(f),p=g.useCallback(function(_){_===void 0&&(_=[]),!h.current&&o(w=>w===null?_:w.concat(_.filter(y=>!w.includes(y))))},[h]),x=g.useRef(null),m=sf(_=>{if(f&&!r)return d2;if(!_||_===d2||d.current!==e||a!=null){const w=new Map;for(let y of e){if(!y)continue;if(a&&a.length>0&&!a.includes(y.id)&&y.rect.current){w.set(y.id,y.rect.current);continue}const S=y.node.current,E=S?new Fy(c(S),S):null;y.rect.current=E,E&&w.set(y.id,E)}return w}return _},[e,a,r,f,c]);return g.useEffect(()=>{d.current=e},[e]),g.useEffect(()=>{f||p()},[r,f]),g.useEffect(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),g.useEffect(()=>{f||typeof l!="number"||x.current!==null||(x.current=setTimeout(()=>{p(),x.current=null},l))},[l,f,p,...n]),{droppableRects:m,measureDroppableContainers:p,measuringScheduled:a!=null};function v(){switch(u){case Td.Always:return!1;case Td.BeforeDragging:return r;default:return!r}}}function vA(e,t){return sf(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function HU(e,t){return vA(e,t)}function GU(e){let{callback:t,disabled:r}=e;const n=Py(t),s=g.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(n)},[n,r]);return g.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function nm(e){let{callback:t,disabled:r}=e;const n=Py(t),s=g.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(n)},[r]);return g.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function qU(e){return new Fy(Xc(e),e)}function f2(e,t,r){t===void 0&&(t=qU);const[n,s]=g.useState(null);function a(){s(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??r)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const o=GU({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){a();break}}}}),l=nm({callback:a});return Na(()=>{a(),e?(l==null||l.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[e]),n}function KU(e){const t=vA(e);return cA(e,t)}const h2=[];function XU(e){const t=g.useRef(e),r=sf(n=>e?n&&n!==h2&&e&&t.current&&e.parentNode===t.current.parentNode?n:rm(e):h2,[e]);return g.useEffect(()=>{t.current=e},[e]),r}function YU(e){const[t,r]=g.useState(null),n=g.useRef(e),s=g.useCallback(a=>{const o=xg(a.target);o&&r(l=>l?(l.set(o,_x(o)),new Map(l)):null)},[]);return g.useEffect(()=>{const a=n.current;if(e!==a){o(a);const l=e.map(c=>{const u=xg(c);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,_x(u)]):null}).filter(c=>c!=null);r(l.length?new Map(l):null),n.current=e}return()=>{o(e),o(a)};function o(l){l.forEach(c=>{const u=xg(c);u==null||u.removeEventListener("scroll",s)})}},[s,e]),g.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,o)=>Gl(a,o),ia):mA(e):ia,[e,t])}function p2(e,t){t===void 0&&(t=[]);const r=g.useRef(null);return g.useEffect(()=>{r.current=null},t),g.useEffect(()=>{const n=e!==ia;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?Cd(e,r.current):ia}function JU(e){g.useEffect(()=>{if(!tm)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function QU(e,t){return g.useMemo(()=>e.reduce((r,n)=>{let{eventName:s,handler:a}=n;return r[s]=o=>{a(o,t)},r},{}),[e,t])}function xA(e){return g.useMemo(()=>e?bU(e):null,[e])}const m2=[];function ZU(e,t){t===void 0&&(t=Xc);const[r]=e,n=xA(r?Jn(r):null),[s,a]=g.useState(m2);function o(){a(()=>e.length?e.map(c=>hA(c)?n:new Fy(t(c),c)):m2)}const l=nm({callback:o});return Na(()=>{l==null||l.disconnect(),o(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),s}function ez(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return nf(t)?t:e}function tz(e){let{measure:t}=e;const[r,n]=g.useState(null),s=g.useCallback(u=>{for(const{target:d}of u)if(nf(d)){n(f=>{const h=t(d);return f?{...f,width:h.width,height:h.height}:h});break}},[t]),a=nm({callback:s}),o=g.useCallback(u=>{const d=ez(u);a==null||a.disconnect(),d&&(a==null||a.observe(d)),n(d?t(d):null)},[t,a]),[l,c]=F0(o);return g.useMemo(()=>({nodeRef:l,rect:r,setRef:c}),[r,l,c])}const rz=[{sensor:lf,options:{}},{sensor:of,options:{}}],nz={current:{}},Dh={draggable:{measure:o2},droppable:{measure:o2,strategy:Td.WhileDragging,frequency:Sx.Optimized},dragOverlay:{measure:Xc}};class $u extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const sz={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new $u,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:L0},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Dh,measureDroppableContainers:L0,windowRect:null,measuringScheduled:!1},az={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:L0,draggableNodes:new Map,over:null,measureDroppableContainers:L0},sm=g.createContext(az),yA=g.createContext(sz);function iz(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new $u}}}function oz(e,t){switch(t.type){case Mr.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Mr.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Mr.DragEnd:case Mr.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Mr.RegisterDroppable:{const{element:r}=t,{id:n}=r,s=new $u(e.droppable.containers);return s.set(n,r),{...e,droppable:{...e.droppable,containers:s}}}case Mr.SetDroppableDisabled:{const{id:r,key:n,disabled:s}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;const o=new $u(e.droppable.containers);return o.set(r,{...a,disabled:s}),{...e,droppable:{...e.droppable,containers:o}}}case Mr.UnregisterDroppable:{const{id:r,key:n}=t,s=e.droppable.containers.get(r);if(!s||n!==s.key)return e;const a=new $u(e.droppable.containers);return a.delete(r),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function lz(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:s}=g.useContext(sm),a=yx(n),o=yx(r==null?void 0:r.id);return g.useEffect(()=>{if(!t&&!n&&a&&o!=null){if(!Iy(a)||document.activeElement===a.target)return;const l=s.get(o);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=rU(d);if(f){f.focus();break}}})}},[n,t,s,o,a]),null}function cz(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((s,a)=>a({transform:s,...n}),r):r}function uz(e){return g.useMemo(()=>({draggable:{...Dh.draggable,...e==null?void 0:e.draggable},droppable:{...Dh.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Dh.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function dz(e){let{activeNode:t,measure:r,initialRect:n,config:s=!0}=e;const a=g.useRef(!1),{x:o,y:l}=typeof s=="boolean"?{x:s,y:s}:s;Na(()=>{if(!o&&!l||!t){a.current=!1;return}if(a.current||!n)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=r(u),f=cA(d,n);if(o||(f.x=0),l||(f.y=0),a.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=uA(u);h&&h.scrollBy({top:f.y,left:f.x})}},[t,o,l,n,r])}const wA=g.createContext({...ia,scaleX:1,scaleY:1});var fi;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(fi||(fi={}));const $0=g.memo(function(t){var r,n,s,a;let{id:o,accessibility:l,autoScroll:c=!0,children:u,sensors:d=rz,collisionDetection:f=mU,measuring:h,modifiers:p,...x}=t;const m=g.useReducer(oz,void 0,iz),[v,_]=m,[w,y]=lU(),[S,E]=g.useState(fi.Uninitialized),C=S===fi.Initialized,{draggable:{active:b,nodes:j,translate:N},droppable:{containers:R}}=v,k=b!=null?j.get(b):null,O=g.useRef({initial:null,translated:null}),L=g.useMemo(()=>{var rt;return b!=null?{id:b,data:(rt=k==null?void 0:k.data)!=null?rt:nz,rect:O}:null},[b,k]),K=g.useRef(null),[M,q]=g.useState(null),[ie,X]=g.useState(null),J=jd(x,Object.values(x)),Y=af("DndDescribedBy",o),ge=g.useMemo(()=>R.getEnabled(),[R]),P=uz(h),{droppableRects:G,measureDroppableContainers:B,measuringScheduled:W}=WU(ge,{dragging:C,dependencies:[N.x,N.y],config:P.droppable}),ee=zU(j,b),U=g.useMemo(()=>ie?wx(ie):null,[ie]),he=st(),ce=HU(ee,P.draggable.measure);dz({activeNode:b!=null?j.get(b):null,config:he.layoutShiftCompensation,initialRect:ce,measure:P.draggable.measure});const A=f2(ee,P.draggable.measure,ce),H=f2(ee?ee.parentElement:null),ne=g.useRef({activatorEvent:null,active:null,activeNode:ee,collisionRect:null,collisions:null,droppableRects:G,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:R,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Re=R.getNodeFor((r=ne.current.over)==null?void 0:r.id),Z=tz({measure:P.dragOverlay.measure}),_e=(n=Z.nodeRef.current)!=null?n:ee,ue=C?(s=Z.rect)!=null?s:A:null,te=!!(Z.nodeRef.current&&Z.rect),Xe=KU(te?null:A),We=xA(_e?Jn(_e):null),Je=XU(C?Re??ee:null),ut=ZU(Je),Lt=cz(p,{transform:{x:N.x-Xe.x,y:N.y-Xe.y,scaleX:1,scaleY:1},activatorEvent:ie,active:L,activeNodeRect:A,containerNodeRect:H,draggingNodeRect:ue,over:ne.current.over,overlayNodeRect:Z.rect,scrollableAncestors:Je,scrollableAncestorRects:ut,windowRect:We}),Rt=U?Gl(U,N):null,Bt=YU(Je),Kr=p2(Bt),Ut=p2(Bt,[A]),er=Gl(Lt,Kr),tr=ue?xU(ue,Lt):null,$r=L&&tr?f({active:L,collisionRect:tr,droppableRects:G,droppableContainers:ge,pointerCoordinates:Rt}):null,mr=lA($r,"id"),[rr,Xr]=g.useState(null),Yr=te?Lt:Gl(Lt,Ut),zt=gU(Yr,(a=rr==null?void 0:rr.rect)!=null?a:null,A),Jr=g.useRef(null),Dr=g.useCallback((rt,ht)=>{let{sensor:Nt,options:Le}=ht;if(K.current==null)return;const Qe=j.get(K.current);if(!Qe)return;const nt=rt.nativeEvent,$t=new Nt({active:K.current,activeNode:Qe,event:nt,options:Le,context:ne,onAbort(jt){if(!j.get(jt))return;const{onDragAbort:Te}=J.current,et={id:jt};Te==null||Te(et),w({type:"onDragAbort",event:et})},onPending(jt,Q,Te,et){if(!j.get(jt))return;const{onDragPending:Qn}=J.current,T={id:jt,constraint:Q,initialCoordinates:Te,offset:et};Qn==null||Qn(T),w({type:"onDragPending",event:T})},onStart(jt){const Q=K.current;if(Q==null)return;const Te=j.get(Q);if(!Te)return;const{onDragStart:et}=J.current,br={activatorEvent:nt,active:{id:Q,data:Te.data,rect:O}};Ns.unstable_batchedUpdates(()=>{et==null||et(br),E(fi.Initializing),_({type:Mr.DragStart,initialCoordinates:jt,active:Q}),w({type:"onDragStart",event:br}),q(Jr.current),X(nt)})},onMove(jt){_({type:Mr.DragMove,coordinates:jt})},onEnd:ir(Mr.DragEnd),onCancel:ir(Mr.DragCancel)});Jr.current=$t;function ir(jt){return async function(){const{active:Te,collisions:et,over:br,scrollAdjustedTranslate:Qn}=ne.current;let T=null;if(Te&&Qn){const{cancelDrop:F}=J.current;T={activatorEvent:nt,active:Te,collisions:et,delta:Qn,over:br},jt===Mr.DragEnd&&typeof F=="function"&&await Promise.resolve(F(T))&&(jt=Mr.DragCancel)}K.current=null,Ns.unstable_batchedUpdates(()=>{_({type:jt}),E(fi.Uninitialized),Xr(null),q(null),X(null),Jr.current=null;const F=jt===Mr.DragEnd?"onDragEnd":"onDragCancel";if(T){const I=J.current[F];I==null||I(T),w({type:F,event:T})}})}}},[j]),de=g.useCallback((rt,ht)=>(Nt,Le)=>{const Qe=Nt.nativeEvent,nt=j.get(Le);if(K.current!==null||!nt||Qe.dndKit||Qe.defaultPrevented)return;const $t={active:nt};rt(Nt,ht.options,$t)===!0&&(Qe.dndKit={capturedBy:ht.sensor},K.current=Le,Dr(Nt,ht))},[j,Dr]),Pe=VU(d,de);JU(d),Na(()=>{A&&S===fi.Initializing&&E(fi.Initialized)},[A,S]),g.useEffect(()=>{const{onDragMove:rt}=J.current,{active:ht,activatorEvent:Nt,collisions:Le,over:Qe}=ne.current;if(!ht||!Nt)return;const nt={active:ht,activatorEvent:Nt,collisions:Le,delta:{x:er.x,y:er.y},over:Qe};Ns.unstable_batchedUpdates(()=>{rt==null||rt(nt),w({type:"onDragMove",event:nt})})},[er.x,er.y]),g.useEffect(()=>{const{active:rt,activatorEvent:ht,collisions:Nt,droppableContainers:Le,scrollAdjustedTranslate:Qe}=ne.current;if(!rt||K.current==null||!ht||!Qe)return;const{onDragOver:nt}=J.current,$t=Le.get(mr),ir=$t&&$t.rect.current?{id:$t.id,rect:$t.rect.current,data:$t.data,disabled:$t.disabled}:null,jt={active:rt,activatorEvent:ht,collisions:Nt,delta:{x:Qe.x,y:Qe.y},over:ir};Ns.unstable_batchedUpdates(()=>{Xr(ir),nt==null||nt(jt),w({type:"onDragOver",event:jt})})},[mr]),Na(()=>{ne.current={activatorEvent:ie,active:L,activeNode:ee,collisionRect:tr,collisions:$r,droppableRects:G,draggableNodes:j,draggingNode:_e,draggingNodeRect:ue,droppableContainers:R,over:rr,scrollableAncestors:Je,scrollAdjustedTranslate:er},O.current={initial:ue,translated:tr}},[L,ee,$r,tr,j,_e,ue,G,R,rr,Je,er]),BU({...he,delta:N,draggingRect:tr,pointerCoordinates:Rt,scrollableAncestors:Je,scrollableAncestorRects:ut});const De=g.useMemo(()=>({active:L,activeNode:ee,activeNodeRect:A,activatorEvent:ie,collisions:$r,containerNodeRect:H,dragOverlay:Z,draggableNodes:j,droppableContainers:R,droppableRects:G,over:rr,measureDroppableContainers:B,scrollableAncestors:Je,scrollableAncestorRects:ut,measuringConfiguration:P,measuringScheduled:W,windowRect:We}),[L,ee,A,ie,$r,H,Z,j,R,G,rr,B,Je,ut,P,W,We]),Ye=g.useMemo(()=>({activatorEvent:ie,activators:Pe,active:L,activeNodeRect:A,ariaDescribedById:{draggable:Y},dispatch:_,draggableNodes:j,over:rr,measureDroppableContainers:B}),[ie,Pe,L,A,_,Y,j,rr,B]);return we.createElement(aA.Provider,{value:y},we.createElement(sm.Provider,{value:Ye},we.createElement(yA.Provider,{value:De},we.createElement(wA.Provider,{value:zt},u)),we.createElement(lz,{disabled:(l==null?void 0:l.restoreFocus)===!1})),we.createElement(dU,{...l,hiddenTextDescribedById:Y}));function st(){const rt=(M==null?void 0:M.autoScrollEnabled)===!1,ht=typeof c=="object"?c.enabled===!1:c===!1,Nt=C&&!rt&&!ht;return typeof c=="object"?{...c,enabled:Nt}:{enabled:Nt}}}),fz=g.createContext(null),g2="button",hz="Draggable";function pz(e){let{id:t,data:r,disabled:n=!1,attributes:s}=e;const a=af(hz),{activators:o,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:h}=g.useContext(sm),{role:p=g2,roleDescription:x="draggable",tabIndex:m=0}=s??{},v=(c==null?void 0:c.id)===t,_=g.useContext(v?wA:fz),[w,y]=F0(),[S,E]=F0(),C=QU(o,t),b=jd(r);Na(()=>(f.set(t,{id:t,key:a,node:w,activatorNode:S,data:b}),()=>{const N=f.get(t);N&&N.key===a&&f.delete(t)}),[f,t]);const j=g.useMemo(()=>({role:p,tabIndex:m,"aria-disabled":n,"aria-pressed":v&&p===g2?!0:void 0,"aria-roledescription":x,"aria-describedby":d.draggable}),[n,p,m,v,x,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:j,isDragging:v,listeners:n?void 0:C,node:w,over:h,setNodeRef:y,setActivatorNodeRef:E,transform:_}}function mz(){return g.useContext(yA)}const gz="Droppable",vz={timeout:25};function xz(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:s}=e;const a=af(gz),{active:o,dispatch:l,over:c,measureDroppableContainers:u}=g.useContext(sm),d=g.useRef({disabled:r}),f=g.useRef(!1),h=g.useRef(null),p=g.useRef(null),{disabled:x,updateMeasurementsFor:m,timeout:v}={...vz,...s},_=jd(m??n),w=g.useCallback(()=>{if(!f.current){f.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{u(Array.isArray(_.current)?_.current:[_.current]),p.current=null},v)},[v]),y=nm({callback:w,disabled:x||!o}),S=g.useCallback((j,N)=>{y&&(N&&(y.unobserve(N),f.current=!1),j&&y.observe(j))},[y]),[E,C]=F0(S),b=jd(t);return g.useEffect(()=>{!y||!E.current||(y.disconnect(),f.current=!1,y.observe(E.current))},[E,y]),g.useEffect(()=>(l({type:Mr.RegisterDroppable,element:{id:n,key:a,disabled:r,node:E,rect:h,data:b}}),()=>l({type:Mr.UnregisterDroppable,key:a,id:n})),[n]),g.useEffect(()=>{r!==d.current.disabled&&(l({type:Mr.SetDroppableDisabled,id:n,key:a,disabled:r}),d.current.disabled=r)},[n,a,r,l]),{active:o,rect:h,isOver:(c==null?void 0:c.id)===n,node:E,over:c,setNodeRef:C}}function Tc(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function yz(e,t){return e.reduce((r,n,s)=>{const a=t.get(n);return a&&(r[s]=a),r},Array(e.length))}function rh(e){return e!==null&&e>=0}function wz(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function _z(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const _A=e=>{let{rects:t,activeIndex:r,overIndex:n,index:s}=e;const a=Tc(t,n,r),o=t[s],l=a[s];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},nh={scaleX:1,scaleY:1},U0=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:s,rects:a,overIndex:o}=e;const l=(t=a[r])!=null?t:n;if(!l)return null;if(s===r){const u=a[o];return u?{x:0,y:r<o?u.top+u.height-(l.top+l.height):u.top-l.top,...nh}:null}const c=bz(a,s,r);return s>r&&s<=o?{x:0,y:-l.height-c,...nh}:s<r&&s>=o?{x:0,y:l.height+c,...nh}:{x:0,y:0,...nh}};function bz(e,t,r){const n=e[t],s=e[t-1],a=e[t+1];return n?r<t?s?n.top-(s.top+s.height):a?a.top-(n.top+n.height):0:a?a.top-(n.top+n.height):s?n.top-(s.top+s.height):0:0}const bA="Sortable",SA=we.createContext({activeIndex:-1,containerId:bA,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:_A,disabled:{draggable:!1,droppable:!1}});function z0(e){let{children:t,id:r,items:n,strategy:s=_A,disabled:a=!1}=e;const{active:o,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=mz(),f=af(bA,r),h=l.rect!==null,p=g.useMemo(()=>n.map(C=>typeof C=="object"&&"id"in C?C.id:C),[n]),x=o!=null,m=o?p.indexOf(o.id):-1,v=u?p.indexOf(u.id):-1,_=g.useRef(p),w=!wz(p,_.current),y=v!==-1&&m===-1||w,S=_z(a);Na(()=>{w&&x&&d(p)},[w,p,x,d]),g.useEffect(()=>{_.current=p},[p]);const E=g.useMemo(()=>({activeIndex:m,containerId:f,disabled:S,disableTransforms:y,items:p,overIndex:v,useDragOverlay:h,sortedRects:yz(p,c),strategy:s}),[m,f,S.draggable,S.droppable,y,p,v,c,h,s]);return we.createElement(SA.Provider,{value:E},t)}const Sz=e=>{let{id:t,items:r,activeIndex:n,overIndex:s}=e;return Tc(r,n,s).indexOf(t)},Ez=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:s,items:a,newIndex:o,previousItems:l,previousContainerId:c,transition:u}=e;return!u||!n||l!==a&&s===o?!1:r?!0:o!==s&&t===c},Nz={duration:200,easing:"ease"},EA="transform",jz=Xi.Transition.toString({property:EA,duration:0,easing:"linear"}),Cz={roleDescription:"sortable"};function Tz(e){let{disabled:t,index:r,node:n,rect:s}=e;const[a,o]=g.useState(null),l=g.useRef(r);return Na(()=>{if(!t&&r!==l.current&&n.current){const c=s.current;if(c){const u=Xc(n.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&o(d)}}r!==l.current&&(l.current=r)},[t,r,n,s]),g.useEffect(()=>{a&&o(null)},[a]),a}function am(e){let{animateLayoutChanges:t=Ez,attributes:r,disabled:n,data:s,getNewIndex:a=Sz,id:o,strategy:l,resizeObserverConfig:c,transition:u=Nz}=e;const{items:d,containerId:f,activeIndex:h,disabled:p,disableTransforms:x,sortedRects:m,overIndex:v,useDragOverlay:_,strategy:w}=g.useContext(SA),y=kz(n,p),S=d.indexOf(o),E=g.useMemo(()=>({sortable:{containerId:f,index:S,items:d},...s}),[f,s,S,d]),C=g.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:b,node:j,isOver:N,setNodeRef:R}=xz({id:o,data:E,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...c}}),{active:k,activatorEvent:O,activeNodeRect:L,attributes:K,setNodeRef:M,listeners:q,isDragging:ie,over:X,setActivatorNodeRef:J,transform:Y}=pz({id:o,data:E,attributes:{...Cz,...r},disabled:y.draggable}),ge=Q7(R,M),P=!!k,G=P&&!x&&rh(h)&&rh(v),B=!_&&ie,W=B&&G?Y:null,U=G?W??(l??w)({rects:m,activeNodeRect:L,activeIndex:h,overIndex:v,index:S}):null,he=rh(h)&&rh(v)?a({id:o,items:d,activeIndex:h,overIndex:v}):S,ce=k==null?void 0:k.id,A=g.useRef({activeId:ce,items:d,newIndex:he,containerId:f}),H=d!==A.current.items,ne=t({active:k,containerId:f,isDragging:ie,isSorting:P,id:o,index:S,items:d,newIndex:A.current.newIndex,previousItems:A.current.items,previousContainerId:A.current.containerId,transition:u,wasDragging:A.current.activeId!=null}),Re=Tz({disabled:!ne,index:S,node:j,rect:b});return g.useEffect(()=>{P&&A.current.newIndex!==he&&(A.current.newIndex=he),f!==A.current.containerId&&(A.current.containerId=f),d!==A.current.items&&(A.current.items=d)},[P,he,f,d]),g.useEffect(()=>{if(ce===A.current.activeId)return;if(ce!=null&&A.current.activeId==null){A.current.activeId=ce;return}const _e=setTimeout(()=>{A.current.activeId=ce},50);return()=>clearTimeout(_e)},[ce]),{active:k,activeIndex:h,attributes:K,data:E,rect:b,index:S,newIndex:he,items:d,isOver:N,isSorting:P,isDragging:ie,listeners:q,node:j,overIndex:v,over:X,setNodeRef:ge,setActivatorNodeRef:J,setDroppableNodeRef:R,setDraggableNodeRef:M,transform:Re??U,transition:Z()};function Z(){if(Re||H&&A.current.newIndex===S)return jz;if(!(B&&!Iy(O)||!u)&&(P||ne))return Xi.Transition.toString({...u,property:EA})}}function kz(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(n=e==null?void 0:e.droppable)!=null?n:t.droppable}}function V0(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Az=[vt.Down,vt.Right,vt.Up,vt.Left],My=(e,t)=>{let{context:{active:r,collisionRect:n,droppableRects:s,droppableContainers:a,over:o,scrollableAncestors:l}}=t;if(Az.includes(e.code)){if(e.preventDefault(),!r||!n)return;const c=[];a.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const h=s.get(f.id);if(h)switch(e.code){case vt.Down:n.top<h.top&&c.push(f);break;case vt.Up:n.top>h.top&&c.push(f);break;case vt.Left:n.left>h.left&&c.push(f);break;case vt.Right:n.left<h.left&&c.push(f);break}});const u=hU({active:r,collisionRect:n,droppableRects:s,droppableContainers:c,pointerCoordinates:null});let d=lA(u,"id");if(d===(o==null?void 0:o.id)&&u.length>1&&(d=u[1].id),d!=null){const f=a.get(r.id),h=a.get(d),p=h?s.get(h.id):null,x=h==null?void 0:h.node.current;if(x&&p&&f&&h){const v=rm(x).some((C,b)=>l[b]!==C),_=NA(f,h),w=Rz(f,h),y=v||!_?{x:0,y:0}:{x:w?n.width-p.width:0,y:w?n.height-p.height:0},S={x:p.left,y:p.top};return y.x&&y.y?S:Cd(S,y)}}}};function NA(e,t){return!V0(e)||!V0(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Rz(e,t){return!V0(e)||!V0(t)||!NA(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const Oz=Up({name:Ys().min(2,"Nome deve ter pelo menos 2 caracteres").max(100)}),Pz=Up({question:Ys().min(5,"Pergunta deve ter pelo menos 5 caracteres").max(500),expected_answer:Ys().min(5,"Resposta deve ter pelo menos 5 caracteres").max(1e3)});function Iz({question:e,onEdit:t,onDelete:r}){const{attributes:n,listeners:s,setNodeRef:a,transform:o,transition:l,isDragging:c}=am({id:e.id}),u={transform:Xi.Transform.toString(o),transition:l,opacity:c?.5:1};return i.jsxs("div",{ref:a,style:u,className:`flex items-start gap-3 p-4 rounded-lg bg-accent/50 border border-border group ${e.is_active?"":"opacity-50"}`,children:[i.jsx("button",{...n,...s,className:"p-1 text-muted-foreground hover:text-foreground cursor-grab active:cursor-grabbing mt-1",children:i.jsx(bp,{className:"w-4 h-4"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium text-foreground text-sm",children:e.question}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2 whitespace-pre-line",children:e.expected_answer})]}),i.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsx(fe,{variant:"ghost",size:"icon",onClick:t,className:"h-8 w-8",children:i.jsx(Ka,{className:"w-4 h-4"})}),i.jsx(fe,{variant:"ghost",size:"icon",onClick:r,className:"h-8 w-8 hover:text-destructive",children:i.jsx(an,{className:"w-4 h-4"})})]})]})}function Dz({category:e,questions:t,onEditCategory:r,onDeleteCategory:n,onAddQuestion:s,onEditQuestion:a,onDeleteQuestion:o,onReorderQuestions:l,isExpanded:c,onToggle:u}){const{attributes:d,listeners:f,setNodeRef:h,transform:p,transition:x,isDragging:m}=am({id:e.id}),v={transform:Xi.Transform.toString(p),transition:x,opacity:m?.5:1},_=Dy(Cc(lf),Cc(of,{coordinateGetter:My})),w=y=>{const{active:S,over:E}=y;if(E&&S.id!==E.id){const C=t.findIndex(N=>N.id===S.id),b=t.findIndex(N=>N.id===E.id),j=Tc(t,C,b).map((N,R)=>({...N,order_index:R}));l(j)}};return i.jsx("div",{ref:h,style:v,className:`glass-panel rounded-xl overflow-hidden ${e.is_active?"":"opacity-50"}`,children:i.jsxs(hy,{open:c,onOpenChange:u,children:[i.jsxs("div",{className:"flex items-center gap-3 p-4 bg-accent/30",children:[i.jsx("button",{...d,...f,className:"p-1 text-muted-foreground hover:text-foreground cursor-grab active:cursor-grabbing",children:i.jsx(bp,{className:"w-5 h-5"})}),i.jsxs(py,{className:"flex items-center gap-2 flex-1",children:[c?i.jsx(qd,{className:"w-5 h-5 text-muted-foreground"}):i.jsx(o0,{className:"w-5 h-5 text-muted-foreground"}),i.jsx("h3",{className:"font-display font-bold text-lg text-foreground",children:e.name}),i.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",t.length," perguntas)"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(fe,{variant:"ghost",size:"sm",onClick:s,className:"gap-1",children:[i.jsx(qr,{className:"w-4 h-4"}),"Pergunta"]}),i.jsx(fe,{variant:"ghost",size:"icon",onClick:r,className:"h-8 w-8",children:i.jsx(Ka,{className:"w-4 h-4"})}),i.jsx(fe,{variant:"ghost",size:"icon",onClick:n,className:"h-8 w-8 hover:text-destructive",children:i.jsx(an,{className:"w-4 h-4"})})]})]}),i.jsx(my,{children:i.jsx("div",{className:"p-4 space-y-3",children:t.length===0?i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(l0,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{className:"text-sm",children:"Nenhuma pergunta nesta categoria"}),i.jsxs(fe,{variant:"ghost",size:"sm",onClick:s,className:"mt-2 gap-1",children:[i.jsx(qr,{className:"w-4 h-4"}),"Adicionar Pergunta"]})]}):i.jsx($0,{sensors:_,collisionDetection:M0,onDragEnd:w,children:i.jsx(z0,{items:t.map(y=>y.id),strategy:U0,children:t.map(y=>i.jsx(Iz,{question:y,onEdit:()=>a(y),onDelete:()=>o(y)},y.id))})})})})]})})}function Fz(){const{toast:e}=pr(),[t,r]=g.useState([]),[n,s]=g.useState([]),[a,o]=g.useState(!0),[l,c]=g.useState(!1),[u,d]=g.useState(new Set),[f,h]=g.useState(!1),[p,x]=g.useState(!1),[m,v]=g.useState(!1),[_,w]=g.useState(null),[y,S]=g.useState(null),[E,C]=g.useState(null),[b,j]=g.useState(null),[N,R]=g.useState(""),[k,O]=g.useState(""),[L,K]=g.useState(""),[M,q]=g.useState({}),ie=Dy(Cc(lf),Cc(of,{coordinateGetter:My}));g.useEffect(()=>{X()},[]);const X=async()=>{try{const[A,H]=await Promise.all([re.from("categories").select("*").order("order_index"),re.from("questions").select("*").order("order_index")]);A.data&&(r(A.data),A.data.length>0&&d(new Set([A.data[0].id]))),H.data&&s(H.data)}catch(A){console.error("Error fetching data:",A),e({title:"Erro",description:"No foi possvel carregar os dados.",variant:"destructive"})}finally{o(!1)}},J=A=>{d(H=>{const ne=new Set(H);return ne.has(A)?ne.delete(A):ne.add(A),ne})},Y=A=>n.filter(H=>H.category_id===A).sort((H,ne)=>H.order_index-ne.order_index),ge=A=>{w(A||null),R((A==null?void 0:A.name)||""),q({}),h(!0)},P=async()=>{try{Oz.parse({name:N}),q({})}catch(A){if(A instanceof fs){q({name:A.errors[0].message});return}}c(!0);try{if(_){const{error:A}=await re.from("categories").update({name:N}).eq("id",_.id);if(A)throw A;e({title:"Sucesso",description:"Categoria atualizada!"})}else{const A=Math.max(...t.map(ne=>ne.order_index),-1),{error:H}=await re.from("categories").insert({name:N,order_index:A+1});if(H)throw H;e({title:"Sucesso",description:"Categoria criada!"})}h(!1),X()}catch(A){console.error("Error saving category:",A),e({title:"Erro",description:"No foi possvel salvar a categoria.",variant:"destructive"})}finally{c(!1)}},G=(A,H)=>{C(A),S(H||null),O((H==null?void 0:H.question)||""),K((H==null?void 0:H.expected_answer)||""),q({}),x(!0)},B=async()=>{try{Pz.parse({question:k,expected_answer:L}),q({})}catch(A){if(A instanceof fs){const H={};A.errors.forEach(ne=>H[ne.path[0]]=ne.message),q(H);return}}c(!0);try{if(y){const{error:A}=await re.from("questions").update({question:k,expected_answer:L}).eq("id",y.id);if(A)throw A;e({title:"Sucesso",description:"Pergunta atualizada!"})}else{const A=Y(E),H=Math.max(...A.map(Re=>Re.order_index),-1),{error:ne}=await re.from("questions").insert({category_id:E,question:k,expected_answer:L,order_index:H+1});if(ne)throw ne;e({title:"Sucesso",description:"Pergunta criada!"})}x(!1),X()}catch(A){console.error("Error saving question:",A),e({title:"Erro",description:"No foi possvel salvar a pergunta.",variant:"destructive"})}finally{c(!1)}},W=(A,H)=>{j({type:A,item:H}),v(!0)},ee=async()=>{if(b){c(!0);try{if(b.type==="category"){const{error:A}=await re.from("categories").update({is_active:!1}).eq("id",b.item.id);if(A)throw A;await re.from("questions").update({is_active:!1}).eq("category_id",b.item.id),e({title:"Sucesso",description:"Categoria desativada!"})}else{const{error:A}=await re.from("questions").update({is_active:!1}).eq("id",b.item.id);if(A)throw A;e({title:"Sucesso",description:"Pergunta desativada!"})}v(!1),j(null),X()}catch(A){console.error("Error deleting:",A),e({title:"Erro",description:"No foi possvel excluir.",variant:"destructive"})}finally{c(!1)}}},U=async A=>{const{active:H,over:ne}=A;if(ne&&H.id!==ne.id){const Re=t.findIndex(ue=>ue.id===H.id),Z=t.findIndex(ue=>ue.id===ne.id),_e=Tc(t,Re,Z).map((ue,te)=>({...ue,order_index:te}));r(_e);try{for(const ue of _e)await re.from("categories").update({order_index:ue.order_index}).eq("id",ue.id);e({title:"Ordem salva",description:"Categorias reordenadas com sucesso!"})}catch(ue){console.error("Error saving order:",ue),e({title:"Erro",description:"No foi possvel salvar a ordem.",variant:"destructive"}),X()}}},he=async(A,H)=>{s(ne=>[...ne.filter(Z=>Z.category_id!==A),...H]);try{for(const ne of H)await re.from("questions").update({order_index:ne.order_index}).eq("id",ne.id);e({title:"Ordem salva",description:"Perguntas reordenadas!"})}catch(ne){console.error("Error saving question order:",ne),e({title:"Erro",description:"No foi possvel salvar a ordem.",variant:"destructive"}),X()}},ce=t.filter(A=>A.is_active);return a?i.jsx(On,{children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx(ot,{className:"w-8 h-8 animate-spin text-primary"})})}):i.jsxs(On,{children:[i.jsxs("div",{className:"space-y-6 animate-fade-in",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-display font-bold text-foreground flex items-center gap-3",children:[i.jsx(l0,{className:"w-8 h-8 text-primary"}),"Gerenciamento de Perguntas"]}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Organize categorias e perguntas da entrevista (arraste para reordenar)"})]}),i.jsxs(fe,{onClick:()=>ge(),className:"btn-neon gap-2",children:[i.jsx(qr,{className:"w-5 h-5"}),"Nova Categoria"]})]}),ce.length===0?i.jsxs("div",{className:"glass-panel rounded-xl p-12 text-center",children:[i.jsx(l0,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-50"}),i.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Nenhuma categoria"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Crie sua primeira categoria de perguntas"}),i.jsxs(fe,{onClick:()=>ge(),className:"btn-neon gap-2",children:[i.jsx(qr,{className:"w-5 h-5"}),"Criar Categoria"]})]}):i.jsx($0,{sensors:ie,collisionDetection:M0,onDragEnd:U,children:i.jsx(z0,{items:ce.map(A=>A.id),strategy:U0,children:i.jsx("div",{className:"space-y-4",children:ce.map(A=>i.jsx(Dz,{category:A,questions:Y(A.id).filter(H=>H.is_active),onEditCategory:()=>ge(A),onDeleteCategory:()=>W("category",A),onAddQuestion:()=>G(A.id),onEditQuestion:H=>G(A.id,H),onDeleteQuestion:H=>W("question",H),onReorderQuestions:H=>he(A.id,H),isExpanded:u.has(A.id),onToggle:()=>J(A.id)},A.id))})})})]}),i.jsx(Tt,{open:f,onOpenChange:h,children:i.jsxs(Et,{className:"glass-panel border-t-2 border-primary",children:[i.jsxs(kt,{children:[i.jsx(At,{children:_?"Editar Categoria":"Nova Categoria"}),i.jsx(dr,{children:_?"Atualize o nome da categoria.":"Crie uma nova categoria de perguntas."})]}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Nome da Categoria"}),i.jsx(Oe,{value:N,onChange:A=>R(A.target.value),placeholder:"Ex: Perguntas sobre Regras",className:`glass-input ${M.name?"border-destructive":""}`}),M.name&&i.jsxs("p",{className:"text-xs text-destructive flex items-center gap-1",children:[i.jsx(js,{className:"w-3 h-3"})," ",M.name]})]})}),i.jsxs(qt,{children:[i.jsx(fe,{variant:"ghost",onClick:()=>h(!1),children:"Cancelar"}),i.jsxs(fe,{onClick:P,disabled:l,className:"btn-neon gap-2",children:[l?i.jsx(ot,{className:"w-4 h-4 animate-spin"}):i.jsx($a,{className:"w-4 h-4"}),"Salvar"]})]})]})}),i.jsx(Tt,{open:p,onOpenChange:x,children:i.jsxs(Et,{className:"glass-panel border-t-2 border-primary max-w-2xl",children:[i.jsxs(kt,{children:[i.jsx(At,{children:y?"Editar Pergunta":"Nova Pergunta"}),i.jsx(dr,{children:y?"Atualize o texto da pergunta e resposta esperada.":"Adicione uma nova pergunta  categoria."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Pergunta"}),i.jsx(An,{value:k,onChange:A=>O(A.target.value),placeholder:"Digite a pergunta...",className:`glass-input min-h-[80px] ${M.question?"border-destructive":""}`}),M.question&&i.jsxs("p",{className:"text-xs text-destructive flex items-center gap-1",children:[i.jsx(js,{className:"w-3 h-3"})," ",M.question]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Resposta Esperada"}),i.jsx(An,{value:L,onChange:A=>K(A.target.value),placeholder:"Digite a resposta esperada do candidato...",className:`glass-input min-h-[120px] ${M.expected_answer?"border-destructive":""}`}),M.expected_answer&&i.jsxs("p",{className:"text-xs text-destructive flex items-center gap-1",children:[i.jsx(js,{className:"w-3 h-3"})," ",M.expected_answer]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Dica: Use quebras de linha para listar mltiplos pontos esperados"})]})]}),i.jsxs(qt,{children:[i.jsx(fe,{variant:"ghost",onClick:()=>x(!1),children:"Cancelar"}),i.jsxs(fe,{onClick:B,disabled:l,className:"btn-neon gap-2",children:[l?i.jsx(ot,{className:"w-4 h-4 animate-spin"}):i.jsx($a,{className:"w-4 h-4"}),"Salvar Pergunta"]})]})]})}),i.jsx(Tt,{open:m,onOpenChange:v,children:i.jsxs(Et,{className:"glass-panel border-t-2 border-destructive",children:[i.jsxs(kt,{children:[i.jsxs(At,{className:"text-destructive",children:["Excluir ",(b==null?void 0:b.type)==="category"?"Categoria":"Pergunta","?"]}),i.jsx(dr,{children:(b==null?void 0:b.type)==="category"?"A categoria e todas suas perguntas sero desativadas. Isso no afetar entrevistas j realizadas.":"A pergunta ser desativada. Isso no afetar entrevistas j realizadas."})]}),i.jsxs(qt,{children:[i.jsx(fe,{variant:"ghost",onClick:()=>v(!1),children:"Cancelar"}),i.jsx(fe,{variant:"destructive",onClick:ee,disabled:l,children:l?i.jsx(ot,{className:"w-4 h-4 animate-spin"}):"Confirmar"})]})]})})]})}function Lz({isAdmin:e,userId:t}){const{toast:r}=pr(),[n,s]=g.useState(!1),[a,o]=g.useState(!1),[l,c]=g.useState("all"),[u,d]=g.useState("50"),[f,h]=g.useState(""),[p,x]=g.useState(""),m=_=>new Date(_).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),v=async _=>{o(!0);try{let w=re.from("interviews").select(`
          id,
          candidate_name,
          candidate_id,
          candidate_age,
          candidate_birth_date,
          candidate_rp_time,
          candidate_rp_style,
          total_correct,
          total_wrong,
          result,
          final_observation,
          created_at,
          interviewer_id
        `).order("created_at",{ascending:!1});if(!e&&t&&(w=w.eq("interviewer_id",t)),l==="count")w=w.limit(parseInt(u)||50);else if(l==="period"&&(f&&(w=w.gte("created_at",new Date(f).toISOString())),p)){const j=new Date(p);j.setHours(23,59,59,999),w=w.lte("created_at",j.toISOString())}const{data:y,error:S}=await w;if(S)throw S;if(!y||y.length===0){r({title:"Aviso",description:"Nenhuma entrevista encontrada para exportar.",variant:"destructive"}),o(!1);return}const E=[...new Set(y.map(j=>j.interviewer_id).filter(Boolean))],{data:C}=await re.from("profiles").select("user_id, name").in("user_id",E),b=y.map(j=>{var N;return{"Data/Hora":m(j.created_at),Candidato:j.candidate_name,"ID Discord":j.candidate_id,Idade:j.candidate_age||"-","Data Nascimento":j.candidate_birth_date||"-","Tempo de RP":j.candidate_rp_time||"-","Estilo RP":j.candidate_rp_style||"-",Corretas:j.total_correct,Erradas:j.total_wrong,Resultado:j.result==="approved"?"Aprovado":"Reprovado",Entrevistador:((N=C==null?void 0:C.find(R=>R.user_id===j.interviewer_id))==null?void 0:N.name)||"Desconhecido","Observao Final":j.final_observation||"-"}});if(_==="csv"){const j=Object.keys(b[0]),N=[j.join(","),...b.map(L=>j.map(K=>{const M=L[K],q=String(M).replace(/"/g,'""');return q.includes(",")||q.includes(`
`)?`"${q}"`:q}).join(","))].join(`
`),R=new Blob(["\uFEFF"+N],{type:"text/csv;charset=utf-8;"}),k=URL.createObjectURL(R),O=document.createElement("a");O.href=k,O.download=`entrevistas_${new Date().toISOString().split("T")[0]}.csv`,O.click(),URL.revokeObjectURL(k)}else{const j=Object.keys(b[0]),N=[j.join("	"),...b.map(L=>j.map(K=>String(L[K])).join("	"))].join(`
`),R=new Blob(["\uFEFF"+N],{type:"application/vnd.ms-excel;charset=utf-8;"}),k=URL.createObjectURL(R),O=document.createElement("a");O.href=k,O.download=`entrevistas_${new Date().toISOString().split("T")[0]}.xls`,O.click(),URL.revokeObjectURL(k)}r({title:"Sucesso",description:`${y.length} entrevistas exportadas!`}),s(!1)}catch(w){console.error("Error exporting:",w),r({title:"Erro",description:"No foi possvel exportar as entrevistas.",variant:"destructive"})}finally{o(!1)}};return i.jsxs(Tt,{open:n,onOpenChange:s,children:[i.jsx(zc,{asChild:!0,children:i.jsxs(fe,{variant:"outline",className:"gap-2",children:[i.jsx(Tv,{className:"w-4 h-4"}),"Exportar"]})}),i.jsxs(Et,{className:"glass-panel",children:[i.jsxs(kt,{children:[i.jsxs(At,{className:"flex items-center gap-2",children:[i.jsx(Tv,{className:"w-5 h-5 text-primary"}),"Exportar Entrevistas"]}),i.jsx(dr,{children:"Escolha o formato e filtros para exportao"})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Tipo de Exportao"}),i.jsxs(Yt,{value:l,onValueChange:_=>c(_),children:[i.jsx(Wt,{className:"glass-input",children:i.jsx(Jt,{})}),i.jsxs(Ht,{children:[i.jsx(He,{value:"all",children:"Todas as Entrevistas"}),i.jsx(He,{value:"count",children:"Por Quantidade"}),i.jsx(He,{value:"period",children:"Por Perodo"})]})]})]}),l==="count"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Quantidade de Entrevistas"}),i.jsx(Oe,{type:"number",value:u,onChange:_=>d(_.target.value),min:"1",max:"1000",className:"glass-input"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["ltimas ",u," entrevistas"]})]}),l==="period"&&i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Data Inicial"}),i.jsx(Oe,{type:"date",value:f,onChange:_=>h(_.target.value),className:"glass-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Data Final"}),i.jsx(Oe,{type:"date",value:p,onChange:_=>x(_.target.value),className:"glass-input"})]})]})]}),i.jsxs(qt,{className:"gap-2",children:[i.jsxs(fe,{variant:"outline",onClick:()=>v("csv"),disabled:a,className:"gap-2",children:[a?i.jsx(ot,{className:"w-4 h-4 animate-spin"}):i.jsx(c0,{className:"w-4 h-4"}),"CSV (Google Sheets)"]}),i.jsxs(fe,{onClick:()=>v("xlsx"),disabled:a,className:"btn-neon gap-2",children:[a?i.jsx(ot,{className:"w-4 h-4 animate-spin"}):i.jsx(c0,{className:"w-4 h-4"}),"Excel (.xls)"]})]})]})]})}const v2=e=>{if(!e)return"-";const t=Math.floor(e/3600),r=Math.floor(e%3600/60),n=e%60;return t>0?`${t}h ${r}m ${n}s`:r>0?`${r}m ${n}s`:`${n}s`};function Mz(){const{isAdmin:e,user:t}=Pr(),[r,n]=g.useState([]),[s,a]=g.useState(!0),[o,l]=g.useState(null),[c,u]=g.useState([]),[d,f]=g.useState(!1);g.useEffect(()=>{h()},[e,t]);const h=async()=>{try{let m=re.from("interviews").select("*").order("created_at",{ascending:!1});const{data:v,error:_}=await m;if(_)throw _;if(v&&v.length>0){const w=[...new Set(v.map(E=>E.interviewer_id).filter(Boolean))],{data:y}=await re.from("profiles").select("user_id, name").in("user_id",w),S=v.map(E=>{var C;return{...E,interviewer_name:((C=y==null?void 0:y.find(b=>b.user_id===E.interviewer_id))==null?void 0:C.name)||"Desconhecido"}});n(S)}}catch(m){console.error("Error fetching interviews:",m)}finally{a(!1)}},p=async m=>{l(m),f(!0);try{const{data:v,error:_}=await re.from("interview_answers").select("*").eq("interview_id",m.id).order("created_at");if(_)throw _;u(v||[])}catch(v){console.error("Error fetching answers:",v)}},x=m=>new Date(m).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return i.jsxs(On,{children:[i.jsxs("div",{className:"space-y-6 animate-fade-in",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-display font-bold text-foreground flex items-center gap-3",children:[i.jsx(hc,{className:"w-8 h-8 text-primary"}),"Histrico de Entrevistas"]}),i.jsx("p",{className:"text-muted-foreground mt-1",children:e?"Todas as entrevistas realizadas":"Suas entrevistas realizadas"})]}),i.jsx(Lz,{isAdmin:e,userId:t==null?void 0:t.id})]}),i.jsx("div",{className:"glass-panel rounded-xl overflow-hidden",children:i.jsxs(Wc,{children:[i.jsx(Hc,{children:i.jsxs(Nr,{className:"border-border hover:bg-transparent",children:[i.jsx(bt,{children:"Data/Hora"}),i.jsx(bt,{children:"Candidato"}),i.jsx(bt,{className:"max-w-[150px]",children:"ID Discord"}),i.jsx(bt,{children:"Resultado"}),i.jsx(bt,{children:"Durao"}),e&&i.jsx(bt,{children:"Entrevistador"}),i.jsx(bt,{className:"text-right",children:"Aes"})]})}),i.jsx(Gc,{children:s?i.jsx(i.Fragment,{children:[...Array(5)].map((m,v)=>i.jsxs(Nr,{children:[i.jsx(tt,{children:i.jsx(Ia,{className:"h-4 w-32"})}),i.jsx(tt,{children:i.jsx(Ia,{className:"h-4 w-24"})}),i.jsx(tt,{children:i.jsx(Ia,{className:"h-4 w-32"})}),i.jsx(tt,{children:i.jsx(Ia,{className:"h-4 w-20"})}),i.jsx(tt,{children:i.jsx(Ia,{className:"h-4 w-16"})}),e&&i.jsx(tt,{children:i.jsx(Ia,{className:"h-4 w-24"})}),i.jsx(tt,{children:i.jsx(Ia,{className:"h-8 w-8 ml-auto"})})]},v))}):r.length===0?i.jsx(Nr,{children:i.jsxs(tt,{colSpan:e?7:6,className:"text-center py-12 text-muted-foreground",children:[i.jsx(hc,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:"Nenhuma entrevista encontrada"})]})}):r.map(m=>i.jsxs(Nr,{className:"border-border",children:[i.jsx(tt,{children:i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(fc,{className:"w-4 h-4 text-muted-foreground"}),x(m.created_at)]})}),i.jsx(tt,{className:"font-medium",children:m.candidate_name}),i.jsx(tt,{className:"max-w-[150px]",children:i.jsx("span",{className:"font-mono text-muted-foreground text-sm truncate block overflow-hidden",children:m.candidate_id})}),i.jsx(tt,{children:m.result==="approved"?i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-success/20 text-success border border-success/30",children:[i.jsx(Er,{className:"w-3 h-3"}),"Aprovado"]}):i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-destructive/20 text-destructive border border-destructive/30",children:[i.jsx(Rs,{className:"w-3 h-3"}),"Reprovado"]})}),i.jsx(tt,{children:i.jsx("span",{className:"text-sm text-muted-foreground",children:v2(m.duration_seconds)})}),e&&i.jsx(tt,{className:"text-muted-foreground",children:m.interviewer_name}),i.jsx(tt,{className:"text-right",children:i.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>p(m),className:"hover:bg-accent",children:i.jsx($i,{className:"w-4 h-4"})})})]},m.id))})]})})]}),i.jsx(Tt,{open:d,onOpenChange:f,children:i.jsxs(Et,{className:"glass-panel border-t-2 border-primary max-w-3xl max-h-[85vh] overflow-y-auto",children:[i.jsxs(kt,{children:[i.jsxs(At,{className:"flex items-center gap-2",children:[i.jsx(Cs,{className:"w-5 h-5 text-primary"}),"Detalhes da Entrevista"]}),i.jsx(dr,{children:"Informaes completas do processo de avaliao"})]}),o&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[i.jsxs("div",{className:"p-3 rounded-lg bg-accent/50 border border-border",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(xa,{className:"w-3 h-3 text-muted-foreground"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Candidato"})]}),i.jsx("p",{className:"font-medium text-foreground truncate",children:o.candidate_name})]}),i.jsxs("div",{className:"p-3 rounded-lg bg-accent/50 border border-border",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(x5,{className:"w-3 h-3 text-muted-foreground"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"ID Discord"})]}),i.jsx("p",{className:"font-mono text-sm text-foreground break-all",children:o.candidate_id})]}),i.jsxs("div",{className:"p-3 rounded-lg bg-accent/50 border border-border",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(n5,{className:"w-3 h-3 text-muted-foreground"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Idade"})]}),i.jsx("p",{className:"font-medium text-foreground",children:o.candidate_age?`${o.candidate_age} anos`:"-"})]}),i.jsxs("div",{className:"p-3 rounded-lg bg-accent/50 border border-border",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(fc,{className:"w-3 h-3 text-muted-foreground"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Nascimento"})]}),i.jsx("p",{className:"font-medium text-foreground",children:o.candidate_birth_date||"-"})]}),i.jsxs("div",{className:"p-3 rounded-lg bg-accent/50 border border-border",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(En,{className:"w-3 h-3 text-muted-foreground"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Tempo de RP"})]}),i.jsx("p",{className:"font-medium text-foreground",children:o.candidate_rp_time||"-"})]}),i.jsxs("div",{className:"p-3 rounded-lg bg-accent/50 border border-border",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(d5,{className:"w-3 h-3 text-muted-foreground"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Estilo RP"})]}),i.jsx("p",{className:"font-medium text-foreground",children:o.candidate_rp_style||"-"})]})]}),i.jsx("div",{className:`p-4 rounded-lg border text-center ${o.result==="approved"?"bg-success/10 border-success/30":"bg-destructive/10 border-destructive/30"}`,children:i.jsx("p",{className:`text-2xl font-bold ${o.result==="approved"?"text-success":"text-destructive"}`,children:o.result==="approved"?"APROVADO":"REPROVADO"})}),i.jsxs("div",{className:"flex items-center justify-center gap-8 p-4 rounded-lg bg-accent/50 border border-border",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-3xl font-bold text-success",children:o.total_correct}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Corretas"})]}),i.jsx("div",{className:"h-12 w-px bg-border"}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-3xl font-bold text-destructive",children:o.total_wrong}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Erradas"})]}),i.jsx("div",{className:"h-12 w-px bg-border"}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 text-primary",children:[i.jsx(hj,{className:"w-5 h-5"}),i.jsx("p",{className:"text-xl font-bold",children:v2(o.duration_seconds)})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Durao"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"font-medium text-foreground",children:"Respostas da Avaliao"}),c.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma resposta registrada"}):c.map(m=>i.jsx("div",{className:`p-4 rounded-lg border ${m.is_correct?"bg-success/5 border-success/20":"bg-destructive/5 border-destructive/20"}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:`p-1 rounded shrink-0 ${m.is_correct?"bg-success/20 text-success":"bg-destructive/20 text-destructive"}`,children:m.is_correct?i.jsx(Er,{className:"w-4 h-4"}):i.jsx(Rs,{className:"w-4 h-4"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium text-foreground text-sm",children:m.question_text}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1 whitespace-pre-line",children:["Esperado: ",m.expected_answer]}),m.observation&&i.jsxs("p",{className:"text-xs text-primary mt-2 italic",children:["Obs: ",m.observation]})]})]})},m.id))]}),o.final_observation&&i.jsxs("div",{className:"p-4 rounded-lg bg-accent/50 border border-border",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Observao Final"}),i.jsx("p",{className:"text-sm text-foreground",children:o.final_observation})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-4 border-t border-border",children:[i.jsxs("span",{children:["Realizada em: ",x(o.created_at)]}),i.jsxs("span",{children:["Por: ",o.interviewer_name]})]})]})]})})]})}var im="Checkbox",[Bz,MQ]=Yn(im),[$z,By]=Bz(im);function Uz(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:a,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=na({prop:r,defaultProp:s??!1,onChange:c,caller:im}),[x,m]=g.useState(null),[v,_]=g.useState(null),w=g.useRef(!1),y=x?!!o||!!x.closest("form"):!0,S={checked:h,disabled:a,setChecked:p,control:x,setControl:m,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:zi(s)?!1:s,isFormControl:y,bubbleInput:v,setBubbleInput:_};return i.jsx($z,{scope:t,...S,children:zz(f)?f(S):n})}var jA="CheckboxTrigger",CA=g.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:a,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:x}=By(jA,e),m=pt(s,d),v=g.useRef(c);return g.useEffect(()=>{const _=a==null?void 0:a.form;if(_){const w=()=>f(v.current);return _.addEventListener("reset",w),()=>_.removeEventListener("reset",w)}},[a,f]),i.jsx(Ke.button,{type:"button",role:"checkbox","aria-checked":zi(c)?"mixed":c,"aria-required":u,"data-state":OA(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:m,onKeyDown:ze(t,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:ze(r,_=>{f(w=>zi(w)?!0:!w),x&&p&&(h.current=_.isPropagationStopped(),h.current||_.stopPropagation())})})});CA.displayName=jA;var $y=g.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return i.jsx(Uz,{__scopeCheckbox:r,checked:s,defaultChecked:a,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>i.jsxs(i.Fragment,{children:[i.jsx(CA,{...f,ref:t,__scopeCheckbox:r}),h&&i.jsx(RA,{__scopeCheckbox:r})]})})});$y.displayName=im;var TA="CheckboxIndicator",kA=g.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,a=By(TA,r);return i.jsx(Fn,{present:n||zi(a.checked)||a.checked===!0,children:i.jsx(Ke.span,{"data-state":OA(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});kA.displayName=TA;var AA="CheckboxBubbleInput",RA=g.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=By(AA,e),x=pt(r,p),m=Cy(a),v=$1(n);g.useEffect(()=>{const w=h;if(!w)return;const y=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(y,"checked").set,C=!s.current;if(m!==a&&E){const b=new Event("click",{bubbles:C});w.indeterminate=zi(a),E.call(w,zi(a)?!1:a),w.dispatchEvent(b)}},[h,m,a,s]);const _=g.useRef(zi(a)?!1:a);return i.jsx(Ke.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??_.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:x,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});RA.displayName=AA;function zz(e){return typeof e=="function"}function zi(e){return e==="indeterminate"}function OA(e){return zi(e)?"indeterminate":e?"checked":"unchecked"}const ki=g.forwardRef(({className:e,...t},r)=>i.jsx($y,{ref:r,className:Be("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:i.jsx(kA,{className:Be("flex items-center justify-center text-current"),children:i.jsx(A1,{className:"h-4 w-4"})})}));ki.displayName=$y.displayName;const sh=["admin_master","clevel","director","coordinator","staff_manager","casting_manager","staff","support","casting"],Vz=["LayoutDashboard","ClipboardList","Users","HelpCircle","History","Settings","FileText","MessageCircle","Radio","Shield","Home","Calendar","Bell","Star"];function Wz({category:e,onEdit:t,onDelete:r,getRoleName:n}){var f;const{attributes:s,listeners:a,setNodeRef:o,transform:l,transition:c,isDragging:u}=am({id:e.id}),d={transform:Xi.Transform.toString(l),transition:c,opacity:u?.5:1};return i.jsxs("div",{ref:o,style:d,className:"flex items-center justify-between p-3 rounded-lg bg-accent/30 border border-border",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{className:"cursor-grab active:cursor-grabbing touch-none",...s,...a,children:i.jsx(bp,{className:"w-4 h-4 text-muted-foreground"})}),i.jsx("span",{className:"font-medium",children:e.name}),i.jsxs(ar,{variant:"outline",className:"text-xs",children:[((f=e.visible_to_roles)==null?void 0:f.length)||0," cargos"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(fe,{variant:"ghost",size:"icon",onClick:t,children:i.jsx(Ka,{className:"w-4 h-4"})}),i.jsx(fe,{variant:"ghost",size:"icon",className:"text-destructive",onClick:r,children:i.jsx(an,{className:"w-4 h-4"})})]})]})}function Hz({item:e,category:t,onEdit:r,onDelete:n}){const{attributes:s,listeners:a,setNodeRef:o,transform:l,transition:c,isDragging:u}=am({id:e.id}),d={transform:Xi.Transform.toString(l),transition:c,opacity:u?.5:1};return i.jsxs("div",{ref:o,style:d,className:`flex items-center justify-between p-3 rounded-lg border ${e.is_active?"bg-accent/30 border-border":"bg-muted/30 border-muted opacity-60"}`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{className:"cursor-grab active:cursor-grabbing touch-none",...s,...a,children:i.jsx(bp,{className:"w-4 h-4 text-muted-foreground"})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium",children:e.label}),!e.is_active&&i.jsx(ar,{variant:"secondary",className:"text-xs",children:"Inativo"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx("span",{children:e.path}),t&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:""}),i.jsx("span",{children:t.name})]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(fe,{variant:"ghost",size:"icon",onClick:r,children:i.jsx(Ka,{className:"w-4 h-4"})}),i.jsx(fe,{variant:"ghost",size:"icon",className:"text-destructive",onClick:n,children:i.jsx(an,{className:"w-4 h-4"})})]})]})}function Gz(){const{toast:e}=pr(),{roleConfigs:t}=Zo(),[r,n]=g.useState([]),[s,a]=g.useState([]),[o,l]=g.useState(!0),[c,u]=g.useState(!1),[d,f]=g.useState(!1),[h,p]=g.useState(!1),[x,m]=g.useState(null),[v,_]=g.useState(null),[w,y]=g.useState(""),[S,E]=g.useState([]),[C,b]=g.useState(""),[j,N]=g.useState(""),[R,k]=g.useState("LayoutDashboard"),[O,L]=g.useState(""),[K,M]=g.useState(""),[q,ie]=g.useState([]),[X,J]=g.useState(!0),Y=Dy(Cc(lf),Cc(of,{coordinateGetter:My}));g.useEffect(()=>{ge()},[]);const ge=async()=>{try{const[H,ne]=await Promise.all([re.from("sidebar_categories").select("*").order("order_index"),re.from("sidebar_items").select("*").order("order_index")]);H.data&&n(H.data),ne.data&&a(ne.data)}catch(H){console.error("Error fetching sidebar config:",H)}finally{l(!1)}},P=async H=>{const{active:ne,over:Re}=H;if(!Re||ne.id===Re.id)return;const Z=r.findIndex(te=>te.id===ne.id),_e=r.findIndex(te=>te.id===Re.id),ue=Tc(r,Z,_e);n(ue);try{const te=ue.map((We,Je)=>({id:We.id,name:We.name,order_index:Je,visible_to_roles:We.visible_to_roles})),{error:Xe}=await re.from("sidebar_categories").upsert(te,{onConflict:"id"});if(Xe)throw Xe;e({title:"Ordem atualizada",description:"Categorias reordenadas com sucesso!"})}catch(te){e({title:"Erro",description:te.message,variant:"destructive"}),ge()}},G=async H=>{const{active:ne,over:Re}=H;if(!Re||ne.id===Re.id)return;const Z=s.findIndex(te=>te.id===ne.id),_e=s.findIndex(te=>te.id===Re.id),ue=Tc(s,Z,_e);a(ue);try{const te=ue.map((We,Je)=>({id:We.id,item_key:We.item_key,label:We.label,icon:We.icon,path:We.path,category_id:We.category_id,order_index:Je,visible_to_roles:We.visible_to_roles,is_active:We.is_active})),{error:Xe}=await re.from("sidebar_items").upsert(te,{onConflict:"id"});if(Xe)throw Xe;e({title:"Ordem atualizada",description:"Itens reordenados com sucesso!"})}catch(te){e({title:"Erro",description:te.message,variant:"destructive"}),ge()}},B=H=>{H?(m(H),y(H.name),E(H.visible_to_roles||[])):(m(null),y(""),E(sh)),f(!0)},W=H=>{H?(_(H),b(H.item_key),N(H.label),k(H.icon),L(H.path),M(H.category_id||""),ie(H.visible_to_roles||[]),J(H.is_active)):(_(null),b(""),N(""),k("LayoutDashboard"),L(""),M(""),ie(sh),J(!0)),p(!0)},ee=async()=>{if(!w.trim()){e({title:"Erro",description:"Nome  obrigatrio",variant:"destructive"});return}u(!0);try{if(x)await re.from("sidebar_categories").update({name:w,visible_to_roles:S}).eq("id",x.id);else{const H=Math.max(...r.map(ne=>ne.order_index),-1);await re.from("sidebar_categories").insert({name:w,visible_to_roles:S,order_index:H+1})}e({title:"Sucesso",description:"Categoria salva!"}),f(!1),ge()}catch(H){e({title:"Erro",description:H.message,variant:"destructive"})}finally{u(!1)}},U=async H=>{if(confirm("Excluir esta categoria? Os itens sero desvinculados."))try{await re.from("sidebar_categories").delete().eq("id",H),e({title:"Sucesso",description:"Categoria excluda!"}),ge()}catch(ne){e({title:"Erro",description:ne.message,variant:"destructive"})}},he=async()=>{if(!j.trim()||!O.trim()){e({title:"Erro",description:"Label e Path so obrigatrios",variant:"destructive"});return}u(!0);try{if(v)await re.from("sidebar_items").update({label:j,icon:R,path:O,category_id:K||null,visible_to_roles:q,is_active:X}).eq("id",v.id);else{const H=Math.max(...s.map(ne=>ne.order_index),-1);await re.from("sidebar_items").insert({item_key:C||j.toLowerCase().replace(/\s+/g,"_"),label:j,icon:R,path:O,category_id:K||null,visible_to_roles:q,is_active:X,order_index:H+1})}e({title:"Sucesso",description:"Item salvo!"}),p(!1),ge()}catch(H){e({title:"Erro",description:H.message,variant:"destructive"})}finally{u(!1)}},ce=async H=>{if(confirm("Excluir este item do menu?"))try{await re.from("sidebar_items").delete().eq("id",H),e({title:"Sucesso",description:"Item excludo!"}),ge()}catch(ne){e({title:"Erro",description:ne.message,variant:"destructive"})}},A=H=>{var ne;return((ne=t[H])==null?void 0:ne.name)||H};return o?i.jsx("div",{className:"flex items-center justify-center h-48",children:i.jsx(ot,{className:"w-6 h-6 animate-spin text-primary"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"glass-panel rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:i.jsx(u5,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-foreground",children:"Categorias do Menu"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Arraste para reordenar"})]})]}),i.jsxs(fe,{size:"sm",onClick:()=>B(),className:"gap-2",children:[i.jsx(qr,{className:"w-4 h-4"}),"Nova"]})]}),i.jsx($0,{sensors:Y,collisionDetection:M0,onDragEnd:P,children:i.jsx(z0,{items:r.map(H=>H.id),strategy:U0,children:i.jsx("div",{className:"space-y-2",children:r.map(H=>i.jsx(Wz,{category:H,onEdit:()=>B(H),onDelete:()=>U(H.id),getRoleName:A},H.id))})})})]}),i.jsxs("div",{className:"glass-panel rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:i.jsx(p5,{className:"w-5 h-5 text-blue-500"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-foreground",children:"Itens do Menu"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Arraste para reordenar"})]})]}),i.jsxs(fe,{size:"sm",onClick:()=>W(),className:"gap-2",children:[i.jsx(qr,{className:"w-4 h-4"}),"Novo"]})]}),i.jsx($0,{sensors:Y,collisionDetection:M0,onDragEnd:G,children:i.jsx(z0,{items:s.map(H=>H.id),strategy:U0,children:i.jsx("div",{className:"space-y-2",children:s.map(H=>{const ne=r.find(Re=>Re.id===H.category_id);return i.jsx(Hz,{item:H,category:ne,onEdit:()=>W(H),onDelete:()=>ce(H.id)},H.id)})})})})]}),i.jsx(Tt,{open:d,onOpenChange:f,children:i.jsxs(Et,{className:"max-w-md glass-panel",children:[i.jsx(kt,{children:i.jsx(At,{children:x?"Editar Categoria":"Nova Categoria"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ve,{children:"Nome"}),i.jsx(Oe,{value:w,onChange:H=>y(H.target.value),placeholder:"Ex: Gesto",className:"glass-input"})]}),i.jsxs("div",{children:[i.jsxs(ve,{className:"flex items-center gap-2 mb-2",children:[i.jsx(ur,{className:"w-4 h-4"}),"Visvel para cargos"]}),i.jsx(Vn,{className:"h-40 rounded-lg border border-border p-3",children:i.jsx("div",{className:"space-y-2",children:sh.map(H=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ki,{id:`cat-role-${H}`,checked:S.includes(H),onCheckedChange:ne=>{E(ne?[...S,H]:S.filter(Re=>Re!==H))}}),i.jsx("label",{htmlFor:`cat-role-${H}`,className:"text-sm cursor-pointer",children:A(H)})]},H))})})]})]}),i.jsxs(qt,{children:[i.jsx(fe,{variant:"outline",onClick:()=>f(!1),children:"Cancelar"}),i.jsxs(fe,{onClick:ee,disabled:c,children:[c&&i.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}),"Salvar"]})]})]})}),i.jsx(Tt,{open:h,onOpenChange:p,children:i.jsxs(Et,{className:"max-w-md glass-panel",children:[i.jsx(kt,{children:i.jsx(At,{children:v?"Editar Item":"Novo Item"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(ve,{children:"Label"}),i.jsx(Oe,{value:j,onChange:H=>N(H.target.value),placeholder:"Dashboard",className:"glass-input"})]}),i.jsxs("div",{children:[i.jsx(ve,{children:"Path"}),i.jsx(Oe,{value:O,onChange:H=>L(H.target.value),placeholder:"/dashboard",className:"glass-input"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(ve,{children:"cone"}),i.jsxs(Yt,{value:R,onValueChange:k,children:[i.jsx(Wt,{className:"glass-input",children:i.jsx(Jt,{})}),i.jsx(Ht,{children:Vz.map(H=>i.jsx(He,{value:H,children:H},H))})]})]}),i.jsxs("div",{children:[i.jsx(ve,{children:"Categoria"}),i.jsxs(Yt,{value:K||"__none__",onValueChange:H=>M(H==="__none__"?"":H),children:[i.jsx(Wt,{className:"glass-input",children:i.jsx(Jt,{placeholder:"Nenhuma"})}),i.jsxs(Ht,{children:[i.jsx(He,{value:"__none__",children:"Nenhuma"}),r.map(H=>i.jsx(He,{value:H.id,children:H.name},H.id))]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ki,{id:"item-active",checked:X,onCheckedChange:H=>J(!!H)}),i.jsx("label",{htmlFor:"item-active",className:"text-sm cursor-pointer",children:"Item ativo (visvel no menu)"})]}),i.jsxs("div",{children:[i.jsxs(ve,{className:"flex items-center gap-2 mb-2",children:[i.jsx(ur,{className:"w-4 h-4"}),"Visvel para cargos"]}),i.jsx(Vn,{className:"h-32 rounded-lg border border-border p-3",children:i.jsx("div",{className:"grid grid-cols-2 gap-2",children:sh.map(H=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ki,{id:`item-role-${H}`,checked:q.includes(H),onCheckedChange:ne=>{ie(ne?[...q,H]:q.filter(Re=>Re!==H))}}),i.jsx("label",{htmlFor:`item-role-${H}`,className:"text-xs cursor-pointer",children:A(H)})]},H))})})]})]}),i.jsxs(qt,{children:[i.jsx(fe,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),i.jsxs(fe,{onClick:he,disabled:c,children:[c&&i.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}),"Salvar"]})]})]})})]})}var _g="rovingFocusGroup.onEntryFocus",qz={bubbles:!1,cancelable:!0},cf="RovingFocusGroup",[Ex,PA,Kz]=j1(cf),[Xz,IA]=Yn(cf,[Kz]),[Yz,Jz]=Xz(cf),DA=g.forwardRef((e,t)=>i.jsx(Ex.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Ex.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Qz,{...e,ref:t})})}));DA.displayName=cf;var Qz=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=g.useRef(null),p=pt(t,h),x=qp(a),[m,v]=na({prop:o,defaultProp:l??null,onChange:c,caller:cf}),[_,w]=g.useState(!1),y=Ar(u),S=PA(r),E=g.useRef(!1),[C,b]=g.useState(0);return g.useEffect(()=>{const j=h.current;if(j)return j.addEventListener(_g,y),()=>j.removeEventListener(_g,y)},[y]),i.jsx(Yz,{scope:r,orientation:n,dir:x,loop:s,currentTabStopId:m,onItemFocus:g.useCallback(j=>v(j),[v]),onItemShiftTab:g.useCallback(()=>w(!0),[]),onFocusableItemAdd:g.useCallback(()=>b(j=>j+1),[]),onFocusableItemRemove:g.useCallback(()=>b(j=>j-1),[]),children:i.jsx(Ke.div,{tabIndex:_||C===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:ze(e.onMouseDown,()=>{E.current=!0}),onFocus:ze(e.onFocus,j=>{const N=!E.current;if(j.target===j.currentTarget&&N&&!_){const R=new CustomEvent(_g,qz);if(j.currentTarget.dispatchEvent(R),!R.defaultPrevented){const k=S().filter(q=>q.focusable),O=k.find(q=>q.active),L=k.find(q=>q.id===m),M=[O,L,...k].filter(Boolean).map(q=>q.ref.current);MA(M,d)}}E.current=!1}),onBlur:ze(e.onBlur,()=>w(!1))})})}),FA="RovingFocusGroupItem",LA=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,children:o,...l}=e,c=ea(),u=a||c,d=Jz(FA,r),f=d.currentTabStopId===u,h=PA(r),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:m}=d;return g.useEffect(()=>{if(n)return p(),()=>x()},[n,p,x]),i.jsx(Ex.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:i.jsx(Ke.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:ze(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:ze(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ze(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const _=tV(v,d.orientation,d.dir);if(_!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let y=h().filter(S=>S.focusable).map(S=>S.ref.current);if(_==="last")y.reverse();else if(_==="prev"||_==="next"){_==="prev"&&y.reverse();const S=y.indexOf(v.currentTarget);y=d.loop?rV(y,S+1):y.slice(S+1)}setTimeout(()=>MA(y))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:m!=null}):o})})});LA.displayName=FA;var Zz={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function eV(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function tV(e,t,r){const n=eV(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Zz[n]}function MA(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function rV(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var nV=DA,sV=LA,om="Tabs",[aV,BQ]=Yn(om,[IA]),BA=IA(),[iV,Uy]=aV(om),$A=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=qp(l),[f,h]=na({prop:n,onChange:s,defaultProp:a??"",caller:om});return i.jsx(iV,{scope:r,baseId:ea(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:i.jsx(Ke.div,{dir:d,"data-orientation":o,...u,ref:t})})});$A.displayName=om;var UA="TabsList",zA=g.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=Uy(UA,r),o=BA(r);return i.jsx(nV,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:i.jsx(Ke.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});zA.displayName=UA;var VA="TabsTrigger",WA=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,o=Uy(VA,r),l=BA(r),c=qA(o.baseId,n),u=KA(o.baseId,n),d=n===o.value;return i.jsx(sV,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(Ke.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:ze(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:ze(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:ze(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});WA.displayName=VA;var HA="TabsContent",GA=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...o}=e,l=Uy(HA,r),c=qA(l.baseId,n),u=KA(l.baseId,n),d=n===l.value,f=g.useRef(d);return g.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(Fn,{present:s||d,children:({present:h})=>i.jsx(Ke.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});GA.displayName=HA;function qA(e,t){return`${e}-trigger-${t}`}function KA(e,t){return`${e}-content-${t}`}var oV=$A,XA=zA,YA=WA,JA=GA;const x2=oV,Nx=g.forwardRef(({className:e,...t},r)=>i.jsx(XA,{ref:r,className:Be("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Nx.displayName=XA.displayName;const Zn=g.forwardRef(({className:e,...t},r)=>i.jsx(YA,{ref:r,className:Be("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Zn.displayName=YA.displayName;const es=g.forwardRef(({className:e,...t},r)=>i.jsx(JA,{ref:r,className:Be("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));es.displayName=JA.displayName;function y2({userId:e,currentAvatarUrl:t,userName:r,onAvatarChange:n,size:s="md"}){const[a,o]=g.useState(!1),l=g.useRef(null),{toast:c}=pr(),u={sm:"w-10 h-10 text-sm",md:"w-16 h-16 text-lg",lg:"w-24 h-24 text-2xl"},d=async h=>{var m;const p=(m=h.target.files)==null?void 0:m[0];if(!p)return;if(!["image/jpeg","image/png","image/gif"].includes(p.type)){c({title:"Erro",description:"Formato invlido. Use .jpg, .png ou .gif",variant:"destructive"});return}if(p.size>2*1024*1024){c({title:"Erro",description:"Arquivo muito grande. Mximo 2MB.",variant:"destructive"});return}o(!0);try{if(t){const E=t.split("/").slice(-2).join("/");await re.storage.from("avatars").remove([E])}const v=p.name.split(".").pop(),_=`${e}/avatar-${Date.now()}.${v}`,{error:w}=await re.storage.from("avatars").upload(_,p,{upsert:!0});if(w)throw w;const{data:{publicUrl:y}}=re.storage.from("avatars").getPublicUrl(_),{error:S}=await re.from("profiles").update({avatar_url:y}).eq("user_id",e);if(S)throw S;n(y),c({title:"Sucesso",description:"Avatar atualizado com sucesso!"})}catch(v){console.error("Error uploading avatar:",v),c({title:"Erro",description:"No foi possvel atualizar o avatar.",variant:"destructive"})}finally{o(!1),l.current&&(l.current.value="")}},f=async()=>{if(t){o(!0);try{const h=t.split("/").slice(-2).join("/");await re.storage.from("avatars").remove([h]),await re.from("profiles").update({avatar_url:null}).eq("user_id",e),n(null),c({title:"Sucesso",description:"Avatar removido."})}catch(h){console.error("Error removing avatar:",h),c({title:"Erro",description:"No foi possvel remover o avatar.",variant:"destructive"})}finally{o(!1)}}};return i.jsxs("div",{className:"relative group",children:[i.jsx("input",{ref:l,type:"file",accept:".jpg,.jpeg,.png,.gif",onChange:d,className:"hidden"}),i.jsx("div",{className:Be("rounded-full border-2 border-primary/20 flex items-center justify-center overflow-hidden bg-primary/10 cursor-pointer transition-all hover:border-primary/50",u[s]),onClick:()=>{var h;return!a&&((h=l.current)==null?void 0:h.click())},children:a?i.jsx(ot,{className:"w-6 h-6 animate-spin text-primary"}):t?i.jsx("img",{src:t,alt:r,className:"w-full h-full object-cover"}):i.jsx("span",{className:"text-primary font-bold",children:(r==null?void 0:r.charAt(0).toUpperCase())||"U"})}),i.jsx("div",{className:"absolute inset-0 rounded-full bg-background/80 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity cursor-pointer",onClick:()=>{var h;return!a&&((h=l.current)==null?void 0:h.click())},children:i.jsx(s5,{className:"w-5 h-5 text-foreground"})}),t&&!a&&i.jsx(fe,{variant:"destructive",size:"icon",className:"absolute -top-1 -right-1 w-5 h-5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",onClick:h=>{h.stopPropagation(),f()},children:i.jsx(Sp,{className:"w-3 h-3"})})]})}function w2({assetKey:e,currentUrl:t,onAssetChange:r,label:n,aspectRatio:s="square",maxSize:a=5}){const{toast:o}=pr(),[l,c]=g.useState(!1),[u,d]=g.useState(t),f=g.useRef(null),h=async x=>{var _;const m=(_=x.target.files)==null?void 0:_[0];if(!m)return;if(!["image/jpeg","image/png","image/gif","image/webp"].includes(m.type)){o({title:"Formato invlido",description:"Use arquivos .jpg, .png, .gif ou .webp",variant:"destructive"});return}if(m.size>a*1024*1024){o({title:"Arquivo muito grande",description:`O tamanho mximo  ${a}MB`,variant:"destructive"});return}c(!0);try{const w=m.name.split(".").pop(),S=`${e}.${w}`;await re.storage.from("site-assets").remove([S]);const{error:E}=await re.storage.from("site-assets").upload(S,m,{upsert:!0});if(E)throw E;const{data:C}=re.storage.from("site-assets").getPublicUrl(S),b=`${C.publicUrl}?t=${Date.now()}`;d(b),r(b),o({title:"Sucesso",description:`${n} atualizado!`})}catch(w){console.error("Upload error:",w),o({title:"Erro no upload",description:"No foi possvel fazer o upload da imagem.",variant:"destructive"})}finally{c(!1),f.current&&(f.current.value="")}},p=async()=>{c(!0);try{const m=["png","jpg","jpeg","gif","webp"].map(v=>`${e}.${v}`);await re.storage.from("site-assets").remove(m),d(null),r(null),o({title:"Removido",description:`${n} removido com sucesso.`})}catch(x){console.error("Remove error:",x)}finally{c(!1)}};return i.jsxs("div",{className:"space-y-3",children:[i.jsx("input",{ref:f,type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",onChange:h,className:"hidden"}),i.jsxs("div",{onClick:()=>{var x;return!l&&((x=f.current)==null?void 0:x.click())},className:Be("relative border-2 border-dashed border-border rounded-xl overflow-hidden cursor-pointer transition-all hover:border-primary/50",s==="square"?"w-24 h-24":"w-full h-32",l&&"opacity-50 pointer-events-none"),children:[u?i.jsx("img",{src:u,alt:n,className:"w-full h-full object-contain bg-accent/50"}):i.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center gap-2 text-muted-foreground",children:[i.jsx(Lu,{className:"w-8 h-8"}),i.jsx("span",{className:"text-xs text-center px-2",children:"Clique para upload"})]}),l&&i.jsx("div",{className:"absolute inset-0 bg-background/80 flex items-center justify-center",children:i.jsx(ot,{className:"w-6 h-6 animate-spin text-primary"})})]}),u&&i.jsxs(fe,{variant:"ghost",size:"sm",onClick:p,disabled:l,className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:[i.jsx(Sp,{className:"w-4 h-4 mr-1"}),"Remover"]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Formatos: .jpg, .png, .gif, .webp (mx ",a,"MB)"]})]})}const lV=[{key:"candidate_name",label:"Nome do Candidato",enabled:!0},{key:"candidate_id",label:"ID Discord",enabled:!0},{key:"candidate_age",label:"Idade",enabled:!0},{key:"candidate_birth_date",label:"Data de Nascimento",enabled:!1},{key:"candidate_rp_time",label:"Tempo de RP",enabled:!0},{key:"candidate_rp_style",label:"Estilo de RP",enabled:!0},{key:"result",label:"Resultado (Aprovado/Reprovado)",enabled:!0},{key:"total_correct",label:"Respostas Corretas",enabled:!0},{key:"total_wrong",label:"Respostas Erradas",enabled:!0},{key:"duration",label:"Durao da Entrevista",enabled:!0},{key:"interviewer_name",label:"Nome do Entrevistador",enabled:!0},{key:"final_observation",label:"Observao Final",enabled:!0},{key:"timestamp",label:"Data/Hora",enabled:!0}];function _2(){return lV}function cV({fields:e,onChange:t}){const r=n=>{const s=e.map(a=>a.key===n?{...a,enabled:!a.enabled}:a);t(s)};return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:e.map(n=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-accent/50 border border-border",children:[i.jsx(ve,{htmlFor:n.key,className:"text-sm cursor-pointer",children:n.label}),i.jsx(jc,{id:n.key,checked:n.enabled,onCheckedChange:()=>r(n.key)})]},n.key))}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Selecione quais informaes sero enviadas no embed do Discord."})]})}function uV({open:e,onOpenChange:t,roleKey:r,roleConfig:n,onSave:s}){const{toast:a}=pr(),[o,l]=g.useState(n),[c,u]=g.useState(!1);g.useEffect(()=>{l(n)},[n,e]);const d=p=>{l(x=>({...x,permissions:x.permissions.map(m=>m.key===p?{...m,enabled:!m.enabled}:m)}))},f=async()=>{u(!0);try{await s(r,o)!==!1&&(a({title:"Sucesso",description:`Permisses do cargo "${o.name}" atualizadas e aplicadas globalmente!`}),t(!1))}catch{a({title:"Erro",description:"No foi possvel salvar as permisses.",variant:"destructive"})}finally{u(!1)}},h=o.permissions.filter(p=>p.enabled).length;return i.jsx(Tt,{open:e,onOpenChange:t,children:i.jsxs(Et,{className:"glass-panel border-t-2 border-primary max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(kt,{children:[i.jsxs(At,{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:`${o.color}20`},children:i.jsx(ur,{className:"w-5 h-5",style:{color:o.color}})}),i.jsxs("div",{children:[i.jsxs("span",{children:["Editar Cargo: ",o.name]}),i.jsx("p",{className:"text-xs text-muted-foreground font-normal mt-1",children:o.description})]})]}),i.jsx(dr,{children:"Configure as permisses e a cor deste cargo"})]}),i.jsxs("div",{className:"space-y-6 py-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs(ve,{className:"flex items-center gap-2",children:["Cor do Cargo",i.jsx("div",{className:"w-4 h-4 rounded-full border border-border",style:{backgroundColor:o.color}})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Oe,{type:"color",value:o.color,onChange:p=>l({...o,color:p.target.value}),className:"w-16 h-10 p-1 cursor-pointer"}),i.jsx(Oe,{type:"text",value:o.color,onChange:p=>l({...o,color:p.target.value}),placeholder:"#FF0000",className:"glass-input w-32 font-mono text-sm"}),i.jsx("div",{className:"flex gap-2",children:["#FF1F1F","#3B82F6","#22C55E","#A855F7","#F97316","#06B6D4"].map(p=>i.jsx("button",{onClick:()=>l({...o,color:p}),className:`w-8 h-8 rounded-lg border-2 transition-all ${o.color===p?"border-foreground scale-110":"border-transparent hover:scale-105"}`,style:{backgroundColor:p}},p))})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ve,{children:"Permisses"}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:[h," de ",o.permissions.length," ativas"]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-[300px] overflow-y-auto p-1",children:o.permissions.map(p=>i.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border transition-all ${p.enabled?"bg-success/10 border-success/30":"bg-muted/30 border-border"}`,children:[i.jsxs("div",{className:"flex items-center gap-2",children:[p.enabled?i.jsx(Er,{className:"w-4 h-4 text-success"}):i.jsx(Rs,{className:"w-4 h-4 text-muted-foreground"}),i.jsx("span",{className:`text-sm ${p.enabled?"text-foreground":"text-muted-foreground"}`,children:p.label})]}),i.jsx(jc,{checked:p.enabled,onCheckedChange:()=>d(p.key)})]},p.key))})]}),i.jsxs("div",{className:"p-4 rounded-lg bg-accent/50 border border-border",children:[i.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-3",children:"Preview do Badge"}),i.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-full text-xs font-medium border",style:{backgroundColor:`${o.color}20`,color:o.color,borderColor:`${o.color}40`},children:[i.jsx(ur,{className:"w-3 h-3"}),o.name]})]})]}),i.jsxs(qt,{children:[i.jsx(fe,{variant:"ghost",onClick:()=>t(!1),children:"Cancelar"}),i.jsxs(fe,{onClick:f,disabled:c,className:"btn-neon gap-2",children:[c?i.jsx(ot,{className:"w-4 h-4 animate-spin"}):i.jsx($a,{className:"w-4 h-4"}),"Salvar Permisses"]})]})]})})}const dV={create_user:{label:"Criou usurio",color:"bg-success/20 text-success"},update_user:{label:"Atualizou usurio",color:"bg-primary/20 text-primary"},delete_user:{label:"Deletou usurio",color:"bg-destructive/20 text-destructive"},update_role:{label:"Alterou cargo",color:"bg-warning/20 text-warning"},update_role_permissions:{label:"Alterou permisses de cargo",color:"bg-purple-500/20 text-purple-500"},update_permissions:{label:"Alterou permisses",color:"bg-purple-500/20 text-purple-500"},update_settings:{label:"Alterou configuraes",color:"bg-blue-500/20 text-blue-500"},update_user_schedule:{label:"Alterou horrios",color:"bg-cyan-500/20 text-cyan-500"},reset_ranking:{label:"Resetou ranking",color:"bg-orange-500/20 text-orange-500"},archive_ticket:{label:"Arquivou ticket",color:"bg-muted text-muted-foreground"},close_ticket:{label:"Fechou ticket",color:"bg-cyan-500/20 text-cyan-500"},create_report:{label:"Criou relatrio",color:"bg-indigo-500/20 text-indigo-500"},send_notification:{label:"Enviou notificao",color:"bg-yellow-500/20 text-yellow-500"},login:{label:"Login",color:"bg-green-500/20 text-green-500"},logout:{label:"Logout",color:"bg-gray-500/20 text-gray-500"}},fV={user:"Usurio",system:"Sistema",role:"Cargo",ticket:"Ticket",report:"Relatrio",configs:"Configuraes"};function hV(){const[e,t]=g.useState([]),[r,n]=g.useState([]),[s,a]=g.useState(!0),[o,l]=g.useState(""),[c,u]=g.useState("all"),[d,f]=g.useState("all"),[h,p]=g.useState("all"),[x,m]=g.useState(new Set);g.useEffect(()=>{v()},[]);const v=async()=>{a(!0);try{const[N,R]=await Promise.all([re.from("audit_logs").select("*").order("created_at",{ascending:!1}).limit(500),re.from("profiles").select("user_id, name")]);if(R.data&&n(R.data),N.data){const k=N.data.map(O=>{var K;const L=(K=R.data)==null?void 0:K.find(M=>M.user_id===O.user_id);return{...O,user_name:(L==null?void 0:L.name)||"Sistema"}});t(k)}}catch(N){console.error("Error fetching audit logs:",N)}finally{a(!1)}},_=N=>new Date(N).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),w=N=>dV[N]||{label:N,color:"bg-muted text-muted-foreground"},y=N=>fV[N]||N,S=N=>{m(R=>{const k=new Set(R);return k.has(N)?k.delete(N):k.add(N),k})},E=N=>{if(!N||Object.keys(N).length===0)return i.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Sem detalhes adicionais"});const R=O=>{var L,K;return O==null?"":typeof O=="boolean"?O?"Sim":"No":Array.isArray(O)?O.length===0?"Nenhum":((L=O[0])==null?void 0:L.start)!==void 0&&((K=O[0])==null?void 0:K.end)!==void 0?O.map(M=>`${M.start} - ${M.end}`).join(", "):O.join(", "):typeof O=="object"?JSON.stringify(O):String(O)},k={name:"Nome",username:"Usurio",role:"Cargo",passwordChanged:"Senha alterada",interviewSlots:"Horrios de entrevista",codiguinhoSlots:"Horrios de codiguinho",userName:"Nome do usurio",changedKeys:"Campos alterados",updates:"Atualizaes"};return i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.entries(N).map(([O,L])=>i.jsxs("div",{className:"space-y-0.5",children:[i.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:k[O]||O}),i.jsx("p",{className:"text-sm text-foreground",children:R(L)})]},O))})},C=e.filter(N=>{var K;const R=o===""||((K=N.user_name)==null?void 0:K.toLowerCase().includes(o.toLowerCase()))||N.action.toLowerCase().includes(o.toLowerCase())||N.target_type.toLowerCase().includes(o.toLowerCase()),k=c==="all"||N.action===c,O=h==="all"||N.user_id===h;let L=!0;if(d!=="all"){const M=new Date(N.created_at),q=new Date;if(q.setHours(0,0,0,0),d==="today")L=M>=q;else if(d==="week"){const ie=new Date(q);ie.setDate(ie.getDate()-7),L=M>=ie}else if(d==="month"){const ie=new Date(q);ie.setMonth(ie.getMonth()-1),L=M>=ie}}return R&&k&&L&&O}),b=[...new Set(e.map(N=>N.action))],j=[...new Set(e.map(N=>({id:N.user_id,name:N.user_name})))];return i.jsxs("div",{className:"glass-panel rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[i.jsx("div",{className:"p-3 rounded-xl bg-primary/10 border border-primary/20",children:i.jsx(hc,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"font-display font-bold text-lg text-foreground",children:"Log de Auditoria"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Histrico de aes administrativas no sistema"})]}),i.jsxs(fe,{variant:"outline",size:"sm",onClick:v,disabled:s,className:"gap-2",children:[s?i.jsx(ot,{className:"w-4 h-4 animate-spin"}):i.jsx(dj,{className:"w-4 h-4"}),"Atualizar"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx(ve,{className:"text-xs mb-1.5 block",children:"Buscar"}),i.jsxs("div",{className:"relative",children:[i.jsx(Kd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),i.jsx(Oe,{placeholder:"Buscar por usurio ou ao...",value:o,onChange:N=>l(N.target.value),className:"pl-9 glass-input"})]})]}),i.jsxs("div",{children:[i.jsx(ve,{className:"text-xs mb-1.5 block",children:"Usurio"}),i.jsxs(Yt,{value:h,onValueChange:p,children:[i.jsx(Wt,{className:"glass-input",children:i.jsx(Jt,{placeholder:"Todos os usurios"})}),i.jsxs(Ht,{children:[i.jsx(He,{value:"all",children:"Todos os usurios"}),j.filter((N,R,k)=>k.findIndex(O=>O.id===N.id)===R).map(N=>i.jsx(He,{value:N.id,children:N.name},N.id))]})]})]}),i.jsxs("div",{children:[i.jsx(ve,{className:"text-xs mb-1.5 block",children:"Ao"}),i.jsxs(Yt,{value:c,onValueChange:u,children:[i.jsx(Wt,{className:"glass-input",children:i.jsx(Jt,{placeholder:"Todas as aes"})}),i.jsxs(Ht,{children:[i.jsx(He,{value:"all",children:"Todas as aes"}),b.map(N=>i.jsx(He,{value:N,children:w(N).label},N))]})]})]}),i.jsxs("div",{children:[i.jsx(ve,{className:"text-xs mb-1.5 block",children:"Perodo"}),i.jsxs(Yt,{value:d,onValueChange:f,children:[i.jsx(Wt,{className:"glass-input",children:i.jsx(Jt,{placeholder:"Todo perodo"})}),i.jsxs(Ht,{children:[i.jsx(He,{value:"all",children:"Todo perodo"}),i.jsx(He,{value:"today",children:"Hoje"}),i.jsx(He,{value:"week",children:"ltima semana"}),i.jsx(He,{value:"month",children:"ltimo ms"})]})]})]})]}),i.jsx(Vn,{className:"h-[500px] rounded-lg border border-border",children:i.jsx("div",{className:"divide-y divide-border",children:s?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(ot,{className:"w-6 h-6 animate-spin text-primary"})}):C.length===0?i.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[i.jsx(hc,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:"Nenhum registro encontrado"})]}):C.map(N=>{const R=w(N.action),k=x.has(N.id),O=N.details&&Object.keys(N.details).length>0;return i.jsx(hy,{open:k,onOpenChange:()=>S(N.id),children:i.jsxs("div",{className:"hover:bg-accent/30 transition-colors",children:[i.jsx(py,{asChild:!0,children:i.jsxs("button",{className:"w-full p-4 text-left flex items-start gap-4",children:[i.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-5 gap-2 md:gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx(En,{className:"w-3.5 h-3.5"}),i.jsx("span",{className:"font-mono",children:_(N.created_at)})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xa,{className:"w-3.5 h-3.5 text-muted-foreground"}),i.jsx("span",{className:"font-medium text-sm",children:N.user_name})]}),i.jsx("div",{children:i.jsx(ar,{variant:"outline",className:`${R.color} border-0 text-xs`,children:R.label})}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(_5,{className:"w-3.5 h-3.5"}),i.jsx("span",{children:y(N.target_type)}),N.target_id&&i.jsxs("code",{className:"text-xs bg-accent/50 px-1.5 py-0.5 rounded",children:[N.target_id.slice(0,8),"..."]})]}),i.jsx("div",{className:"font-mono text-xs text-muted-foreground",children:N.ip_address||""})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[O&&i.jsx(qm,{className:"w-4 h-4 text-primary/50"}),k?i.jsx(cj,{className:"w-4 h-4 text-muted-foreground"}):i.jsx(qd,{className:"w-4 h-4 text-muted-foreground"})]})]})}),i.jsx(my,{children:i.jsx("div",{className:"px-4 pb-4 pt-0",children:i.jsxs("div",{className:"bg-accent/30 rounded-lg p-4 border border-border/50",children:[i.jsxs("h4",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3 flex items-center gap-2",children:[i.jsx(qm,{className:"w-3.5 h-3.5"}),"Detalhes da Ao"]}),E(N.details)]})})})]})},N.id)})})}),i.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-muted-foreground",children:[i.jsxs("span",{children:["Exibindo ",C.length," de ",e.length," registros"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(qm,{className:"w-3.5 h-3.5"}),"Clique em um registro para ver detalhes"]})]})]})}function pV(){const{toast:e}=pr(),{user:t,isAdmin:r}=Pr(),{logAction:n}=Uc(),[s,a]=g.useState([]),[o,l]=g.useState([]),[c,u]=g.useState(!0),[d,f]=g.useState(!1),[h,p]=g.useState(!1),[x,m]=g.useState(!1),[v,_]=g.useState(null),[w,y]=g.useState(""),[S,E]=g.useState(""),[C,b]=g.useState(""),[j,N]=g.useState("");g.useEffect(()=>{R()},[]);const R=async()=>{try{const[q,ie]=await Promise.all([re.from("changelogs").select("*").order("created_at",{ascending:!1}),re.from("profiles").select("user_id, name")]);if(q.data){const X=q.data.map(J=>({...J,changes:Array.isArray(J.changes)?J.changes:[]}));a(X)}ie.data&&l(ie.data)}catch(q){console.error("Error fetching changelogs:",q)}finally{u(!1)}},k=()=>{y(""),E(""),b(""),N("")},O=async()=>{if(!S.trim()||!C.trim()){e({title:"Erro",description:"Ttulo e descrio so obrigatrios.",variant:"destructive"});return}f(!0);try{const q=j.split(`
`).map(X=>X.trim()).filter(X=>X.length>0),{error:ie}=await re.from("changelogs").insert({version:w||null,title:S,description:C,changes:q,created_by:t==null?void 0:t.id});if(ie)throw ie;await n("create_changelog","changelogs",void 0,{title:S,version:w}),e({title:"Sucesso",description:"Changelog criado!"}),p(!1),k(),R()}catch(q){e({title:"Erro",description:q.message,variant:"destructive"})}finally{f(!1)}},L=async()=>{if(v){f(!0);try{const{error:q}=await re.from("changelogs").delete().eq("id",v.id);if(q)throw q;await n("delete_changelog","changelogs",v.id,{title:v.title}),e({title:"Sucesso",description:"Changelog excludo!"}),m(!1),_(null),R()}catch(q){e({title:"Erro",description:q.message,variant:"destructive"})}finally{f(!1)}}},K=q=>o.find(ie=>ie.user_id===q),M=q=>new Date(q).toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-xl font-semibold text-foreground flex items-center gap-2",children:[i.jsx(Ei,{className:"w-5 h-5 text-primary"}),"Changelogs"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Histrico de atualizaes e mudanas no sistema"})]}),r&&i.jsxs(fe,{onClick:()=>p(!0),className:"btn-neon gap-2",children:[i.jsx(qr,{className:"w-4 h-4"}),"Novo Changelog"]})]}),c?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(ot,{className:"w-8 h-8 animate-spin text-primary"})}):s.length===0?i.jsxs("div",{className:"text-center py-12 glass-panel rounded-xl",children:[i.jsx(Cs,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-3"}),i.jsx("p",{className:"text-muted-foreground",children:"Nenhum changelog registrado"})]}):i.jsx(Vn,{className:"h-[500px] pr-4",children:i.jsx("div",{className:"space-y-4",children:s.map((q,ie)=>{var X;return i.jsxs(Ci,{className:"glass-panel border-l-4 border-l-primary relative group",children:[i.jsx(ky,{className:"pb-2",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[q.version&&i.jsxs(ar,{variant:"outline",className:"bg-primary/10 text-primary border-primary/30",children:["v",q.version]}),i.jsx(Ay,{className:"text-lg",children:q.title})]}),r&&i.jsx(fe,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity text-destructive hover:text-destructive",onClick:()=>{_(q),m(!0)},children:i.jsx(an,{className:"w-4 h-4"})})]})}),i.jsxs(Ti,{className:"space-y-3",children:[i.jsx("p",{className:"text-foreground",children:q.description}),q.changes.length>0&&i.jsxs("div",{className:"space-y-1",children:[i.jsx(ve,{className:"text-xs text-muted-foreground",children:"Alteraes:"}),i.jsx("ul",{className:"space-y-1",children:q.changes.map((J,Y)=>i.jsxs("li",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[i.jsx("span",{className:"text-primary mt-1.5",children:""}),J]},Y))})]}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground pt-2 border-t border-border",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(fc,{className:"w-3 h-3"}),M(q.created_at)]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(fj,{className:"w-3 h-3"}),((X=K(q.created_by))==null?void 0:X.name)||"Desconhecido"]})]})]}),ie<s.length-1&&i.jsx("div",{className:"absolute -bottom-4 left-[11px] w-0.5 h-4 bg-border"})]},q.id)})})}),i.jsx(Tt,{open:h,onOpenChange:p,children:i.jsxs(Et,{className:"max-w-lg glass-panel",children:[i.jsxs(kt,{children:[i.jsxs(At,{className:"flex items-center gap-2",children:[i.jsx(Ei,{className:"w-5 h-5 text-primary"}),"Novo Changelog"]}),i.jsx(dr,{children:"Registre uma nova atualizao ou mudana no sistema."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(ve,{children:"Verso"}),i.jsx(Oe,{value:w,onChange:q=>y(q.target.value),placeholder:"1.0.0",className:"glass-input"})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx(ve,{children:"Ttulo *"}),i.jsx(Oe,{value:S,onChange:q=>E(q.target.value),placeholder:"Ttulo da atualizao",className:"glass-input"})]})]}),i.jsxs("div",{children:[i.jsx(ve,{children:"Descrio *"}),i.jsx(An,{value:C,onChange:q=>b(q.target.value),placeholder:"Descreva as mudanas principais...",className:"glass-input min-h-[80px]"})]}),i.jsxs("div",{children:[i.jsx(ve,{children:"Alteraes (uma por linha)"}),i.jsx(An,{value:j,onChange:q=>N(q.target.value),placeholder:`Nova funcionalidade X
Correo de bug Y
Melhoria na performance de Z`,className:"glass-input min-h-[120px] font-mono text-sm"})]})]}),i.jsxs(qt,{children:[i.jsx(fe,{variant:"outline",onClick:()=>{p(!1),k()},children:"Cancelar"}),i.jsxs(fe,{onClick:O,disabled:d,className:"btn-neon",children:[d&&i.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}),"Publicar"]})]})]})}),i.jsx(Tt,{open:x,onOpenChange:m,children:i.jsxs(Et,{className:"max-w-sm glass-panel",children:[i.jsxs(kt,{children:[i.jsx(At,{children:"Confirmar Excluso"}),i.jsx(dr,{children:"Deseja realmente excluir este changelog? Esta ao no pode ser desfeita."})]}),i.jsxs(qt,{children:[i.jsx(fe,{variant:"outline",onClick:()=>m(!1),children:"Cancelar"}),i.jsxs(fe,{variant:"destructive",onClick:L,disabled:d,children:[d&&i.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}),"Excluir"]})]})]})})]})}const mV=[{value:"agrandir",label:"Agrandir (Padro)"},{value:"inter",label:"Inter"},{value:"roboto",label:"Roboto"},{value:"poppins",label:"Poppins"},{value:"montserrat",label:"Montserrat"},{value:"opensans",label:"Open Sans"}],bg=[{value:"red",label:"Vermelho",color:"hsl(0, 100%, 56%)"},{value:"blue",label:"Azul",color:"hsl(217, 91%, 60%)"},{value:"green",label:"Verde",color:"hsl(142, 76%, 50%)"},{value:"purple",label:"Roxo",color:"hsl(270, 91%, 60%)"},{value:"orange",label:"Laranja",color:"hsl(25, 95%, 55%)"},{value:"cyan",label:"Ciano",color:"hsl(185, 90%, 50%)"},{value:"pink",label:"Rosa",color:"hsl(330, 85%, 55%)"},{value:"yellow",label:"Amarelo",color:"hsl(45, 100%, 50%)"}];function gV(){var ee;const{toast:e}=pr(),{theme:t,toggleTheme:r}=oB(),{user:n,profile:s,updateProfile:a,isAdmin:o,isLoading:l}=Pr(),{refreshConfig:c}=$p(),{effect:u,setEffect:d}=oy(),{roleConfigs:f,updateRoleConfig:h,fetchRoleConfigs:p}=Zo(),{logAction:x}=Uc(),[m,v]=g.useState(!0),[_,w]=g.useState(!1),[y,S]=g.useState(!1),[E,C]=g.useState(""),[b,j]=g.useState(""),[N,R]=g.useState("#FF1F1F"),[k,O]=g.useState(null),[L,K]=g.useState(!1),[M,q]=g.useState({intro_script:"",rules_script:"",pass_message:"",fail_message:"",discord_webhook:"",site_name:"HOST MANAGER",site_subtitle:"Painel de Suporte",primary_color:"red",custom_primary_color:"",font_family:"agrandir",site_logo_url:"",site_background_url:"",webhook_fields:JSON.stringify(_2()),nav_dashboard:"Dashboard",nav_interview:"Nova Entrevista",nav_users:"Usurios",nav_questions:"Perguntas",nav_history:"Histrico",nav_settings:"Configuraes",page_dashboard_title:"Dashboard",page_dashboard_subtitle:"Viso geral do sistema",page_users_title:"Gerenciamento de Usurios",page_users_subtitle:"Gerencie os usurios do sistema",page_history_title:"Histrico de Entrevistas",page_history_subtitle:"Todas as entrevistas realizadas",interview_briefing_title:"Protocolos de Entrevista",interview_candidate_title:"Dados do Candidato",interview_evaluation_title:"Avaliao",interview_result_title:"Resultado",footer_status_label:"Status do Sistema",footer_connected_as:"Conectado como"});g.useEffect(()=>{l||(o?ie():v(!1))},[o,l]),g.useEffect(()=>{s&&(C(s.name||""),j(s.username||""))},[s]);const ie=async()=>{try{const{data:U,error:he}=await re.from("system_configs").select("*");if(he)throw he;const ce={};U==null||U.forEach(A=>{ce[A.key]=A.value}),q(A=>({...A,...ce}))}catch(U){console.error("Error fetching configs:",U),e({title:"Erro",description:"No foi possvel carregar as configuraes.",variant:"destructive"})}finally{v(!1)}},X=async()=>{w(!0);try{const U=new Date().toISOString(),he=Object.entries(M).map(([A,H])=>({key:A,value:H??"",updated_at:U})),{error:ce}=await re.from("system_configs").upsert(he,{onConflict:"key"});if(ce)throw ce;await c(),await x("update_settings","system","configs",{changedKeys:Object.keys(M)}),e({title:"Sucesso",description:"Configuraes salvas e aplicadas!"})}catch(U){console.error("Error saving configs:",U),e({title:"Erro",description:(U==null?void 0:U.message)||"No foi possvel salvar as configuraes.",variant:"destructive"})}finally{w(!1)}},J=async()=>{if(n)try{const{error:U}=await re.from("profiles").update({name:E,username:b,updated_at:new Date().toISOString()}).eq("user_id",n.id);if(U)throw U;a({name:E,username:b}),S(!1),e({title:"Sucesso",description:"Perfil atualizado com sucesso!"})}catch(U){console.error("Error updating profile:",U),e({title:"Erro",description:"No foi possvel atualizar o perfil.",variant:"destructive"})}},Y=async()=>{if(!M.discord_webhook){e({title:"Erro",description:"Insira uma URL de webhook primeiro.",variant:"destructive"});return}try{const he=W().filter(ne=>ne.enabled),ce={candidate_name:"Joo Silva",candidate_id:"joaosilva#1234",candidate_age:"25 anos",candidate_birth_date:"15/03/1999",candidate_rp_time:"2 anos",candidate_rp_style:"Light RP",result:" Aprovado",total_correct:"8 acertos",total_wrong:"0 erros",duration:"12m 45s",interviewer_name:"Maria Santos",final_observation:"Candidato demonstrou excelente conhecimento das regras e boa comunicao.",timestamp:new Date().toLocaleString("pt-BR")},A=he.map(ne=>({name:ne.label,value:ce[ne.key]||"",inline:!["final_observation"].includes(ne.key)}));if((await fetch(M.discord_webhook,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({embeds:[{title:" Teste de Webhook - Entrevista Simulada",description:"Este  um **teste** com dados fictcios para visualizar como o embed ficar.",color:5763719,fields:A,timestamp:new Date().toISOString(),footer:{text:`${M.site_name||"Host Manager"}  Dados de Teste`}}]})})).ok)e({title:"Sucesso",description:"Webhook testado! Verifique seu Discord para ver o embed com dados fictcios."});else throw new Error("Falha ao enviar webhook")}catch{e({title:"Erro",description:"No foi possvel testar o webhook. Verifique a URL.",variant:"destructive"})}},ge=U=>{a({avatar_url:U})},P=U=>{q({...M,site_logo_url:U||""})},G=U=>{q({...M,site_background_url:U||""})},B=U=>{q({...M,webhook_fields:JSON.stringify(U)})},W=()=>{try{return JSON.parse(M.webhook_fields)}catch{return _2()}};return m?i.jsx(On,{children:i.jsx("div",{className:"flex items-center justify-center h-96",children:i.jsx(ot,{className:"w-8 h-8 animate-spin text-primary"})})}):o?i.jsxs(On,{children:[i.jsxs("div",{className:"space-y-6 animate-fade-in max-w-5xl",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-display font-bold text-foreground",children:"Configuraes"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Personalize seu perfil, aparncia e integraes"})]}),i.jsxs(fe,{onClick:X,disabled:_,className:"btn-neon gap-2",children:[_?i.jsx(ot,{className:"w-4 h-4 animate-spin"}):i.jsx($a,{className:"w-4 h-4"}),"Salvar Alteraes"]})]}),i.jsxs(x2,{defaultValue:"profile",className:"space-y-6",children:[i.jsxs(Nx,{className:"glass-panel p-1",children:[i.jsxs(Zn,{value:"profile",className:"gap-2",children:[i.jsx(xa,{className:"w-4 h-4"}),"Perfil"]}),i.jsxs(Zn,{value:"appearance",className:"gap-2",children:[i.jsx(Xm,{className:"w-4 h-4"}),"Aparncia"]}),i.jsxs(Zn,{value:"branding",className:"gap-2",children:[i.jsx(Lu,{className:"w-4 h-4"}),"Branding"]}),i.jsxs(Zn,{value:"customization",className:"gap-2",children:[i.jsx(C_,{className:"w-4 h-4"}),"Textos"]}),i.jsxs(Zn,{value:"scripts",className:"gap-2",children:[i.jsx(Cs,{className:"w-4 h-4"}),"Scripts"]}),i.jsxs(Zn,{value:"roles",className:"gap-2",children:[i.jsx(ur,{className:"w-4 h-4"}),"Cargos"]}),i.jsxs(Zn,{value:"integrations",className:"gap-2",children:[i.jsx(Ch,{className:"w-4 h-4"}),"Integraes"]}),i.jsxs(Zn,{value:"menu",className:"gap-2",children:[i.jsx(v5,{className:"w-4 h-4"}),"Menu"]}),i.jsxs(Zn,{value:"changelogs",className:"gap-2",children:[i.jsx(Ei,{className:"w-4 h-4"}),"Changelogs"]}),i.jsxs(Zn,{value:"audit",className:"gap-2",children:[i.jsx(hc,{className:"w-4 h-4"}),"Auditoria"]})]}),i.jsx(es,{value:"profile",className:"space-y-6",children:i.jsxs("div",{className:"glass-panel rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[i.jsx("div",{className:"p-3 rounded-xl bg-primary/10 border border-primary/20",children:i.jsx(xa,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"font-display font-bold text-lg text-foreground",children:"Meu Perfil"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Personalize sua foto de perfil e informaes"})]}),i.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>S(!y),className:"gap-2",children:[i.jsx(Ka,{className:"w-4 h-4"}),y?"Cancelar":"Editar"]})]}),i.jsxs("div",{className:"flex items-start gap-8",children:[i.jsxs("div",{className:"flex flex-col items-center gap-3",children:[n&&s&&i.jsx(y2,{userId:n.id,currentAvatarUrl:s.avatar_url,userName:s.name,onAvatarChange:ge,size:"lg"}),i.jsx("p",{className:"text-xs text-muted-foreground text-center max-w-[120px]",children:"Clique para alterar seu avatar (.jpg, .png, .gif)"})]}),i.jsxs("div",{className:"flex-1 space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Nome"}),y?i.jsx(Oe,{value:E,onChange:U=>C(U.target.value),className:"glass-input"}):i.jsx(Oe,{value:(s==null?void 0:s.name)||"",disabled:!0,className:"glass-input opacity-70"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Username"}),y?i.jsx(Oe,{value:b,onChange:U=>j(U.target.value),className:"glass-input"}):i.jsx(Oe,{value:(s==null?void 0:s.username)||"",disabled:!0,className:"glass-input opacity-70"})]})]}),y&&i.jsxs(fe,{onClick:J,className:"btn-neon",children:[i.jsx($a,{className:"w-4 h-4 mr-2"}),"Salvar Perfil"]}),i.jsxs("div",{className:"p-4 rounded-lg bg-accent/50 border border-border",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(ur,{className:"w-4 h-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm font-medium",children:"Segurana"})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Para alterar sua senha, contate um administrador. Todas as senhas so armazenadas de forma segura com criptografia."})]})]})]})]})}),i.jsxs(es,{value:"appearance",className:"space-y-6",children:[i.jsxs("div",{className:"glass-panel rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[i.jsx("div",{className:"p-3 rounded-xl bg-warning/10 border border-warning/20",children:t==="dark"?i.jsx(Lf,{className:"w-5 h-5 text-warning"}):i.jsx(Mf,{className:"w-5 h-5 text-warning"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"font-display font-bold text-lg text-foreground",children:"Tema"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Alterne entre tema escuro e claro"})]})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-accent/50 border border-border",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Lf,{className:"w-5 h-5 text-muted-foreground"}),i.jsx("span",{className:"text-sm font-medium",children:"Tema Escuro"})]}),i.jsx(jc,{checked:t==="light",onCheckedChange:r}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-sm font-medium",children:"Tema Claro"}),i.jsx(Mf,{className:"w-5 h-5 text-muted-foreground"})]})]})]}),i.jsxs("div",{className:"glass-panel rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[i.jsx("div",{className:"p-3 rounded-xl bg-cyan-500/10 border border-cyan-500/20",children:i.jsx(S5,{className:"w-5 h-5 text-cyan-500"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"font-display font-bold text-lg text-foreground",children:"Efeitos Visuais"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Escolha um tema visual para o sistema"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("button",{onClick:()=>d("default"),className:`p-4 rounded-xl border-2 text-left transition-all ${u==="default"?"border-primary bg-primary/10":"border-border hover:border-primary/30 bg-accent/30"}`,children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 rounded-lg bg-muted",children:i.jsx(Ei,{className:"w-5 h-5 text-muted-foreground"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-foreground",children:"Padro"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Sem efeitos especiais"})]})]}),u==="default"&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-primary mt-2",children:[i.jsx(Er,{className:"w-3 h-3"}),"Ativo"]})]}),i.jsxs("button",{onClick:()=>d("christmas"),className:`p-4 rounded-xl border-2 text-left transition-all ${u==="christmas"?"border-red-500 bg-red-500/10":"border-border hover:border-red-500/30 bg-accent/30"}`,children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 rounded-lg bg-red-500/20",children:i.jsx(y5,{className:"w-5 h-5 text-red-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-foreground",children:" Natal"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Neve caindo + gorro de Papai Noel"})]})]}),u==="christmas"&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-red-500 mt-2",children:[i.jsx(Er,{className:"w-3 h-3"}),"Ativo"]})]})]})]}),i.jsxs("div",{className:"glass-panel rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[i.jsx("div",{className:"p-3 rounded-xl bg-purple-500/10 border border-purple-500/20",children:i.jsx(Ei,{className:"w-5 h-5 text-purple-500"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-display font-bold text-lg text-foreground",children:"Cores e Fontes"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Customize as cores e fontes do sistema"})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ve,{className:"flex items-center gap-2",children:[i.jsx(Bf,{className:"w-4 h-4 text-muted-foreground"}),i.jsx("span",{children:"Nome do Site"})]}),i.jsx(Oe,{value:M.site_name,onChange:U=>q({...M,site_name:U.target.value}),placeholder:"HOST MANAGER",className:"glass-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ve,{className:"flex items-center gap-2",children:[i.jsx(Bf,{className:"w-4 h-4 text-muted-foreground"}),i.jsx("span",{children:"Subttulo"})]}),i.jsx(Oe,{value:M.site_subtitle,onChange:U=>q({...M,site_subtitle:U.target.value}),placeholder:"Painel de Suporte",className:"glass-input"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs(ve,{className:"flex items-center gap-2",children:[i.jsx(Xm,{className:"w-4 h-4 text-muted-foreground"}),i.jsx("span",{children:"Cor Principal"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:bg.map(U=>i.jsx("button",{onClick:()=>q({...M,primary_color:U.value,custom_primary_color:""}),className:`w-10 h-10 rounded-lg border-2 transition-all ${M.primary_color===U.value&&!M.custom_primary_color?"border-foreground scale-110 shadow-lg":"border-transparent hover:scale-105"}`,style:{backgroundColor:U.color},title:U.label},U.value))}),i.jsxs("div",{className:"pt-3 border-t border-border",children:[i.jsx(ve,{className:"text-xs text-muted-foreground mb-2 block",children:"Ou escolha uma cor personalizada:"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Oe,{type:"color",value:M.custom_primary_color||N,onChange:U=>{R(U.target.value),q({...M,custom_primary_color:U.target.value,primary_color:"custom"})},className:"w-14 h-10 p-1 cursor-pointer rounded-lg"}),i.jsx(Oe,{type:"text",value:M.custom_primary_color||"",onChange:U=>q({...M,custom_primary_color:U.target.value,primary_color:"custom"}),placeholder:"#FF1F1F",className:"glass-input w-28 font-mono text-sm"}),M.custom_primary_color&&i.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>q({...M,custom_primary_color:"",primary_color:"red"}),className:"text-xs",children:"Limpar"})]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Salve para aplicar (sincroniza para todos)"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ve,{className:"flex items-center gap-2",children:[i.jsx(Bf,{className:"w-4 h-4 text-muted-foreground"}),i.jsx("span",{children:"Fonte do Sistema"})]}),i.jsxs(Yt,{value:M.font_family,onValueChange:U=>q({...M,font_family:U}),children:[i.jsx(Wt,{className:"glass-input",children:i.jsx(Jt,{})}),i.jsx(Ht,{children:mV.map(U=>i.jsx(He,{value:U.value,children:U.label},U.value))})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Salve para aplicar (sincroniza para todos)"})]})]}),i.jsxs("div",{className:"p-4 rounded-lg bg-accent/50 border border-border",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-2 uppercase tracking-wider",children:"Preview"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-white font-bold",style:{backgroundColor:M.custom_primary_color||((ee=bg.find(U=>U.value===M.primary_color))==null?void 0:ee.color)||bg[0].color},children:"H"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-display font-bold text-lg text-foreground",children:M.site_name||"HOST MANAGER"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:M.site_subtitle||"Painel de Suporte"})]})]})]})]})]})]}),i.jsxs(es,{value:"branding",className:"space-y-6",children:[i.jsxs("div",{className:"glass-panel rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[i.jsx("div",{className:"p-3 rounded-xl bg-primary/10 border border-primary/20",children:i.jsx(Lu,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-display font-bold text-lg text-foreground",children:"Logo do Site"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Substitua o cone padro por uma imagem personalizada (48x48px recomendado)"})]})]}),i.jsx(w2,{assetKey:"site-logo",currentUrl:M.site_logo_url||null,onAssetChange:P,label:"Logo",aspectRatio:"square",maxSize:2})]}),i.jsxs("div",{className:"glass-panel rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[i.jsx("div",{className:"p-3 rounded-xl bg-blue-500/10 border border-blue-500/20",children:i.jsx(Lu,{className:"w-5 h-5 text-blue-500"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-display font-bold text-lg text-foreground",children:"Plano de Fundo"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Adicione uma imagem de fundo personalizada ao site"})]})]}),i.jsx(w2,{assetKey:"site-background",currentUrl:M.site_background_url||null,onAssetChange:G,label:"Plano de Fundo",aspectRatio:"wide",maxSize:10})]})]}),i.jsxs(es,{value:"customization",className:"space-y-6",children:[i.jsxs("div",{className:"glass-panel rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[i.jsx("div",{className:"p-3 rounded-xl bg-blue-500/10 border border-blue-500/20",children:i.jsx(C_,{className:"w-5 h-5 text-blue-500"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-display font-bold text-lg text-foreground",children:"Textos da Navegao"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Personalize os nomes dos menus e sees"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Dashboard"}),i.jsx(Oe,{value:M.nav_dashboard,onChange:U=>q({...M,nav_dashboard:U.target.value}),className:"glass-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Nova Entrevista"}),i.jsx(Oe,{value:M.nav_interview,onChange:U=>q({...M,nav_interview:U.target.value}),className:"glass-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Usurios"}),i.jsx(Oe,{value:M.nav_users,onChange:U=>q({...M,nav_users:U.target.value}),className:"glass-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Perguntas"}),i.jsx(Oe,{value:M.nav_questions,onChange:U=>q({...M,nav_questions:U.target.value}),className:"glass-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Histrico"}),i.jsx(Oe,{value:M.nav_history,onChange:U=>q({...M,nav_history:U.target.value}),className:"glass-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Configuraes"}),i.jsx(Oe,{value:M.nav_settings,onChange:U=>q({...M,nav_settings:U.target.value}),className:"glass-input"})]})]})]}),i.jsxs("div",{className:"glass-panel rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[i.jsx("div",{className:"p-3 rounded-xl bg-green-500/10 border border-green-500/20",children:i.jsx(Cs,{className:"w-5 h-5 text-green-500"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-display font-bold text-lg text-foreground",children:"Ttulos das Pginas"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Personalize os ttulos e subttulos das pginas"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Ttulo Dashboard"}),i.jsx(Oe,{value:M.page_dashboard_title,onChange:U=>q({...M,page_dashboard_title:U.target.value}),className:"glass-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Subttulo Dashboard"}),i.jsx(Oe,{value:M.page_dashboard_subtitle,onChange:U=>q({...M,page_dashboard_subtitle:U.target.value}),className:"glass-input"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Ttulo Usurios"}),i.jsx(Oe,{value:M.page_users_title,onChange:U=>q({...M,page_users_title:U.target.value}),className:"glass-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Subttulo Usurios"}),i.jsx(Oe,{value:M.page_users_subtitle,onChange:U=>q({...M,page_users_subtitle:U.target.value}),className:"glass-input"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Ttulo Histrico"}),i.jsx(Oe,{value:M.page_history_title,onChange:U=>q({...M,page_history_title:U.target.value}),className:"glass-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Subttulo Histrico"}),i.jsx(Oe,{value:M.page_history_subtitle,onChange:U=>q({...M,page_history_subtitle:U.target.value}),className:"glass-input"})]})]})]})]}),i.jsxs("div",{className:"glass-panel rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[i.jsx("div",{className:"p-3 rounded-xl bg-orange-500/10 border border-orange-500/20",children:i.jsx(ur,{className:"w-5 h-5 text-orange-500"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-display font-bold text-lg text-foreground",children:"Textos da Entrevista"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Personalize os textos das fases da entrevista"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Fase 1 - Briefing"}),i.jsx(Oe,{value:M.interview_briefing_title,onChange:U=>q({...M,interview_briefing_title:U.target.value}),className:"glass-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Fase 2 - Candidato"}),i.jsx(Oe,{value:M.interview_candidate_title,onChange:U=>q({...M,interview_candidate_title:U.target.value}),className:"glass-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Fase 3 - Avaliao"}),i.jsx(Oe,{value:M.interview_evaluation_title,onChange:U=>q({...M,interview_evaluation_title:U.target.value}),className:"glass-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Fase 4 - Resultado"}),i.jsx(Oe,{value:M.interview_result_title,onChange:U=>q({...M,interview_result_title:U.target.value}),className:"glass-input"})]})]})]}),i.jsxs("div",{className:"glass-panel rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[i.jsx("div",{className:"p-3 rounded-xl bg-cyan-500/10 border border-cyan-500/20",children:i.jsx(Bf,{className:"w-5 h-5 text-cyan-500"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-display font-bold text-lg text-foreground",children:"Outros Textos"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Personalize textos diversos do sistema"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Label Status Sistema"}),i.jsx(Oe,{value:M.footer_status_label,onChange:U=>q({...M,footer_status_label:U.target.value}),className:"glass-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:'Texto "Conectado como"'}),i.jsx(Oe,{value:M.footer_connected_as,onChange:U=>q({...M,footer_connected_as:U.target.value}),className:"glass-input"})]})]})]})]}),i.jsx(es,{value:"scripts",className:"space-y-6",children:i.jsxs("div",{className:"glass-panel rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[i.jsx("div",{className:"p-3 rounded-xl bg-primary/10 border border-primary/20",children:i.jsx(Cs,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-display font-bold text-lg text-foreground",children:"Scripts de Entrevista"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Textos utilizados durante o processo de entrevista"})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ve,{className:"flex items-center gap-2",children:[i.jsx("span",{children:"Script de Introduo"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"(Briefing inicial)"})]}),i.jsx(An,{value:M.intro_script,onChange:U=>q({...M,intro_script:U.target.value}),placeholder:"Texto de introduo da entrevista...",className:"glass-input min-h-[120px]"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ve,{className:"flex items-center gap-2",children:[i.jsx("span",{children:"Script de Regras"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"(Explicao das regras)"})]}),i.jsx(An,{value:M.rules_script,onChange:U=>q({...M,rules_script:U.target.value}),placeholder:"Texto explicando as regras da entrevista...",className:"glass-input min-h-[120px]"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ve,{className:"flex items-center gap-2",children:[i.jsx(Er,{className:"w-4 h-4 text-success"}),i.jsx("span",{children:"Mensagem de Aprovao"})]}),i.jsx(An,{value:M.pass_message,onChange:U=>q({...M,pass_message:U.target.value}),placeholder:"Mensagem ao aprovar candidato...",className:"glass-input min-h-[100px]"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ve,{className:"flex items-center gap-2",children:[i.jsx(js,{className:"w-4 h-4 text-destructive"}),i.jsx("span",{children:"Mensagem de Reprovao"})]}),i.jsx(An,{value:M.fail_message,onChange:U=>q({...M,fail_message:U.target.value}),placeholder:"Mensagem ao reprovar candidato...",className:"glass-input min-h-[100px]"})]})]})]})]})}),i.jsx(es,{value:"roles",className:"space-y-6",children:i.jsxs("div",{className:"glass-panel rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[i.jsx("div",{className:"p-3 rounded-xl bg-purple-500/10 border border-purple-500/20",children:i.jsx(ur,{className:"w-5 h-5 text-purple-500"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-display font-bold text-lg text-foreground",children:"Gerenciamento de Cargos"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Edite permisses e cores dos cargos do sistema"})]})]}),i.jsxs("div",{className:"space-y-4",children:[Object.entries(f).map(([U,he])=>i.jsxs("div",{className:"p-4 rounded-xl border transition-all hover:border-opacity-50",style:{background:`linear-gradient(to bottom right, ${he.color}15, ${he.color}08)`,borderColor:`${he.color}30`},children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:`${he.color}25`},children:i.jsx(ur,{className:"w-5 h-5",style:{color:he.color}})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-display font-bold text-foreground",children:he.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:he.description})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium",style:{backgroundColor:`${he.color}20`,color:he.color},children:he.level}),i.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>{O(U),K(!0)},className:"hover:bg-accent",children:i.jsx(Ka,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mt-3",children:[he.permissions.filter(ce=>ce.enabled).slice(0,6).map(ce=>i.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[i.jsx(Er,{className:"w-3 h-3 text-success"}),i.jsx("span",{className:"text-muted-foreground",children:ce.label})]},ce.key)),he.permissions.filter(ce=>ce.enabled).length>6&&i.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[i.jsx(qr,{className:"w-3 h-3 text-muted-foreground"}),i.jsxs("span",{className:"text-muted-foreground",children:["+",he.permissions.filter(ce=>ce.enabled).length-6," mais"]})]})]})]},U)),i.jsx("div",{className:"p-4 rounded-lg bg-muted/50 border border-border",children:i.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[i.jsx(js,{className:"w-4 h-4"}),"Clique no cone de edio para modificar as permisses e cores de cada cargo."]})})]})]})}),i.jsx(es,{value:"integrations",className:"space-y-6",children:i.jsxs("div",{className:"glass-panel rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[i.jsx("div",{className:"p-3 rounded-xl bg-[#5865F2]/10 border border-[#5865F2]/20",children:i.jsx(Ch,{className:"w-5 h-5 text-[#5865F2]"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-display font-bold text-lg text-foreground",children:"Integrao Discord"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure o webhook para enviar resultados das entrevistas automaticamente"})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"p-4 rounded-lg bg-accent/30 border border-border space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ve,{className:"flex items-center gap-2",children:[i.jsx(Ch,{className:"w-4 h-4 text-[#5865F2]"}),"URL do Webhook Discord"]}),i.jsx(Oe,{type:"url",value:M.discord_webhook,onChange:U=>q({...M,discord_webhook:U.target.value}),placeholder:"https://discord.com/api/webhooks/...",className:"glass-input font-mono text-sm"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Cole aqui a URL do webhook do seu canal do Discord. Os resultados sero enviados automaticamente."})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(fe,{onClick:async()=>{w(!0);try{const{data:U}=await re.from("system_configs").select("id").eq("key","discord_webhook").maybeSingle();U?await re.from("system_configs").update({value:M.discord_webhook,updated_at:new Date().toISOString()}).eq("key","discord_webhook"):await re.from("system_configs").insert({key:"discord_webhook",value:M.discord_webhook}),await c(),e({title:"Sucesso",description:"Webhook salvo com sucesso!"})}catch{e({title:"Erro",description:"No foi possvel salvar o webhook.",variant:"destructive"})}finally{w(!1)}},disabled:!M.discord_webhook||_,className:"btn-neon gap-2",children:[_?i.jsx(ot,{className:"w-4 h-4 animate-spin"}):i.jsx($a,{className:"w-4 h-4"}),"Salvar Webhook"]}),i.jsxs(fe,{variant:"outline",onClick:Y,disabled:!M.discord_webhook,className:"gap-2",children:[i.jsx(Ei,{className:"w-4 h-4"}),"Testar"]}),M.discord_webhook&&i.jsxs("span",{className:"flex items-center gap-1 text-xs text-success",children:[i.jsx(Er,{className:"w-3 h-3"}),"Configurado"]})]})]}),i.jsxs("div",{className:"pt-4 border-t border-border",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(ve,{children:"Campos do Embed"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"(selecione quais informaes enviar)"})]}),i.jsx(cV,{fields:W(),onChange:B})]})]})]})}),i.jsx(es,{value:"menu",className:"space-y-6",children:i.jsx(Gz,{})}),i.jsx(es,{value:"changelogs",className:"space-y-6",children:i.jsx(pV,{})}),i.jsx(es,{value:"audit",className:"space-y-6",children:i.jsx(hV,{})})]})]}),k&&i.jsx(uV,{open:L,onOpenChange:K,roleKey:k,roleConfig:f[k],onSave:async(U,he)=>{const ce=await h(U,he);return ce&&(await p(),K(!1)),ce}})]}):i.jsx(On,{children:i.jsxs("div",{className:"space-y-6 animate-fade-in max-w-3xl",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-display font-bold text-foreground",children:"Configuraes"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Personalize sua experincia"})]}),i.jsxs(x2,{defaultValue:"profile",className:"space-y-6",children:[i.jsxs(Nx,{className:"glass-panel p-1",children:[i.jsxs(Zn,{value:"profile",className:"gap-2",children:[i.jsx(xa,{className:"w-4 h-4"}),"Perfil"]}),i.jsxs(Zn,{value:"appearance",className:"gap-2",children:[i.jsx(Xm,{className:"w-4 h-4"}),"Tema"]})]}),i.jsx(es,{value:"profile",className:"space-y-6",children:i.jsxs("div",{className:"glass-panel rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[i.jsx("div",{className:"p-3 rounded-xl bg-primary/10 border border-primary/20",children:i.jsx(xa,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-display font-bold text-lg text-foreground",children:"Meu Perfil"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Personalize sua foto de perfil"})]})]}),i.jsxs("div",{className:"flex items-start gap-8",children:[i.jsxs("div",{className:"flex flex-col items-center gap-3",children:[n&&s&&i.jsx(y2,{userId:n.id,currentAvatarUrl:s.avatar_url,userName:s.name,onAvatarChange:ge,size:"lg"}),i.jsx("p",{className:"text-xs text-muted-foreground text-center max-w-[120px]",children:"Clique para alterar seu avatar"})]}),i.jsx("div",{className:"flex-1 space-y-4",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Nome"}),i.jsx(Oe,{value:(s==null?void 0:s.name)||"",disabled:!0,className:"glass-input opacity-70"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Username"}),i.jsx(Oe,{value:(s==null?void 0:s.username)||"",disabled:!0,className:"glass-input opacity-70"})]})]})})]})]})}),i.jsx(es,{value:"appearance",className:"space-y-6",children:i.jsxs("div",{className:"glass-panel rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[i.jsx("div",{className:"p-3 rounded-xl bg-warning/10 border border-warning/20",children:t==="dark"?i.jsx(Lf,{className:"w-5 h-5 text-warning"}):i.jsx(Mf,{className:"w-5 h-5 text-warning"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"font-display font-bold text-lg text-foreground",children:"Tema"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Alterne entre tema escuro e claro"})]})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-accent/50 border border-border",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Lf,{className:"w-5 h-5 text-muted-foreground"}),i.jsx("span",{className:"text-sm font-medium",children:"Tema Escuro"})]}),i.jsx(jc,{checked:t==="light",onCheckedChange:r}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-sm font-medium",children:"Tema Claro"}),i.jsx(Mf,{className:"w-5 h-5 text-muted-foreground"})]})]})]})})]})]})})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var W0={};W0.version="0.18.5";var QA=1252,vV=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],ZA=function(e){vV.indexOf(e)!=-1&&(QA=e)};function xV(){ZA(1252)}var kd=function(e){ZA(e)};function yV(){kd(1200),xV()}var ah=function(t){return String.fromCharCode(t)},b2=function(t){return String.fromCharCode(t)},yo,Ai="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ad(e){for(var t="",r=0,n=0,s=0,a=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),a=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,s=e.charCodeAt(u++),l=(n&15)<<2|s>>6,c=s&63,isNaN(n)?l=c=64:isNaN(s)&&(c=64),t+=Ai.charAt(a)+Ai.charAt(o)+Ai.charAt(l)+Ai.charAt(c);return t}function Ja(e){var t="",r=0,n=0,s=0,a=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)a=Ai.indexOf(e.charAt(u++)),o=Ai.indexOf(e.charAt(u++)),r=a<<2|o>>4,t+=String.fromCharCode(r),l=Ai.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=Ai.indexOf(e.charAt(u++)),s=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(s));return t}var Ct=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),ti=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function qo(e){return Ct?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function S2(e){return Ct?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Xs=function(t){return Ct?ti(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function lm(e){if(typeof ArrayBuffer>"u")return Xs(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function uf(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function wV(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var nn=Ct?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:ti(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),s=0;for(t=0,r=0;t<e.length;r+=s,++t)if(s=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function _V(e){for(var t=[],r=0,n=e.length+250,s=qo(e.length+255),a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o<128)s[r++]=o;else if(o<2048)s[r++]=192|o>>6&31,s[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++a)&1023;s[r++]=240|o>>8&7,s[r++]=128|o>>2&63,s[r++]=128|l>>6&15|(o&3)<<4,s[r++]=128|l&63}else s[r++]=224|o>>12&15,s[r++]=128|o>>6&63,s[r++]=128|o&63;r>n&&(t.push(s.slice(0,r)),r=0,s=qo(65535),n=65530)}return t.push(s.slice(0,r)),nn(t)}var Uu=/\u0000/g,ih=/[\u0001-\u0006]/g;function ql(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Js(e,t){var r=""+e;return r.length>=t?r:yr("0",t-r.length)+r}function zy(e,t){var r=""+e;return r.length>=t?r:yr(" ",t-r.length)+r}function H0(e,t){var r=""+e;return r.length>=t?r:r+yr(" ",t-r.length)}function bV(e,t){var r=""+Math.round(e);return r.length>=t?r:yr("0",t-r.length)+r}function SV(e,t){var r=""+e;return r.length>=t?r:yr("0",t-r.length)+r}var E2=Math.pow(2,32);function pl(e,t){if(e>E2||e<-E2)return bV(e,t);var r=Math.round(e);return SV(r,t)}function G0(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var N2=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Sg=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function EV(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var wr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},j2={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},NV={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function q0(e,t,r){for(var n=e<0?-1:1,s=e*n,a=0,o=1,l=0,c=1,u=0,d=0,f=Math.floor(s);u<t&&(f=Math.floor(s),l=f*o+a,d=f*u+c,!(s-f<5e-8));)s=1/(s-f),a=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=a):(d=u,l=o)),!r)return[0,n*l,d];var h=Math.floor(n*l/d);return[h,n*l-h*d,d]}function oh(e,t,r){if(e>2958465||e<0)return null;var n=e|0,s=Math.floor(86400*(e-n)),a=0,o=[],l={D:n,T:s,u:86400*(e-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++s==86400&&(l.T=s=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],a=c.getDay(),n<60&&(a=(a+6)%7),r&&(a=OV(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=s%60,s=Math.floor(s/60),l.M=s%60,s=Math.floor(s/60),l.H=s,l.q=a,l}var eR=new Date(1899,11,31,0,0,0),jV=eR.getTime(),CV=new Date(1900,2,1,0,0,0);function tR(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=CV&&(r+=24*60*60*1e3),(r-(jV+(e.getTimezoneOffset()-eR.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Vy(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function TV(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function kV(e){var t=e<0?12:11,r=Vy(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function AV(e){var t=Vy(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function RV(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=kV(e):t===10?r=e.toFixed(10).substr(0,12):r=AV(e),Vy(TV(r.toUpperCase()))}function jx(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):RV(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Yi(14,tR(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function OV(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function PV(e,t,r,n){var s="",a=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return Sg[r.m-1][1];case 5:return Sg[r.m-1][0];default:return Sg[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return N2[r.q][0];default:return N2[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Js(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,a=Math.round(o*(r.S+r.u)),a>=60*o&&(a=0),t==="s"?a===0?"0":""+a/o:(s=Js(a,2+n),t==="ss"?s.substr(0,2):"."+s.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?Js(c,u):"";return d}function Ri(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var rR=/%/g;function IV(e,t,r){var n=t.replace(rR,""),s=t.length-n.length;return Ua(e,n,r*Math.pow(10,2*s))+yr("%",s)}function DV(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ua(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function nR(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+nR(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%s;if(a<0&&(a+=s),r=(t/Math.pow(10,a)).toPrecision(n+1+(s+a)%s),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+a):r+="E+"+(o-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(s+a)%s)+"."+d.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var sR=/# (\?+)( ?)\/( ?)(\d+)/;function FV(e,t,r){var n=parseInt(e[4],10),s=Math.round(t*n),a=Math.floor(s/n),o=s-a*n,l=n;return r+(a===0?"":""+a)+" "+(o===0?yr(" ",e[1].length+1+e[4].length):zy(o,e[1].length)+e[2]+"/"+e[3]+Js(l,e[4].length))}function LV(e,t,r){return r+(t===0?"":""+t)+yr(" ",e[1].length+2+e[4].length)}var aR=/^#*0*\.([0#]+)/,iR=/\).*[0#]/,oR=/\(###\) ###\\?-####/;function Cn(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function C2(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function T2(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function MV(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function BV(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function vs(e,t,r){if(e.charCodeAt(0)===40&&!t.match(iR)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?vs("n",n,r):"("+vs("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return DV(e,t,r);if(t.indexOf("%")!==-1)return IV(e,t,r);if(t.indexOf("E")!==-1)return nR(t,r);if(t.charCodeAt(0)===36)return"$"+vs(e,t.substr(t.charAt(1)==" "?2:1),r);var s,a,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+pl(c,t.length);if(t.match(/^[#?]+$/))return s=pl(r,0),s==="0"&&(s=""),s.length>t.length?s:Cn(t.substr(0,t.length-s.length))+s;if(a=t.match(sR))return FV(a,c,u);if(t.match(/^#+0+$/))return u+pl(c,t.length-t.indexOf("0"));if(a=t.match(aR))return s=C2(r,a[1].length).replace(/^([^\.]+)$/,"$1."+Cn(a[1])).replace(/\.$/,"."+Cn(a[1])).replace(/\.(\d*)$/,function(x,m){return"."+m+yr("0",Cn(a[1]).length-m.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+C2(c,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+Ri(pl(c,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+vs(e,t,-r):Ri(""+(Math.floor(r)+MV(r,a[1].length)))+"."+Js(T2(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return vs(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=ql(vs(e,t.replace(/[\\-]/g,""),r)),o=0,ql(ql(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<s.length?s.charAt(o++):x==="0"?"0":""}));if(t.match(oR))return s=vs(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var d="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),l=q0(c,Math.pow(10,o)-1,!1),s=""+u,d=Ua("n",a[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),s+=d+a[2]+"/"+a[3],d=H0(l[2],o),d.length<a[4].length&&(d=Cn(a[4].substr(a[4].length-d.length))+d),s+=d,s;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),l=q0(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?zy(l[1],o)+a[2]+"/"+a[3]+H0(l[2],o):yr(" ",2*o+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return s=pl(r,0),t.length<=s.length?s:Cn(t.substr(0,t.length-s.length))+s;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var f=t.indexOf(".")-o,h=t.length-s.length-f;return Cn(t.substr(0,f)+s+t.substr(t.length-h))}if(a=t.match(/^00,000\.([#0]*0)$/))return o=T2(r,a[1].length),r<0?"-"+vs(e,t,-r):Ri(BV(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?Js(0,3-x.length):"")+x})+"."+Js(o,a[1].length);switch(t){case"###,##0.00":return vs(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=Ri(pl(c,0));return p!=="0"?u+p:"";case"###,###.00":return vs(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return vs(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function $V(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ua(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function UV(e,t,r){var n=t.replace(rR,""),s=t.length-n.length;return Ua(e,n,r*Math.pow(10,2*s))+yr("%",s)}function lR(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+lR(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%s;if(a<0&&(a+=s),r=(t/Math.pow(10,a)).toPrecision(n+1+(s+a)%s),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+a):r+="E+"+(o-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(s+a)%s)+"."+d.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ua(e,t,r){if(e.charCodeAt(0)===40&&!t.match(iR)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ua("n",n,r):"("+ua("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return $V(e,t,r);if(t.indexOf("%")!==-1)return UV(e,t,r);if(t.indexOf("E")!==-1)return lR(t,r);if(t.charCodeAt(0)===36)return"$"+ua(e,t.substr(t.charAt(1)==" "?2:1),r);var s,a,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Js(c,t.length);if(t.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>t.length?s:Cn(t.substr(0,t.length-s.length))+s;if(a=t.match(sR))return LV(a,c,u);if(t.match(/^#+0+$/))return u+Js(c,t.length-t.indexOf("0"));if(a=t.match(aR))return s=(""+r).replace(/^([^\.]+)$/,"$1."+Cn(a[1])).replace(/\.$/,"."+Cn(a[1])),s=s.replace(/\.(\d*)$/,function(x,m){return"."+m+yr("0",Cn(a[1]).length-m.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+Ri(""+c);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ua(e,t,-r):Ri(""+r)+"."+yr("0",a[1].length);if(a=t.match(/^#,#*,#0/))return ua(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=ql(ua(e,t.replace(/[\\-]/g,""),r)),o=0,ql(ql(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<s.length?s.charAt(o++):x==="0"?"0":""}));if(t.match(oR))return s=ua(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var d="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),l=q0(c,Math.pow(10,o)-1,!1),s=""+u,d=Ua("n",a[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),s+=d+a[2]+"/"+a[3],d=H0(l[2],o),d.length<a[4].length&&(d=Cn(a[4].substr(a[4].length-d.length))+d),s+=d,s;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),l=q0(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?zy(l[1],o)+a[2]+"/"+a[3]+H0(l[2],o):yr(" ",2*o+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return s=""+r,t.length<=s.length?s:Cn(t.substr(0,t.length-s.length))+s;if(a=t.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var f=t.indexOf(".")-o,h=t.length-s.length-f;return Cn(t.substr(0,f)+s+t.substr(t.length-h))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ua(e,t,-r):Ri(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?Js(0,3-x.length):"")+x})+"."+Js(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=Ri(""+c);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return ua(e,t.slice(0,t.lastIndexOf(".")),r)+Cn(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Ua(e,t,r){return(r|0)===r?ua(e,t,r):vs(e,t,r)}function zV(e){for(var t=[],r=!1,n=0,s=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(s,n-s),s=n+1}if(t[t.length]=e.substr(s),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var cR=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function uR(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":G0(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(cR))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function VV(e,t,r,n){for(var s=[],a="",o=0,l="",c="t",u,d,f,h="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!G0(e,o))throw new Error("unrecognized character "+l+" in "+e);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(a="";(f=e.charCodeAt(++o))!==34&&o<e.length;)a+=String.fromCharCode(f);s[s.length]={t:"t",v:a},++o;break;case"\\":var p=e.charAt(++o),x=p==="("||p===")"?p:"t";s[s.length]={t:x,v:p},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=oh(t,r,e.charAt(o+1)==="2"),u==null))return"";s[s.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=oh(t,r),u==null))return"";for(a=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)a+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),s[s.length]={t:l,v:a},c=l;break;case"A":case"a":case"":var m={t:l,v:l};if(u==null&&(u=oh(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(m.v=u.H>=12?"P":"A"),m.t="T",h="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(m.v=u.H>=12?"PM":"AM"),m.t="T",o+=5,h="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(m.v=u.H>=12?"":""),m.t="T",o+=5,h="h"):(m.t="t",++o),u==null&&m.t==="T")return"";s[s.length]=m,c=l;break;case"[":for(a=l;e.charAt(o++)!=="]"&&o<e.length;)a+=e.charAt(o);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(cR)){if(u==null&&(u=oh(t,r),u==null))return"";s[s.length]={t:"Z",v:a.toLowerCase()},c=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",uR(e)||(s[s.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=l;++o<e.length&&(l=e.charAt(o))==="0";)a+=l;s[s.length]={t:"s",v:a};break}case"0":case"#":for(a=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)a+=l;s[s.length]={t:"n",v:a};break;case"?":for(a=l;e.charAt(++o)===l;)a+=l;s[s.length]={t:l,v:a},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)a+=e.charAt(o);s[s.length]={t:"D",v:a};break;case" ":s[s.length]={t:l,v:l},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);s[s.length]={t:"t",v:l},++o;break}var v=0,_=0,w;for(o=s.length-1,c="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=h,c="h",v<1&&(v=1);break;case"s":(w=s[o].v.match(/\.0+$/))&&(_=Math.max(_,w[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=s[o].t;break;case"m":c==="s"&&(s[o].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&s[o].v.match(/[Hh]/)&&(v=1),v<2&&s[o].v.match(/[Mm]/)&&(v=2),v<3&&s[o].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var y="",S;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=PV(s[o].t.charCodeAt(0),s[o].v,u,_),s[o].t="t";break;case"n":case"?":for(S=o+1;s[S]!=null&&((l=s[S].t)==="?"||l==="D"||(l===" "||l==="t")&&s[S+1]!=null&&(s[S+1].t==="?"||s[S+1].t==="t"&&s[S+1].v==="/")||s[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(s[S].v==="/"||s[S].v===" "&&s[S+1]!=null&&s[S+1].t=="?"));)s[o].v+=s[S].v,s[S]={v:"",t:";"},++S;y+=s[o].v,o=S-1;break;case"G":s[o].t="t",s[o].v=jx(t,r);break}var E="",C,b;if(y.length>0){y.charCodeAt(0)==40?(C=t<0&&y.charCodeAt(0)===45?-t:t,b=Ua("n",y,C)):(C=t<0&&n>1?-t:t,b=Ua("n",y,C),C<0&&s[0]&&s[0].t=="t"&&(b=b.substr(1),s[0].v="-"+s[0].v)),S=b.length-1;var j=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){j=o;break}var N=s.length;if(j===s.length&&b.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(S>=s[o].v.length-1?(S-=s[o].v.length,s[o].v=b.substr(S+1,s[o].v.length)):S<0?s[o].v="":(s[o].v=b.substr(0,S+1),S=-1),s[o].t="t",N=o);S>=0&&N<s.length&&(s[N].v=b.substr(0,S+1)+s[N].v)}else if(j!==s.length&&b.indexOf("E")===-1){for(S=b.indexOf(".")-1,o=j;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(d=s[o].v.indexOf(".")>-1&&o===j?s[o].v.indexOf(".")-1:s[o].v.length-1,E=s[o].v.substr(d+1);d>=0;--d)S>=0&&(s[o].v.charAt(d)==="0"||s[o].v.charAt(d)==="#")&&(E=b.charAt(S--)+E);s[o].v=E,s[o].t="t",N=o}for(S>=0&&N<s.length&&(s[N].v=b.substr(0,S+1)+s[N].v),S=b.indexOf(".")+1,o=j;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==j)){for(d=s[o].v.indexOf(".")>-1&&o===j?s[o].v.indexOf(".")+1:0,E=s[o].v.substr(0,d);d<s[o].v.length;++d)S<b.length&&(E+=b.charAt(S++));s[o].v=E,s[o].t="t",N=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(C=n>1&&t<0&&o>0&&s[o-1].v==="-"?-t:t,s[o].v=Ua(s[o].t,s[o].v,C),s[o].t="t");var R="";for(o=0;o!==s.length;++o)s[o]!=null&&(R+=s[o].v);return R}var k2=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function A2(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function WV(e,t){var r=zV(e),n=r.length,s=r[n-1].indexOf("@");if(n<4&&s>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(k2),l=r[1].match(k2);return A2(t,o)?[n,r[0]]:A2(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,a]}function Yi(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:wr)[e],n==null&&(n=r.table&&r.table[j2[e]]||wr[j2[e]]),n==null&&(n=NV[e]||"General");break}if(G0(n,0))return jx(t,r);t instanceof Date&&(t=tR(t,r.date1904));var s=WV(n,t);if(G0(s[1]))return jx(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return VV(s[1],t,r,s[0])}function dR(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(wr[r]==null){t<0&&(t=r);continue}if(wr[r]==e){t=r;break}}t<0&&(t=391)}return wr[t]=e,t}function cm(e){for(var t=0;t!=392;++t)e[t]!==void 0&&dR(e[t],t)}function um(){wr=EV()}var fR=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function HV(e){var t=typeof e=="number"?wr[e]:e;return t=t.replace(fR,"(\\d+)"),new RegExp("^"+t+"$")}function GV(e,t,r){var n=-1,s=-1,a=-1,o=-1,l=-1,c=-1;(t.match(fR)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":a=p;break;case"h":o=p;break;case"s":c=p;break;case"m":o>=0?l=p:s=p;break}}),c>=0&&l==-1&&s>=0&&(l=s,s=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&s==-1&&a==-1?d:u+"T"+d}var qV=function(){var e={};e.version="1.2.0";function t(){for(var b=0,j=new Array(256),N=0;N!=256;++N)b=N,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,j[N]=b;return typeof Int32Array<"u"?new Int32Array(j):j}var r=t();function n(b){var j=0,N=0,R=0,k=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(R=0;R!=256;++R)k[R]=b[R];for(R=0;R!=256;++R)for(N=b[R],j=256+R;j<4096;j+=256)N=k[j]=N>>>8^b[N&255];var O=[];for(R=1;R!=16;++R)O[R-1]=typeof Int32Array<"u"?k.subarray(R*256,R*256+256):k.slice(R*256,R*256+256);return O}var s=n(r),a=s[0],o=s[1],l=s[2],c=s[3],u=s[4],d=s[5],f=s[6],h=s[7],p=s[8],x=s[9],m=s[10],v=s[11],_=s[12],w=s[13],y=s[14];function S(b,j){for(var N=j^-1,R=0,k=b.length;R<k;)N=N>>>8^r[(N^b.charCodeAt(R++))&255];return~N}function E(b,j){for(var N=j^-1,R=b.length-15,k=0;k<R;)N=y[b[k++]^N&255]^w[b[k++]^N>>8&255]^_[b[k++]^N>>16&255]^v[b[k++]^N>>>24]^m[b[k++]]^x[b[k++]]^p[b[k++]]^h[b[k++]]^f[b[k++]]^d[b[k++]]^u[b[k++]]^c[b[k++]]^l[b[k++]]^o[b[k++]]^a[b[k++]]^r[b[k++]];for(R+=15;k<R;)N=N>>>8^r[(N^b[k++])&255];return~N}function C(b,j){for(var N=j^-1,R=0,k=b.length,O=0,L=0;R<k;)O=b.charCodeAt(R++),O<128?N=N>>>8^r[(N^O)&255]:O<2048?(N=N>>>8^r[(N^(192|O>>6&31))&255],N=N>>>8^r[(N^(128|O&63))&255]):O>=55296&&O<57344?(O=(O&1023)+64,L=b.charCodeAt(R++)&1023,N=N>>>8^r[(N^(240|O>>8&7))&255],N=N>>>8^r[(N^(128|O>>2&63))&255],N=N>>>8^r[(N^(128|L>>6&15|(O&3)<<4))&255],N=N>>>8^r[(N^(128|L&63))&255]):(N=N>>>8^r[(N^(224|O>>12&15))&255],N=N>>>8^r[(N^(128|O>>6&63))&255],N=N>>>8^r[(N^(128|O&63))&255]);return~N}return e.table=r,e.bstr=S,e.buf=E,e.str=C,e}(),Mt=function(){var t={};t.version="1.2.1";function r(T,F){for(var I=T.split("/"),D=F.split("/"),z=0,V=0,ae=Math.min(I.length,D.length);z<ae;++z){if(V=I[z].length-D[z].length)return V;if(I[z]!=D[z])return I[z]<D[z]?-1:1}return I.length-D.length}function n(T){if(T.charAt(T.length-1)=="/")return T.slice(0,-1).indexOf("/")===-1?T:n(T.slice(0,-1));var F=T.lastIndexOf("/");return F===-1?T:T.slice(0,F+1)}function s(T){if(T.charAt(T.length-1)=="/")return s(T.slice(0,-1));var F=T.lastIndexOf("/");return F===-1?T:T.slice(F+1)}function a(T,F){typeof F=="string"&&(F=new Date(F));var I=F.getHours();I=I<<6|F.getMinutes(),I=I<<5|F.getSeconds()>>>1,T.write_shift(2,I);var D=F.getFullYear()-1980;D=D<<4|F.getMonth()+1,D=D<<5|F.getDate(),T.write_shift(2,D)}function o(T){var F=T.read_shift(2)&65535,I=T.read_shift(2)&65535,D=new Date,z=I&31;I>>>=5;var V=I&15;I>>>=4,D.setMilliseconds(0),D.setFullYear(I+1980),D.setMonth(V-1),D.setDate(z);var ae=F&31;F>>>=5;var me=F&63;return F>>>=6,D.setHours(F),D.setMinutes(me),D.setSeconds(ae<<1),D}function l(T){ns(T,0);for(var F={},I=0;T.l<=T.length-4;){var D=T.read_shift(2),z=T.read_shift(2),V=T.l+z,ae={};switch(D){case 21589:I=T.read_shift(1),I&1&&(ae.mtime=T.read_shift(4)),z>5&&(I&2&&(ae.atime=T.read_shift(4)),I&4&&(ae.ctime=T.read_shift(4))),ae.mtime&&(ae.mt=new Date(ae.mtime*1e3));break}T.l=V,F[D]=ae}return F}var c;function u(){return c||(c={})}function d(T,F){if(T[0]==80&&T[1]==75)return Ye(T,F);if((T[0]|32)==109&&(T[1]|32)==105)return ir(T,F);if(T.length<512)throw new Error("CFB file size "+T.length+" < 512");var I=3,D=512,z=0,V=0,ae=0,me=0,se=0,oe=[],le=T.slice(0,512);ns(le,0);var be=f(le);switch(I=be[0],I){case 3:D=512;break;case 4:D=4096;break;case 0:if(be[1]==0)return Ye(T,F);default:throw new Error("Major Version: Expected 3 or 4 saw "+I)}D!==512&&(le=T.slice(0,D),ns(le,28));var ke=T.slice(0,D);h(le,I);var Me=le.read_shift(4,"i");if(I===3&&Me!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Me);le.l+=4,ae=le.read_shift(4,"i"),le.l+=4,le.chk("00100000","Mini Stream Cutoff Size: "),me=le.read_shift(4,"i"),z=le.read_shift(4,"i"),se=le.read_shift(4,"i"),V=le.read_shift(4,"i");for(var Ne=-1,Ie=0;Ie<109&&(Ne=le.read_shift(4,"i"),!(Ne<0));++Ie)oe[Ie]=Ne;var lt=p(T,D);v(se,V,lt,D,oe);var or=w(lt,ae,oe,D);or[ae].name="!Directory",z>0&&me!==L&&(or[me].name="!MiniFAT"),or[oe[0]].name="!FAT",or.fat_addrs=oe,or.ssz=D;var lr={},dn=[],eu=[],tu=[];y(ae,or,lt,dn,z,lr,eu,me),x(eu,tu,dn),dn.shift();var ru={FileIndex:eu,FullPaths:tu};return F&&F.raw&&(ru.raw={header:ke,sectors:lt}),ru}function f(T){if(T[T.l]==80&&T[T.l+1]==75)return[0,0];T.chk(K,"Header Signature: "),T.l+=16;var F=T.read_shift(2,"u");return[T.read_shift(2,"u"),F]}function h(T,F){var I=9;switch(T.l+=2,I=T.read_shift(2)){case 9:if(F!=3)throw new Error("Sector Shift: Expected 9 saw "+I);break;case 12:if(F!=4)throw new Error("Sector Shift: Expected 12 saw "+I);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+I)}T.chk("0600","Mini Sector Shift: "),T.chk("000000000000","Reserved: ")}function p(T,F){for(var I=Math.ceil(T.length/F)-1,D=[],z=1;z<I;++z)D[z-1]=T.slice(z*F,(z+1)*F);return D[I-1]=T.slice(I*F),D}function x(T,F,I){for(var D=0,z=0,V=0,ae=0,me=0,se=I.length,oe=[],le=[];D<se;++D)oe[D]=le[D]=D,F[D]=I[D];for(;me<le.length;++me)D=le[me],z=T[D].L,V=T[D].R,ae=T[D].C,oe[D]===D&&(z!==-1&&oe[z]!==z&&(oe[D]=oe[z]),V!==-1&&oe[V]!==V&&(oe[D]=oe[V])),ae!==-1&&(oe[ae]=D),z!==-1&&D!=oe[D]&&(oe[z]=oe[D],le.lastIndexOf(z)<me&&le.push(z)),V!==-1&&D!=oe[D]&&(oe[V]=oe[D],le.lastIndexOf(V)<me&&le.push(V));for(D=1;D<se;++D)oe[D]===D&&(V!==-1&&oe[V]!==V?oe[D]=oe[V]:z!==-1&&oe[z]!==z&&(oe[D]=oe[z]));for(D=1;D<se;++D)if(T[D].type!==0){if(me=D,me!=oe[me])do me=oe[me],F[D]=F[me]+"/"+F[D];while(me!==0&&oe[me]!==-1&&me!=oe[me]);oe[D]=-1}for(F[0]+="/",D=1;D<se;++D)T[D].type!==2&&(F[D]+="/")}function m(T,F,I){for(var D=T.start,z=T.size,V=[],ae=D;I&&z>0&&ae>=0;)V.push(F.slice(ae*O,ae*O+O)),z-=O,ae=wo(I,ae*4);return V.length===0?pe(0):nn(V).slice(0,T.size)}function v(T,F,I,D,z){var V=L;if(T===L){if(F!==0)throw new Error("DIFAT chain shorter than expected")}else if(T!==-1){var ae=I[T],me=(D>>>2)-1;if(!ae)return;for(var se=0;se<me&&(V=wo(ae,se*4))!==L;++se)z.push(V);v(wo(ae,D-4),F-1,I,D,z)}}function _(T,F,I,D,z){var V=[],ae=[];z||(z=[]);var me=D-1,se=0,oe=0;for(se=F;se>=0;){z[se]=!0,V[V.length]=se,ae.push(T[se]);var le=I[Math.floor(se*4/D)];if(oe=se*4&me,D<4+oe)throw new Error("FAT boundary crossed: "+se+" 4 "+D);if(!T[le])break;se=wo(T[le],oe)}return{nodes:V,data:M2([ae])}}function w(T,F,I,D){var z=T.length,V=[],ae=[],me=[],se=[],oe=D-1,le=0,be=0,ke=0,Me=0;for(le=0;le<z;++le)if(me=[],ke=le+F,ke>=z&&(ke-=z),!ae[ke]){se=[];var Ne=[];for(be=ke;be>=0;){Ne[be]=!0,ae[be]=!0,me[me.length]=be,se.push(T[be]);var Ie=I[Math.floor(be*4/D)];if(Me=be*4&oe,D<4+Me)throw new Error("FAT boundary crossed: "+be+" 4 "+D);if(!T[Ie]||(be=wo(T[Ie],Me),Ne[be]))break}V[ke]={nodes:me,data:M2([se])}}return V}function y(T,F,I,D,z,V,ae,me){for(var se=0,oe=D.length?2:0,le=F[T].data,be=0,ke=0,Me;be<le.length;be+=128){var Ne=le.slice(be,be+128);ns(Ne,64),ke=Ne.read_shift(2),Me=Ky(Ne,0,ke-oe),D.push(Me);var Ie={name:Me,type:Ne.read_shift(1),color:Ne.read_shift(1),L:Ne.read_shift(4,"i"),R:Ne.read_shift(4,"i"),C:Ne.read_shift(4,"i"),clsid:Ne.read_shift(16),state:Ne.read_shift(4,"i"),start:0,size:0},lt=Ne.read_shift(2)+Ne.read_shift(2)+Ne.read_shift(2)+Ne.read_shift(2);lt!==0&&(Ie.ct=S(Ne,Ne.l-8));var or=Ne.read_shift(2)+Ne.read_shift(2)+Ne.read_shift(2)+Ne.read_shift(2);or!==0&&(Ie.mt=S(Ne,Ne.l-8)),Ie.start=Ne.read_shift(4,"i"),Ie.size=Ne.read_shift(4,"i"),Ie.size<0&&Ie.start<0&&(Ie.size=Ie.type=0,Ie.start=L,Ie.name=""),Ie.type===5?(se=Ie.start,z>0&&se!==L&&(F[se].name="!StreamData")):Ie.size>=4096?(Ie.storage="fat",F[Ie.start]===void 0&&(F[Ie.start]=_(I,Ie.start,F.fat_addrs,F.ssz)),F[Ie.start].name=Ie.name,Ie.content=F[Ie.start].data.slice(0,Ie.size)):(Ie.storage="minifat",Ie.size<0?Ie.size=0:se!==L&&Ie.start!==L&&F[se]&&(Ie.content=m(Ie,F[se].data,(F[me]||{}).data))),Ie.content&&ns(Ie.content,0),V[Me]=Ie,ae.push(Ie)}}function S(T,F){return new Date((is(T,F+4)/1e7*Math.pow(2,32)+is(T,F)/1e7-11644473600)*1e3)}function E(T,F){return u(),d(c.readFileSync(T),F)}function C(T,F){var I=F&&F.type;switch(I||Ct&&Buffer.isBuffer(T)&&(I="buffer"),I||"base64"){case"file":return E(T,F);case"base64":return d(Xs(Ja(T)),F);case"binary":return d(Xs(T),F)}return d(T,F)}function b(T,F){var I=F||{},D=I.root||"Root Entry";if(T.FullPaths||(T.FullPaths=[]),T.FileIndex||(T.FileIndex=[]),T.FullPaths.length!==T.FileIndex.length)throw new Error("inconsistent CFB structure");T.FullPaths.length===0&&(T.FullPaths[0]=D+"/",T.FileIndex[0]={name:D,type:5}),I.CLSID&&(T.FileIndex[0].clsid=I.CLSID),j(T)}function j(T){var F="Sh33tJ5";if(!Mt.find(T,"/"+F)){var I=pe(4);I[0]=55,I[1]=I[3]=50,I[2]=54,T.FileIndex.push({name:F,type:2,content:I,size:4,L:69,R:69,C:69}),T.FullPaths.push(T.FullPaths[0]+F),N(T)}}function N(T,F){b(T);for(var I=!1,D=!1,z=T.FullPaths.length-1;z>=0;--z){var V=T.FileIndex[z];switch(V.type){case 0:D?I=!0:(T.FileIndex.pop(),T.FullPaths.pop());break;case 1:case 2:case 5:D=!0,isNaN(V.R*V.L*V.C)&&(I=!0),V.R>-1&&V.L>-1&&V.R==V.L&&(I=!0);break;default:I=!0;break}}if(!(!I&&!F)){var ae=new Date(1987,1,19),me=0,se=Object.create?Object.create(null):{},oe=[];for(z=0;z<T.FullPaths.length;++z)se[T.FullPaths[z]]=!0,T.FileIndex[z].type!==0&&oe.push([T.FullPaths[z],T.FileIndex[z]]);for(z=0;z<oe.length;++z){var le=n(oe[z][0]);D=se[le],D||(oe.push([le,{name:s(le).replace("/",""),type:1,clsid:q,ct:ae,mt:ae,content:null}]),se[le]=!0)}for(oe.sort(function(Me,Ne){return r(Me[0],Ne[0])}),T.FullPaths=[],T.FileIndex=[],z=0;z<oe.length;++z)T.FullPaths[z]=oe[z][0],T.FileIndex[z]=oe[z][1];for(z=0;z<oe.length;++z){var be=T.FileIndex[z],ke=T.FullPaths[z];if(be.name=s(ke).replace("/",""),be.L=be.R=be.C=-(be.color=1),be.size=be.content?be.content.length:0,be.start=0,be.clsid=be.clsid||q,z===0)be.C=oe.length>1?1:-1,be.size=0,be.type=5;else if(ke.slice(-1)=="/"){for(me=z+1;me<oe.length&&n(T.FullPaths[me])!=ke;++me);for(be.C=me>=oe.length?-1:me,me=z+1;me<oe.length&&n(T.FullPaths[me])!=n(ke);++me);be.R=me>=oe.length?-1:me,be.type=1}else n(T.FullPaths[z+1]||"")==n(ke)&&(be.R=z+1),be.type=2}}}function R(T,F){var I=F||{};if(I.fileType=="mad")return jt(T,I);switch(N(T),I.fileType){case"zip":return rt(T,I)}var D=function(Me){for(var Ne=0,Ie=0,lt=0;lt<Me.FileIndex.length;++lt){var or=Me.FileIndex[lt];if(or.content){var lr=or.content.length;lr>0&&(lr<4096?Ne+=lr+63>>6:Ie+=lr+511>>9)}}for(var dn=Me.FullPaths.length+3>>2,eu=Ne+7>>3,tu=Ne+127>>7,ru=eu+Ie+dn+tu,lo=ru+127>>7,gm=lo<=109?0:Math.ceil((lo-109)/127);ru+lo+gm+127>>7>lo;)gm=++lo<=109?0:Math.ceil((lo-109)/127);var ka=[1,gm,lo,tu,dn,Ie,Ne,0];return Me.FileIndex[0].size=Ne<<6,ka[7]=(Me.FileIndex[0].start=ka[0]+ka[1]+ka[2]+ka[3]+ka[4]+ka[5])+(ka[6]+7>>3),ka}(T),z=pe(D[7]<<9),V=0,ae=0;{for(V=0;V<8;++V)z.write_shift(1,M[V]);for(V=0;V<8;++V)z.write_shift(2,0);for(z.write_shift(2,62),z.write_shift(2,3),z.write_shift(2,65534),z.write_shift(2,9),z.write_shift(2,6),V=0;V<3;++V)z.write_shift(2,0);for(z.write_shift(4,0),z.write_shift(4,D[2]),z.write_shift(4,D[0]+D[1]+D[2]+D[3]-1),z.write_shift(4,0),z.write_shift(4,4096),z.write_shift(4,D[3]?D[0]+D[1]+D[2]-1:L),z.write_shift(4,D[3]),z.write_shift(-4,D[1]?D[0]-1:L),z.write_shift(4,D[1]),V=0;V<109;++V)z.write_shift(-4,V<D[2]?D[1]+V:-1)}if(D[1])for(ae=0;ae<D[1];++ae){for(;V<236+ae*127;++V)z.write_shift(-4,V<D[2]?D[1]+V:-1);z.write_shift(-4,ae===D[1]-1?L:ae+1)}var me=function(Me){for(ae+=Me;V<ae-1;++V)z.write_shift(-4,V+1);Me&&(++V,z.write_shift(-4,L))};for(ae=V=0,ae+=D[1];V<ae;++V)z.write_shift(-4,ie.DIFSECT);for(ae+=D[2];V<ae;++V)z.write_shift(-4,ie.FATSECT);me(D[3]),me(D[4]);for(var se=0,oe=0,le=T.FileIndex[0];se<T.FileIndex.length;++se)le=T.FileIndex[se],le.content&&(oe=le.content.length,!(oe<4096)&&(le.start=ae,me(oe+511>>9)));for(me(D[6]+7>>3);z.l&511;)z.write_shift(-4,ie.ENDOFCHAIN);for(ae=V=0,se=0;se<T.FileIndex.length;++se)le=T.FileIndex[se],le.content&&(oe=le.content.length,!(!oe||oe>=4096)&&(le.start=ae,me(oe+63>>6)));for(;z.l&511;)z.write_shift(-4,ie.ENDOFCHAIN);for(V=0;V<D[4]<<2;++V){var be=T.FullPaths[V];if(!be||be.length===0){for(se=0;se<17;++se)z.write_shift(4,0);for(se=0;se<3;++se)z.write_shift(4,-1);for(se=0;se<12;++se)z.write_shift(4,0);continue}le=T.FileIndex[V],V===0&&(le.start=le.size?le.start-1:L);var ke=V===0&&I.root||le.name;if(oe=2*(ke.length+1),z.write_shift(64,ke,"utf16le"),z.write_shift(2,oe),z.write_shift(1,le.type),z.write_shift(1,le.color),z.write_shift(-4,le.L),z.write_shift(-4,le.R),z.write_shift(-4,le.C),le.clsid)z.write_shift(16,le.clsid,"hex");else for(se=0;se<4;++se)z.write_shift(4,0);z.write_shift(4,le.state||0),z.write_shift(4,0),z.write_shift(4,0),z.write_shift(4,0),z.write_shift(4,0),z.write_shift(4,le.start),z.write_shift(4,le.size),z.write_shift(4,0)}for(V=1;V<T.FileIndex.length;++V)if(le=T.FileIndex[V],le.size>=4096)if(z.l=le.start+1<<9,Ct&&Buffer.isBuffer(le.content))le.content.copy(z,z.l,0,le.size),z.l+=le.size+511&-512;else{for(se=0;se<le.size;++se)z.write_shift(1,le.content[se]);for(;se&511;++se)z.write_shift(1,0)}for(V=1;V<T.FileIndex.length;++V)if(le=T.FileIndex[V],le.size>0&&le.size<4096)if(Ct&&Buffer.isBuffer(le.content))le.content.copy(z,z.l,0,le.size),z.l+=le.size+63&-64;else{for(se=0;se<le.size;++se)z.write_shift(1,le.content[se]);for(;se&63;++se)z.write_shift(1,0)}if(Ct)z.l=z.length;else for(;z.l<z.length;)z.write_shift(1,0);return z}function k(T,F){var I=T.FullPaths.map(function(se){return se.toUpperCase()}),D=I.map(function(se){var oe=se.split("/");return oe[oe.length-(se.slice(-1)=="/"?2:1)]}),z=!1;F.charCodeAt(0)===47?(z=!0,F=I[0].slice(0,-1)+F):z=F.indexOf("/")!==-1;var V=F.toUpperCase(),ae=z===!0?I.indexOf(V):D.indexOf(V);if(ae!==-1)return T.FileIndex[ae];var me=!V.match(ih);for(V=V.replace(Uu,""),me&&(V=V.replace(ih,"!")),ae=0;ae<I.length;++ae)if((me?I[ae].replace(ih,"!"):I[ae]).replace(Uu,"")==V||(me?D[ae].replace(ih,"!"):D[ae]).replace(Uu,"")==V)return T.FileIndex[ae];return null}var O=64,L=-2,K="d0cf11e0a1b11ae1",M=[208,207,17,224,161,177,26,225],q="00000000000000000000000000000000",ie={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:L,FREESECT:-1,HEADER_SIGNATURE:K,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:q,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function X(T,F,I){u();var D=R(T,I);c.writeFileSync(F,D)}function J(T){for(var F=new Array(T.length),I=0;I<T.length;++I)F[I]=String.fromCharCode(T[I]);return F.join("")}function Y(T,F){var I=R(T,F);switch(F&&F.type||"buffer"){case"file":return u(),c.writeFileSync(F.filename,I),I;case"binary":return typeof I=="string"?I:J(I);case"base64":return Ad(typeof I=="string"?I:J(I));case"buffer":if(Ct)return Buffer.isBuffer(I)?I:ti(I);case"array":return typeof I=="string"?Xs(I):I}return I}var ge;function P(T){try{var F=T.InflateRaw,I=new F;if(I._processChunk(new Uint8Array([3,0]),I._finishFlushFlag),I.bytesRead)ge=T;else throw new Error("zlib does not expose bytesRead")}catch(D){console.error("cannot use native zlib: "+(D.message||D))}}function G(T,F){if(!ge)return Pe(T,F);var I=ge.InflateRaw,D=new I,z=D._processChunk(T.slice(T.l),D._finishFlushFlag);return T.l+=D.bytesRead,z}function B(T){return ge?ge.deflateRawSync(T):mr(T)}var W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],U=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function he(T){var F=(T<<1|T<<11)&139536|(T<<5|T<<15)&558144;return(F>>16|F>>8|F)&255}for(var ce=typeof Uint8Array<"u",A=ce?new Uint8Array(256):[],H=0;H<256;++H)A[H]=he(H);function ne(T,F){var I=A[T&255];return F<=8?I>>>8-F:(I=I<<8|A[T>>8&255],F<=16?I>>>16-F:(I=I<<8|A[T>>16&255],I>>>24-F))}function Re(T,F){var I=F&7,D=F>>>3;return(T[D]|(I<=6?0:T[D+1]<<8))>>>I&3}function Z(T,F){var I=F&7,D=F>>>3;return(T[D]|(I<=5?0:T[D+1]<<8))>>>I&7}function _e(T,F){var I=F&7,D=F>>>3;return(T[D]|(I<=4?0:T[D+1]<<8))>>>I&15}function ue(T,F){var I=F&7,D=F>>>3;return(T[D]|(I<=3?0:T[D+1]<<8))>>>I&31}function te(T,F){var I=F&7,D=F>>>3;return(T[D]|(I<=1?0:T[D+1]<<8))>>>I&127}function Xe(T,F,I){var D=F&7,z=F>>>3,V=(1<<I)-1,ae=T[z]>>>D;return I<8-D||(ae|=T[z+1]<<8-D,I<16-D)||(ae|=T[z+2]<<16-D,I<24-D)||(ae|=T[z+3]<<24-D),ae&V}function We(T,F,I){var D=F&7,z=F>>>3;return D<=5?T[z]|=(I&7)<<D:(T[z]|=I<<D&255,T[z+1]=(I&7)>>8-D),F+3}function Je(T,F,I){var D=F&7,z=F>>>3;return I=(I&1)<<D,T[z]|=I,F+1}function ut(T,F,I){var D=F&7,z=F>>>3;return I<<=D,T[z]|=I&255,I>>>=8,T[z+1]=I,F+8}function Lt(T,F,I){var D=F&7,z=F>>>3;return I<<=D,T[z]|=I&255,I>>>=8,T[z+1]=I&255,T[z+2]=I>>>8,F+16}function Rt(T,F){var I=T.length,D=2*I>F?2*I:F+5,z=0;if(I>=F)return T;if(Ct){var V=S2(D);if(T.copy)T.copy(V);else for(;z<T.length;++z)V[z]=T[z];return V}else if(ce){var ae=new Uint8Array(D);if(ae.set)ae.set(T);else for(;z<I;++z)ae[z]=T[z];return ae}return T.length=D,T}function Bt(T){for(var F=new Array(T),I=0;I<T;++I)F[I]=0;return F}function Kr(T,F,I){var D=1,z=0,V=0,ae=0,me=0,se=T.length,oe=ce?new Uint16Array(32):Bt(32);for(V=0;V<32;++V)oe[V]=0;for(V=se;V<I;++V)T[V]=0;se=T.length;var le=ce?new Uint16Array(se):Bt(se);for(V=0;V<se;++V)oe[z=T[V]]++,D<z&&(D=z),le[V]=0;for(oe[0]=0,V=1;V<=D;++V)oe[V+16]=me=me+oe[V-1]<<1;for(V=0;V<se;++V)me=T[V],me!=0&&(le[V]=oe[me+16]++);var be=0;for(V=0;V<se;++V)if(be=T[V],be!=0)for(me=ne(le[V],D)>>D-be,ae=(1<<D+4-be)-1;ae>=0;--ae)F[me|ae<<be]=be&15|V<<4;return D}var Ut=ce?new Uint16Array(512):Bt(512),er=ce?new Uint16Array(32):Bt(32);if(!ce){for(var tr=0;tr<512;++tr)Ut[tr]=0;for(tr=0;tr<32;++tr)er[tr]=0}(function(){for(var T=[],F=0;F<32;F++)T.push(5);Kr(T,er,32);var I=[];for(F=0;F<=143;F++)I.push(8);for(;F<=255;F++)I.push(9);for(;F<=279;F++)I.push(7);for(;F<=287;F++)I.push(8);Kr(I,Ut,288)})();var $r=function(){for(var F=ce?new Uint8Array(32768):[],I=0,D=0;I<U.length-1;++I)for(;D<U[I+1];++D)F[D]=I;for(;D<32768;++D)F[D]=29;var z=ce?new Uint8Array(259):[];for(I=0,D=0;I<ee.length-1;++I)for(;D<ee[I+1];++D)z[D]=I;function V(me,se){for(var oe=0;oe<me.length;){var le=Math.min(65535,me.length-oe),be=oe+le==me.length;for(se.write_shift(1,+be),se.write_shift(2,le),se.write_shift(2,~le&65535);le-- >0;)se[se.l++]=me[oe++]}return se.l}function ae(me,se){for(var oe=0,le=0,be=ce?new Uint16Array(32768):[];le<me.length;){var ke=Math.min(65535,me.length-le);if(ke<10){for(oe=We(se,oe,+(le+ke==me.length)),oe&7&&(oe+=8-(oe&7)),se.l=oe/8|0,se.write_shift(2,ke),se.write_shift(2,~ke&65535);ke-- >0;)se[se.l++]=me[le++];oe=se.l*8;continue}oe=We(se,oe,+(le+ke==me.length)+2);for(var Me=0;ke-- >0;){var Ne=me[le];Me=(Me<<5^Ne)&32767;var Ie=-1,lt=0;if((Ie=be[Me])&&(Ie|=le&-32768,Ie>le&&(Ie-=32768),Ie<le))for(;me[Ie+lt]==me[le+lt]&&lt<250;)++lt;if(lt>2){Ne=z[lt],Ne<=22?oe=ut(se,oe,A[Ne+1]>>1)-1:(ut(se,oe,3),oe+=5,ut(se,oe,A[Ne-23]>>5),oe+=3);var or=Ne<8?0:Ne-4>>2;or>0&&(Lt(se,oe,lt-ee[Ne]),oe+=or),Ne=F[le-Ie],oe=ut(se,oe,A[Ne]>>3),oe-=3;var lr=Ne<4?0:Ne-2>>1;lr>0&&(Lt(se,oe,le-Ie-U[Ne]),oe+=lr);for(var dn=0;dn<lt;++dn)be[Me]=le&32767,Me=(Me<<5^me[le])&32767,++le;ke-=lt-1}else Ne<=143?Ne=Ne+48:oe=Je(se,oe,1),oe=ut(se,oe,A[Ne]),be[Me]=le&32767,++le}oe=ut(se,oe,0)-1}return se.l=(oe+7)/8|0,se.l}return function(se,oe){return se.length<8?V(se,oe):ae(se,oe)}}();function mr(T){var F=pe(50+Math.floor(T.length*1.1)),I=$r(T,F);return F.slice(0,I)}var rr=ce?new Uint16Array(32768):Bt(32768),Xr=ce?new Uint16Array(32768):Bt(32768),Yr=ce?new Uint16Array(128):Bt(128),zt=1,Jr=1;function Dr(T,F){var I=ue(T,F)+257;F+=5;var D=ue(T,F)+1;F+=5;var z=_e(T,F)+4;F+=4;for(var V=0,ae=ce?new Uint8Array(19):Bt(19),me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],se=1,oe=ce?new Uint8Array(8):Bt(8),le=ce?new Uint8Array(8):Bt(8),be=ae.length,ke=0;ke<z;++ke)ae[W[ke]]=V=Z(T,F),se<V&&(se=V),oe[V]++,F+=3;var Me=0;for(oe[0]=0,ke=1;ke<=se;++ke)le[ke]=Me=Me+oe[ke-1]<<1;for(ke=0;ke<be;++ke)(Me=ae[ke])!=0&&(me[ke]=le[Me]++);var Ne=0;for(ke=0;ke<be;++ke)if(Ne=ae[ke],Ne!=0){Me=A[me[ke]]>>8-Ne;for(var Ie=(1<<7-Ne)-1;Ie>=0;--Ie)Yr[Me|Ie<<Ne]=Ne&7|ke<<3}var lt=[];for(se=1;lt.length<I+D;)switch(Me=Yr[te(T,F)],F+=Me&7,Me>>>=3){case 16:for(V=3+Re(T,F),F+=2,Me=lt[lt.length-1];V-- >0;)lt.push(Me);break;case 17:for(V=3+Z(T,F),F+=3;V-- >0;)lt.push(0);break;case 18:for(V=11+te(T,F),F+=7;V-- >0;)lt.push(0);break;default:lt.push(Me),se<Me&&(se=Me);break}var or=lt.slice(0,I),lr=lt.slice(I);for(ke=I;ke<286;++ke)or[ke]=0;for(ke=D;ke<30;++ke)lr[ke]=0;return zt=Kr(or,rr,286),Jr=Kr(lr,Xr,30),F}function de(T,F){if(T[0]==3&&!(T[1]&3))return[qo(F),2];for(var I=0,D=0,z=S2(F||1<<18),V=0,ae=z.length>>>0,me=0,se=0;!(D&1);){if(D=Z(T,I),I+=3,D>>>1)D>>1==1?(me=9,se=5):(I=Dr(T,I),me=zt,se=Jr);else{I&7&&(I+=8-(I&7));var oe=T[I>>>3]|T[(I>>>3)+1]<<8;if(I+=32,oe>0)for(!F&&ae<V+oe&&(z=Rt(z,V+oe),ae=z.length);oe-- >0;)z[V++]=T[I>>>3],I+=8;continue}for(;;){!F&&ae<V+32767&&(z=Rt(z,V+32767),ae=z.length);var le=Xe(T,I,me),be=D>>>1==1?Ut[le]:rr[le];if(I+=be&15,be>>>=4,!(be>>>8&255))z[V++]=be;else{if(be==256)break;be-=257;var ke=be<8?0:be-4>>2;ke>5&&(ke=0);var Me=V+ee[be];ke>0&&(Me+=Xe(T,I,ke),I+=ke),le=Xe(T,I,se),be=D>>>1==1?er[le]:Xr[le],I+=be&15,be>>>=4;var Ne=be<4?0:be-2>>1,Ie=U[be];for(Ne>0&&(Ie+=Xe(T,I,Ne),I+=Ne),!F&&ae<Me&&(z=Rt(z,Me+100),ae=z.length);V<Me;)z[V]=z[V-Ie],++V}}}return F?[z,I+7>>>3]:[z.slice(0,V),I+7>>>3]}function Pe(T,F){var I=T.slice(T.l||0),D=de(I,F);return T.l+=D[1],D[0]}function De(T,F){if(T)typeof console<"u"&&console.error(F);else throw new Error(F)}function Ye(T,F){var I=T;ns(I,0);var D=[],z=[],V={FileIndex:D,FullPaths:z};b(V,{root:F.root});for(var ae=I.length-4;(I[ae]!=80||I[ae+1]!=75||I[ae+2]!=5||I[ae+3]!=6)&&ae>=0;)--ae;I.l=ae+4,I.l+=4;var me=I.read_shift(2);I.l+=6;var se=I.read_shift(4);for(I.l=se,ae=0;ae<me;++ae){I.l+=20;var oe=I.read_shift(4),le=I.read_shift(4),be=I.read_shift(2),ke=I.read_shift(2),Me=I.read_shift(2);I.l+=8;var Ne=I.read_shift(4),Ie=l(I.slice(I.l+be,I.l+be+ke));I.l+=be+ke+Me;var lt=I.l;I.l=Ne+4,st(I,oe,le,V,Ie),I.l=lt}return V}function st(T,F,I,D,z){T.l+=2;var V=T.read_shift(2),ae=T.read_shift(2),me=o(T);if(V&8257)throw new Error("Unsupported ZIP encryption");for(var se=T.read_shift(4),oe=T.read_shift(4),le=T.read_shift(4),be=T.read_shift(2),ke=T.read_shift(2),Me="",Ne=0;Ne<be;++Ne)Me+=String.fromCharCode(T[T.l++]);if(ke){var Ie=l(T.slice(T.l,T.l+ke));(Ie[21589]||{}).mt&&(me=Ie[21589].mt),((z||{})[21589]||{}).mt&&(me=z[21589].mt)}T.l+=ke;var lt=T.slice(T.l,T.l+oe);switch(ae){case 8:lt=G(T,le);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ae)}var or=!1;V&8&&(se=T.read_shift(4),se==134695760&&(se=T.read_shift(4),or=!0),oe=T.read_shift(4),le=T.read_shift(4)),oe!=F&&De(or,"Bad compressed size: "+F+" != "+oe),le!=I&&De(or,"Bad uncompressed size: "+I+" != "+le),Te(D,Me,lt,{unsafe:!0,mt:me})}function rt(T,F){var I=F||{},D=[],z=[],V=pe(1),ae=I.compression?8:0,me=0,se=0,oe=0,le=0,be=0,ke=T.FullPaths[0],Me=ke,Ne=T.FileIndex[0],Ie=[],lt=0;for(se=1;se<T.FullPaths.length;++se)if(Me=T.FullPaths[se].slice(ke.length),Ne=T.FileIndex[se],!(!Ne.size||!Ne.content||Me=="Sh33tJ5")){var or=le,lr=pe(Me.length);for(oe=0;oe<Me.length;++oe)lr.write_shift(1,Me.charCodeAt(oe)&127);lr=lr.slice(0,lr.l),Ie[be]=qV.buf(Ne.content,0);var dn=Ne.content;ae==8&&(dn=B(dn)),V=pe(30),V.write_shift(4,67324752),V.write_shift(2,20),V.write_shift(2,me),V.write_shift(2,ae),Ne.mt?a(V,Ne.mt):V.write_shift(4,0),V.write_shift(-4,Ie[be]),V.write_shift(4,dn.length),V.write_shift(4,Ne.content.length),V.write_shift(2,lr.length),V.write_shift(2,0),le+=V.length,D.push(V),le+=lr.length,D.push(lr),le+=dn.length,D.push(dn),V=pe(46),V.write_shift(4,33639248),V.write_shift(2,0),V.write_shift(2,20),V.write_shift(2,me),V.write_shift(2,ae),V.write_shift(4,0),V.write_shift(-4,Ie[be]),V.write_shift(4,dn.length),V.write_shift(4,Ne.content.length),V.write_shift(2,lr.length),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(4,0),V.write_shift(4,or),lt+=V.l,z.push(V),lt+=lr.length,z.push(lr),++be}return V=pe(22),V.write_shift(4,101010256),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(2,be),V.write_shift(2,be),V.write_shift(4,lt),V.write_shift(4,le),V.write_shift(2,0),nn([nn(D),nn(z),V])}var ht={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Nt(T,F){if(T.ctype)return T.ctype;var I=T.name||"",D=I.match(/\.([^\.]+)$/);return D&&ht[D[1]]||F&&(D=(I=F).match(/[\.\\]([^\.\\])+$/),D&&ht[D[1]])?ht[D[1]]:"application/octet-stream"}function Le(T){for(var F=Ad(T),I=[],D=0;D<F.length;D+=76)I.push(F.slice(D,D+76));return I.join(`\r
`)+`\r
`}function Qe(T){var F=T.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(oe){var le=oe.charCodeAt(0).toString(16).toUpperCase();return"="+(le.length==1?"0"+le:le)});F=F.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),F.charAt(0)==`
`&&(F="=0D"+F.slice(1)),F=F.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var I=[],D=F.split(`\r
`),z=0;z<D.length;++z){var V=D[z];if(V.length==0){I.push("");continue}for(var ae=0;ae<V.length;){var me=76,se=V.slice(ae,ae+me);se.charAt(me-1)=="="?me--:se.charAt(me-2)=="="?me-=2:se.charAt(me-3)=="="&&(me-=3),se=V.slice(ae,ae+me),ae+=me,ae<V.length&&(se+="="),I.push(se)}}return I.join(`\r
`)}function nt(T){for(var F=[],I=0;I<T.length;++I){for(var D=T[I];I<=T.length&&D.charAt(D.length-1)=="=";)D=D.slice(0,D.length-1)+T[++I];F.push(D)}for(var z=0;z<F.length;++z)F[z]=F[z].replace(/[=][0-9A-Fa-f]{2}/g,function(V){return String.fromCharCode(parseInt(V.slice(1),16))});return Xs(F.join(`\r
`))}function $t(T,F,I){for(var D="",z="",V="",ae,me=0;me<10;++me){var se=F[me];if(!se||se.match(/^\s*$/))break;var oe=se.match(/^(.*?):\s*([^\s].*)$/);if(oe)switch(oe[1].toLowerCase()){case"content-location":D=oe[2].trim();break;case"content-type":V=oe[2].trim();break;case"content-transfer-encoding":z=oe[2].trim();break}}switch(++me,z.toLowerCase()){case"base64":ae=Xs(Ja(F.slice(me).join("")));break;case"quoted-printable":ae=nt(F.slice(me));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+z)}var le=Te(T,D.slice(I.length),ae,{unsafe:!0});V&&(le.ctype=V)}function ir(T,F){if(J(T.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var I=F&&F.root||"",D=(Ct&&Buffer.isBuffer(T)?T.toString("binary"):J(T)).split(`\r
`),z=0,V="";for(z=0;z<D.length;++z)if(V=D[z],!!/^Content-Location:/i.test(V)&&(V=V.slice(V.indexOf("file")),I||(I=V.slice(0,V.lastIndexOf("/")+1)),V.slice(0,I.length)!=I))for(;I.length>0&&(I=I.slice(0,I.length-1),I=I.slice(0,I.lastIndexOf("/")+1),V.slice(0,I.length)!=I););var ae=(D[1]||"").match(/boundary="(.*?)"/);if(!ae)throw new Error("MAD cannot find boundary");var me="--"+(ae[1]||""),se=[],oe=[],le={FileIndex:se,FullPaths:oe};b(le);var be,ke=0;for(z=0;z<D.length;++z){var Me=D[z];Me!==me&&Me!==me+"--"||(ke++&&$t(le,D.slice(be,z),I),be=z)}return le}function jt(T,F){var I=F||{},D=I.boundary||"SheetJS";D="------="+D;for(var z=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+D.slice(2)+'"',"","",""],V=T.FullPaths[0],ae=V,me=T.FileIndex[0],se=1;se<T.FullPaths.length;++se)if(ae=T.FullPaths[se].slice(V.length),me=T.FileIndex[se],!(!me.size||!me.content||ae=="Sh33tJ5")){ae=ae.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(lt){return"_x"+lt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(lt){return"_u"+lt.charCodeAt(0).toString(16)+"_"});for(var oe=me.content,le=Ct&&Buffer.isBuffer(oe)?oe.toString("binary"):J(oe),be=0,ke=Math.min(1024,le.length),Me=0,Ne=0;Ne<=ke;++Ne)(Me=le.charCodeAt(Ne))>=32&&Me<128&&++be;var Ie=be>=ke*4/5;z.push(D),z.push("Content-Location: "+(I.root||"file:///C:/SheetJS/")+ae),z.push("Content-Transfer-Encoding: "+(Ie?"quoted-printable":"base64")),z.push("Content-Type: "+Nt(me,ae)),z.push(""),z.push(Ie?Qe(le):Le(le))}return z.push(D+`--\r
`),z.join(`\r
`)}function Q(T){var F={};return b(F,T),F}function Te(T,F,I,D){var z=D&&D.unsafe;z||b(T);var V=!z&&Mt.find(T,F);if(!V){var ae=T.FullPaths[0];F.slice(0,ae.length)==ae?ae=F:(ae.slice(-1)!="/"&&(ae+="/"),ae=(ae+F).replace("//","/")),V={name:s(F),type:2},T.FileIndex.push(V),T.FullPaths.push(ae),z||Mt.utils.cfb_gc(T)}return V.content=I,V.size=I?I.length:0,D&&(D.CLSID&&(V.clsid=D.CLSID),D.mt&&(V.mt=D.mt),D.ct&&(V.ct=D.ct)),V}function et(T,F){b(T);var I=Mt.find(T,F);if(I){for(var D=0;D<T.FileIndex.length;++D)if(T.FileIndex[D]==I)return T.FileIndex.splice(D,1),T.FullPaths.splice(D,1),!0}return!1}function br(T,F,I){b(T);var D=Mt.find(T,F);if(D){for(var z=0;z<T.FileIndex.length;++z)if(T.FileIndex[z]==D)return T.FileIndex[z].name=s(I),T.FullPaths[z]=I,!0}return!1}function Qn(T){N(T,!0)}return t.find=k,t.read=C,t.parse=d,t.write=Y,t.writeFile=X,t.utils={cfb_new:Q,cfb_add:Te,cfb_del:et,cfb_mov:br,cfb_gc:Qn,ReadShift:Vu,CheckField:AR,prep_blob:ns,bconcat:nn,use_zlib:P,_deflateRaw:mr,_inflateRaw:Pe,consts:ie},t}();function KV(e){return typeof e=="string"?lm(e):Array.isArray(e)?wV(e):e}function df(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=lm(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Od(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var s=new Blob([KV(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,e);if(typeof saveAs<"u")return saveAs(s,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=a,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=uf(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function un(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function R2(e,t){for(var r=[],n=un(e),s=0;s!==n.length;++s)r[e[n[s]][t]]==null&&(r[e[n[s]][t]]=n[s]);return r}function Wy(e){for(var t=[],r=un(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function dm(e){for(var t=[],r=un(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function XV(e){for(var t=[],r=un(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var K0=new Date(1899,11,30,0,0,0);function Kn(e,t){var r=e.getTime(),n=K0.getTime()+(e.getTimezoneOffset()-K0.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var hR=new Date,YV=K0.getTime()+(hR.getTimezoneOffset()-K0.getTimezoneOffset())*6e4,O2=hR.getTimezoneOffset();function pR(e){var t=new Date;return t.setTime(e*24*60*60*1e3+YV),t.getTimezoneOffset()!==O2&&t.setTime(t.getTime()+(t.getTimezoneOffset()-O2)*6e4),t}var P2=new Date("2017-02-19T19:06:09.000Z"),mR=isNaN(P2.getFullYear())?new Date("2/19/17"):P2,JV=mR.getFullYear()==2017;function Pn(e,t){var r=new Date(e);if(JV)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(mR.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function fm(e,t){if(Ct&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],s=0;s!=e.length;++s)n.push(String.fromCharCode(e[s]));return n.join("")}function Xn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Xn(e[r]));return t}function yr(e,t){for(var r="";r.length<t;)r+=e;return r}function za(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,a){return r=-r,a}),!isNaN(t=Number(n)))?t/r:t}var QV=["january","february","march","april","may","june","july","august","september","october","november","december"];function Rd(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),s=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&QV.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(s>0||a>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function ft(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Ct?n=ti(r):n=_V(r),Mt.utils.cfb_add(e,t,n)}Mt.utils.cfb_add(e,t,r)}else e.file(t,r)}function Hy(){return Mt.utils.cfb_new()}var Ir=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,ZV={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Gy=Wy(ZV),qy=/[&<>'"]/g,eW=/[\u0000-\u0008\u000b-\u001f]/g;function It(e){var t=e+"";return t.replace(qy,function(r){return Gy[r]}).replace(eW,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function I2(e){return It(e).replace(/ /g,"_x0020_")}var gR=/[\u0000-\u001f]/g;function tW(e){var t=e+"";return t.replace(qy,function(r){return Gy[r]}).replace(/\n/g,"<br/>").replace(gR,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function rW(e){var t=e+"";return t.replace(qy,function(r){return Gy[r]}).replace(gR,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function nW(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function sW(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Eg(e){for(var t="",r=0,n=0,s=0,a=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(s=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=s&63,t+=String.fromCharCode(o);continue}if(a=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(s&63)<<6|a&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function D2(e){var t=qo(2*e.length),r,n,s=1,a=0,o=0,l;for(n=0;n<e.length;n+=s)s=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),s=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),s=3):(s=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[a++]=o&255,t[a++]=o>>>8,o=0),t[a++]=r%256,t[a++]=r>>>8;return t.slice(0,a).toString("ucs2")}function F2(e){return ti(e,"binary").toString("utf8")}var lh="foo bar baz",zu=Ct&&(F2(lh)==Eg(lh)&&F2||D2(lh)==Eg(lh)&&D2)||Eg,Od=Ct?function(e){return ti(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,s=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},aW=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<e.length;++s)n=n.replace(e[s][0],e[s][1]);return n}}(),vR=/(^\s|\s$|\n)/;function sn(e,t){return"<"+e+(t.match(vR)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Pd(e){return un(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function je(e,t,r){return"<"+e+(r!=null?Pd(r):"")+(t!=null?(t.match(vR)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Cx(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function iW(e,t){switch(typeof e){case"string":var r=je("vt:lpwstr",It(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return je((e|0)==e?"vt:i4":"vt:r8",It(String(e)));case"boolean":return je("vt:bool",e?"true":"false")}if(e instanceof Date)return je("vt:filetime",Cx(e));throw new Error("Unable to serialize "+e)}var Vr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Yc=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],as={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function oW(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),s=e[t+6]&15,a=5;a>=0;--a)s=s*256+e[t+a];return n==2047?s==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),r*Math.pow(2,n-52)*s)}function lW(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,s=0,a=0,o=n?-t:t;isFinite(o)?o==0?s=a=0:(s=Math.floor(Math.log(o)/Math.LN2),a=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?s=-1022:(a-=Math.pow(2,52),s+=1023)):(s=2047,a=isNaN(t)?26985:0);for(var l=0;l<=5;++l,a/=256)e[r+l]=a&255;e[r+6]=(s&15)<<4|a&15,e[r+7]=s>>4|n}var L2=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var s=0,a=e[0][n].length;s<a;s+=r)t.push.apply(t,e[0][n].slice(s,s+r));return t},M2=Ct?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:ti(t)})):L2(e)}:L2,B2=function(e,t,r){for(var n=[],s=t;s<r;s+=2)n.push(String.fromCharCode(Nu(e,s)));return n.join("").replace(Uu,"")},Ky=Ct?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Uu,""):B2(e,t,r)}:B2,$2=function(e,t,r){for(var n=[],s=t;s<t+r;++s)n.push(("0"+e[s].toString(16)).slice(-2));return n.join("")},xR=Ct?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):$2(e,t,r)}:$2,U2=function(e,t,r){for(var n=[],s=t;s<r;s++)n.push(String.fromCharCode(_l(e,s)));return n.join("")},ff=Ct?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):U2(t,r,n)}:U2,yR=function(e,t){var r=is(e,t);return r>0?ff(e,t+4,t+4+r-1):""},wR=yR,_R=function(e,t){var r=is(e,t);return r>0?ff(e,t+4,t+4+r-1):""},bR=_R,SR=function(e,t){var r=2*is(e,t);return r>0?ff(e,t+4,t+4+r-1):""},ER=SR,NR=function(t,r){var n=is(t,r);return n>0?Ky(t,r+4,r+4+n):""},jR=NR,CR=function(e,t){var r=is(e,t);return r>0?ff(e,t+4,t+4+r):""},TR=CR,kR=function(e,t){return oW(e,t)},X0=kR,Xy=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Ct&&(wR=function(t,r){if(!Buffer.isBuffer(t))return yR(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},bR=function(t,r){if(!Buffer.isBuffer(t))return _R(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},ER=function(t,r){if(!Buffer.isBuffer(t))return SR(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},jR=function(t,r){if(!Buffer.isBuffer(t))return NR(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},TR=function(t,r){if(!Buffer.isBuffer(t))return CR(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},X0=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):kR(t,r)},Xy=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var _l=function(e,t){return e[t]},Nu=function(e,t){return e[t+1]*256+e[t]},cW=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},is=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},wo=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},uW=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Vu(e,t){var r="",n,s,a=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,Ct&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Nu(this,u)),u+=2;e*=2;break;case"utf8":r=ff(this,this.l,this.l+e);break;case"utf16le":e*=2,r=Ky(this,this.l,this.l+e);break;case"wstr":return Vu.call(this,e,"dbcs");case"lpstr-ansi":r=wR(this,this.l),e=4+is(this,this.l);break;case"lpstr-cp":r=bR(this,this.l),e=4+is(this,this.l);break;case"lpwstr":r=ER(this,this.l),e=4+2*is(this,this.l);break;case"lpp4":e=4+is(this,this.l),r=jR(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+is(this,this.l),r=TR(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=_l(this,this.l+e++))!==0;)a.push(ah(o));r=a.join("");break;case"_wstr":for(e=0,r="";(o=Nu(this,this.l+e))!==0;)a.push(ah(o)),e+=2;e+=2,r=a.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=_l(this,u),this.l=u+1,l=Vu.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(ah(Nu(this,u))),u+=2}r=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=_l(this,u),this.l=u+1,l=Vu.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(ah(_l(this,u))),u+=1}r=a.join("");break;default:switch(e){case 1:return n=_l(this,this.l),this.l++,n;case 2:return n=(t==="i"?cW:Nu)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?wo:uW)(this,this.l),this.l+=4,n):(s=is(this,this.l),this.l+=4,s);case 8:case-8:if(t==="f")return e==8?s=X0(this,this.l):s=X0([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;e=8;case 16:r=xR(this,this.l,e);break}}return this.l+=e,r}var dW=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},fW=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},hW=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function pW(e,t,r){var n=0,s=0;if(r==="dbcs"){for(s=0;s!=t.length;++s)hW(this,t.charCodeAt(s),this.l+2*s);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=t.charCodeAt(s)&255;n=t.length}else if(r==="hex"){for(;s<e;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+e,this.length);for(s=0;s<Math.min(t.length,e);++s){var o=t.charCodeAt(s);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,dW(this,t,this.l);break;case 8:if(n=8,r==="f"){lW(this,t,this.l);break}case 16:break;case-4:n=4,fW(this,t,this.l);break}return this.l+=n,this}function AR(e,t){var r=xR(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function ns(e,t){e.l=t,e.read_shift=Vu,e.chk=AR,e.write_shift=pW}function ja(e,t){e.l+=t}function pe(e){var t=qo(e);return ns(t,0),t}function qn(){var e=[],t=Ct?256:2048,r=function(u){var d=pe(u);return ns(d,0),d},n=r(t),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},a=function(u){return n&&u<n.length-n.l?n:(s(),n=r(Math.max(u+1,t)))},o=function(){return s(),nn(e)},l=function(u){s(),n=u,n.l==null&&(n.l=n.length),a(t)};return{next:a,push:l,end:o,_bufs:e}}function ye(e,t,r,n){var s=+t,a;if(!isNaN(s)){n||(n=oY[s].p||(r||[]).length||0),a=1+(s>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var o=e.next(a);s<=127?o.write_shift(1,s):(o.write_shift(1,(s&127)+128),o.write_shift(1,s>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&Xy(r)&&e.push(r)}}function Wu(e,t,r){var n=Xn(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function z2(e,t,r){var n=Xn(e);return n.s=Wu(n.s,t.s,r),n.e=Wu(n.e,t.s,r),n}function Hu(e,t){if(e.cRel&&e.c<0)for(e=Xn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Xn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Ft(e);return!e.cRel&&e.cRel!=null&&(r=vW(r)),!e.rRel&&e.rRel!=null&&(r=mW(r)),r}function Ng(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+_n(e.s.c)+":"+(e.e.cRel?"":"$")+_n(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+ln(e.s.r)+":"+(e.e.rRel?"":"$")+ln(e.e.r):Hu(e.s,t.biff)+":"+Hu(e.e,t.biff)}function Yy(e){return parseInt(gW(e),10)-1}function ln(e){return""+(e+1)}function mW(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function gW(e){return e.replace(/\$(\d+)$/,"$1")}function Jy(e){for(var t=xW(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function _n(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function vW(e){return e.replace(/^([A-Z])/,"$$$1")}function xW(e){return e.replace(/^\$([A-Z])/,"$1")}function yW(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Wr(e){for(var t=0,r=0,n=0;n<e.length;++n){var s=e.charCodeAt(n);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:t-1}}function Ft(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function ps(e){var t=e.indexOf(":");return t==-1?{s:Wr(e),e:Wr(e)}:{s:Wr(e.slice(0,t)),e:Wr(e.slice(t+1))}}function Or(e,t){return typeof t>"u"||typeof t=="number"?Or(e.s,e.e):(typeof e!="string"&&(e=Ft(e)),typeof t!="string"&&(t=Ft(t)),e==t?e:e+":"+t)}function Zt(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,s=0,a=e.length;for(r=0;n<a&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.s.c=--r,r=0;n<a&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;if(t.s.r=--r,n===a||s!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=a&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.e.c=--r,r=0;n!=a&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;return t.e.r=--r,t}function V2(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Yi(e.z,r?Kn(t):t)}catch{}try{return e.w=Yi((e.XF||{}).numFmtId||(r?14:0),r?Kn(t):t)}catch{return""+t}}function Qa(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?hf[e.v]||e.v:t==null?V2(e,e.v):V2(e,t))}function el(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function RR(e,t,r){var n=r||{},s=e?Array.isArray(e):n.dense,a=e||(s?[]:{}),o=0,l=0;if(a&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Wr(n.origin):n.origin;o=c.r,l=c.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var d=Zt(a["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},x=o+f,m=l+h;if(u.s.r>x&&(u.s.r=x),u.s.c>m&&(u.s.c=m),u.e.r<x&&(u.e.r=x),u.e.c<m&&(u.e.c=m),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||wr[14],n.cellDates?(p.t="d",p.w=Yi(p.z,Kn(p.v))):(p.t="n",p.v=Kn(p.v),p.w=Yi(p.z,p.v))):p.t="s";if(s)a[x]||(a[x]=[]),a[x][m]&&a[x][m].z&&(p.z=a[x][m].z),a[x][m]=p;else{var v=Ft({c:m,r:x});a[v]&&a[v].z&&(p.z=a[v].z),a[v]=p}}}return u.s.c<1e7&&(a["!ref"]=Or(u)),a}function Jc(e,t){return RR(null,e,t)}function wW(e){return e.read_shift(4,"i")}function ta(e,t){return t||(t=pe(4)),t.write_shift(4,e),t}function bn(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Hr(e,t){var r=!1;return t==null&&(r=!0,t=pe(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function _W(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function bW(e,t){return t||(t=pe(4)),t.write_shift(2,0),t.write_shift(2,0),t}function Qy(e,t){var r=e.l,n=e.read_shift(1),s=bn(e),a=[],o={t:s,h:s};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)a.push(_W(e));o.r=a}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function SW(e,t){var r=!1;return t==null&&(r=!0,t=pe(15+4*e.t.length)),t.write_shift(1,0),Hr(e.t,t),r?t.slice(0,t.l):t}var EW=Qy;function NW(e,t){var r=!1;return t==null&&(r=!0,t=pe(23+4*e.t.length)),t.write_shift(1,1),Hr(e.t,t),t.write_shift(4,1),bW({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function Is(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function tl(e,t){return t==null&&(t=pe(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function rl(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function nl(e,t){return t==null&&(t=pe(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var jW=bn,OR=Hr;function Zy(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Y0(e,t){var r=!1;return t==null&&(r=!0,t=pe(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var CW=bn,Tx=Zy,ew=Y0;function PR(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var s=n===0?X0([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):wo(t,0)>>2;return r?s/100:s}function IR(e,t){t==null&&(t=pe(4));var r=0,n=0,s=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?n=1:s==(s|0)&&s>=-(1<<29)&&s<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?s:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function DR(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function TW(e,t){return t||(t=pe(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var sl=DR,Qc=TW;function Zc(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Ko(e,t){return(t||pe(8)).write_shift(8,e,"f")}function kW(e){var t={},r=e.read_shift(1),n=r>>>1,s=e.read_shift(1),a=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=s;var u=MW[s];u&&(t.rgb=eS(u));break;case 2:t.rgb=eS([o,l,c]);break;case 3:t.theme=s;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function J0(e,t){if(t||(t=pe(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function AW(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function RW(e,t){t||(t=pe(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var FR=2,ts=3,ch=11,Q0=19,uh=64,OW=65,PW=71,IW=4108,DW=4126,rn=80,W2={1:{n:"CodePage",t:FR},2:{n:"Category",t:rn},3:{n:"PresentationFormat",t:rn},4:{n:"ByteCount",t:ts},5:{n:"LineCount",t:ts},6:{n:"ParagraphCount",t:ts},7:{n:"SlideCount",t:ts},8:{n:"NoteCount",t:ts},9:{n:"HiddenCount",t:ts},10:{n:"MultimediaClipCount",t:ts},11:{n:"ScaleCrop",t:ch},12:{n:"HeadingPairs",t:IW},13:{n:"TitlesOfParts",t:DW},14:{n:"Manager",t:rn},15:{n:"Company",t:rn},16:{n:"LinksUpToDate",t:ch},17:{n:"CharacterCount",t:ts},19:{n:"SharedDoc",t:ch},22:{n:"HyperlinksChanged",t:ch},23:{n:"AppVersion",t:ts,p:"version"},24:{n:"DigSig",t:OW},26:{n:"ContentType",t:rn},27:{n:"ContentStatus",t:rn},28:{n:"Language",t:rn},29:{n:"Version",t:rn},255:{},2147483648:{n:"Locale",t:Q0},2147483651:{n:"Behavior",t:Q0},1919054434:{}},H2={1:{n:"CodePage",t:FR},2:{n:"Title",t:rn},3:{n:"Subject",t:rn},4:{n:"Author",t:rn},5:{n:"Keywords",t:rn},6:{n:"Comments",t:rn},7:{n:"Template",t:rn},8:{n:"LastAuthor",t:rn},9:{n:"RevNumber",t:rn},10:{n:"EditTime",t:uh},11:{n:"LastPrinted",t:uh},12:{n:"CreatedDate",t:uh},13:{n:"ModifiedDate",t:uh},14:{n:"PageCount",t:ts},15:{n:"WordCount",t:ts},16:{n:"CharCount",t:ts},17:{n:"Thumbnail",t:PW},18:{n:"Application",t:rn},19:{n:"DocSecurity",t:ts},255:{},2147483648:{n:"Locale",t:Q0},2147483651:{n:"Behavior",t:Q0},1919054434:{}};function FW(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var LW=FW([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),MW=Xn(LW),hf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},BW={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},dh={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function LR(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function MR(e,t){var r=XV(BW),n=[],s;n[n.length]=Ir,n[n.length]=je("Types",null,{xmlns:Vr.CT,"xmlns:xsd":Vr.xsd,"xmlns:xsi":Vr.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return je("Default",null,{Extension:c[0],ContentType:c[1]})}));var a=function(c){e[c]&&e[c].length>0&&(s=e[c][0],n[n.length]=je("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:dh[c][t.bookType]||dh[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=je("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:dh[c][t.bookType]||dh[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=je("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return a("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var _t={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function BR(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Kl(e){var t=[Ir,je("Relationships",null,{xmlns:Vr.RELS})];return un(e["!id"]).forEach(function(r){t[t.length]=je("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Pt(e,t,r,n,s,a){if(s||(s={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,s.Id="rId"+t,s.Type=n,s.Target=r,[_t.HLINK,_t.XPATH,_t.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),e["!id"][s.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][s.Id]=s,e[("/"+s.Target).replace("//","/")]=s,t}function $W(e){var t=[Ir];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function G2(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function UW(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function zW(e){var t=[Ir];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(G2(e[r][0],e[r][1])),t.push(UW("",e[r][0]));return t.push(G2("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function $R(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+W0.version+"</meta:generator></office:meta></office:document-meta>"}var Do=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function jg(e,t,r,n,s){s[e]!=null||t==null||t===""||(s[e]=t,t=It(t),n[n.length]=r?je(e,t,r):sn(e,t))}function UR(e,t){var r=t||{},n=[Ir,je("cp:coreProperties",null,{"xmlns:cp":Vr.CORE_PROPS,"xmlns:dc":Vr.dc,"xmlns:dcterms":Vr.dcterms,"xmlns:dcmitype":Vr.dcmitype,"xmlns:xsi":Vr.xsi})],s={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&jg("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:Cx(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s),e.ModifiedDate!=null&&jg("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:Cx(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s));for(var a=0;a!=Do.length;++a){var o=Do[a],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&jg(o[0],l,null,n,s)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Xl=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],zR=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function VR(e){var t=[],r=je;return e||(e={}),e.Application="SheetJS",t[t.length]=Ir,t[t.length]=je("Properties",null,{xmlns:Vr.EXT_PROPS,"xmlns:vt":Vr.vt}),Xl.forEach(function(n){if(e[n[1]]!==void 0){var s;switch(n[2]){case"string":s=It(String(e[n[1]]));break;case"bool":s=e[n[1]]?"true":"false";break}s!==void 0&&(t[t.length]=r(n[0],s))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+It(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function WR(e){var t=[Ir,je("Properties",null,{xmlns:Vr.CUST_PROPS,"xmlns:vt":Vr.vt})];if(!e)return t.join("");var r=1;return un(e).forEach(function(s){++r,t[t.length]=je("property",iW(e[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:It(s)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var q2={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function VW(e,t){var r=[];return un(q2).map(function(n){for(var s=0;s<Do.length;++s)if(Do[s][1]==n)return Do[s];for(s=0;s<Xl.length;++s)if(Xl[s][1]==n)return Xl[s];throw n}).forEach(function(n){if(e[n[1]]!=null){var s=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(sn(q2[n[1]]||n[1],s))}}),je("DocumentProperties",r.join(""),{xmlns:as.o})}function WW(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",s=[];return e&&un(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)){for(var o=0;o<Do.length;++o)if(a==Do[o][1])return;for(o=0;o<Xl.length;++o)if(a==Xl[o][1])return;for(o=0;o<r.length;++o)if(a==r[o])return;var l=e[a],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),s.push(je(I2(a),l,{"dt:dt":c}))}}),t&&un(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)&&!(e&&Object.prototype.hasOwnProperty.call(e,a))){var o=t[a],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),s.push(je(I2(a),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+as.o+'">'+s.join("")+"</"+n+">"}function HW(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),s=(r-n)/Math.pow(2,32);n*=1e7,s*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),s+=a);var o=pe(8);return o.write_shift(4,n),o.write_shift(4,s),o}function K2(e,t){var r=pe(4),n=pe(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=pe(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=HW(t);break;case 31:case 80:for(n=pe(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return nn([r,n])}var HR=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function GW(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function X2(e,t,r){var n=pe(8),s=[],a=[],o=8,l=0,c=pe(8),u=pe(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),a.push(c),s.push(u),o+=8+c.length,!t){u=pe(8),u.write_shift(4,0),s.unshift(u);var d=[pe(4)];for(d[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=pe(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=nn(d),a.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(HR.indexOf(e[l][0])>-1||zR.indexOf(e[l][0])>-1)&&e[l][1]!=null){var h=e[l][1],p=0;if(t){p=+t[e[l][0]];var x=r[p];if(x.p=="version"&&typeof h=="string"){var m=h.split(".");h=(+m[0]<<16)+(+m[1]||0)}c=K2(x.t,h)}else{var v=GW(h);v==-1&&(v=31,h=String(h)),c=K2(v,h)}a.push(c),u=pe(8),u.write_shift(4,t?p:2+l),s.push(u),o+=8+c.length}var _=8*(a.length+1);for(l=0;l<a.length;++l)s[l].write_shift(4,_),_+=a[l].length;return n.write_shift(4,o),n.write_shift(4,a.length),nn([n].concat(s).concat(a))}function Y2(e,t,r,n,s,a){var o=pe(s?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Mt.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,s?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,s?68:48);var c=X2(e,r,n);if(l.push(c),s){var u=X2(s,null,null);o.write_shift(16,a,"hex"),o.write_shift(4,68+c.length),l.push(u)}return nn(l)}function qW(e,t){t||(t=pe(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function KW(e,t){return e.read_shift(t)===1}function Tn(e,t){return t||(t=pe(2)),t.write_shift(2,+!!e),t}function GR(e){return e.read_shift(2,"u")}function ys(e,t){return t||(t=pe(2)),t.write_shift(2,e),t}function qR(e,t,r){return r||(r=pe(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function KR(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=e.read_shift(1);a&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var o=n?e.read_shift(n,s):"";return o}function XW(e){var t=e.t||"",r=pe(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=pe(2*t.length);n.write_shift(2*t.length,t,"utf16le");var s=[r,n];return nn(s)}function YW(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var s=e.read_shift(1);return s===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function JW(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):YW(e,n,r)}function QW(e,t,r){if(r.biff>5)return JW(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function XR(e,t,r){return r||(r=pe(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function J2(e,t){t||(t=pe(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function ZW(e){var t=pe(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var s=n.indexOf("#"),a=s>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}t.write_shift(4,2),t.write_shift(4,a);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(a==28)n=n.slice(1),J2(n,t);else if(a&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=s>-1?n.slice(0,s):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),a&8&&J2(s>-1?n.slice(s+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Xo(e,t,r,n){return n||(n=pe(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function eH(e,t,r){var n=r.biff>8?4:2,s=e.read_shift(n),a=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[s,a,o]}function tH(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),s=e.read_shift(2);return{s:{c:n,r:t},e:{c:s,r}}}function YR(e,t){return t||(t=pe(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function tw(e,t,r){var n=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,s=8;break;case"biff4":n=4,s=6;break;case"biff3":n=3,s=6;break;case"biff2":n=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=pe(s);return a.write_shift(2,n),a.write_shift(2,t),s>4&&a.write_shift(2,29282),s>6&&a.write_shift(2,1997),s>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function rH(e,t){var r=!t||t.biff==8,n=pe(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function nH(e,t){var r=!t||t.biff>=8?2:1,n=pe(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var s=n.slice(0,n.l);return s.l=n.l,s}function sH(e,t){var r=pe(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],s=0;s<e.length;++s)n[s]=XW(e[s]);var a=nn([r].concat(n));return a.parts=[r.length].concat(n.map(function(o){return o.length})),a}function aH(){var e=pe(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function iH(e){var t=pe(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function oH(e,t){var r=e.name||"Arial",n=t&&t.biff==5,s=n?15+r.length:16+2*r.length,a=pe(s);return a.write_shift(2,(e.sz||12)*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}function lH(e,t,r,n){var s=pe(10);return Xo(e,t,n,s),s.write_shift(4,r),s}function cH(e,t,r,n,s){var a=!s||s.biff==8,o=pe(8+ +a+(1+a)*r.length);return Xo(e,t,n,o),o.write_shift(2,r.length),a&&o.write_shift(1,1),o.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),o}function uH(e,t,r,n){var s=r&&r.biff==5;n||(n=pe(s?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(s?1:2,t.length),s||n.write_shift(1,1),n.write_shift((s?1:2)*t.length,t,s?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}function dH(e,t){var r=t.biff==8||!t.biff?4:2,n=pe(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function Q2(e,t,r,n){var s=r&&r.biff==5;n||(n=pe(s?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var a=0;return e.numFmtId>0&&s&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),s||n.write_shift(4,0),n.write_shift(2,0),n}function fH(e){var t=pe(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function hH(e,t,r,n,s,a){var o=pe(8);return Xo(e,t,n,o),qR(r,a,o),o}function pH(e,t,r,n){var s=pe(14);return Xo(e,t,n,s),Ko(r,s),s}function mH(e,t,r){if(r.biff<8)return gH(e,t,r);for(var n=[],s=e.l+t,a=e.read_shift(r.biff>8?4:2);a--!==0;)n.push(eH(e,r.biff>8?12:6,r));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return n}function gH(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=KR(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function vH(e){var t=pe(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)YR(e[r],t);return t}function xH(e){var t=pe(24),r=Wr(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)t.write_shift(1,parseInt(n[s],16));return nn([t,ZW(e[1])])}function yH(e){var t=e[1].Tooltip,r=pe(10+2*(t.length+1));r.write_shift(2,2048);var n=Wr(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var s=0;s<t.length;++s)r.write_shift(2,t.charCodeAt(s));return r.write_shift(2,0),r}function wH(e){return e||(e=pe(4)),e.write_shift(2,1),e.write_shift(2,1),e}function _H(e,t,r){if(!r.cellStyles)return ja(e,t);var n=r&&r.biff>=12?4:2,s=e.read_shift(n),a=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s,e:a,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function bH(e,t){var r=pe(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function SH(e){for(var t=pe(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function EH(e,t,r){var n=pe(15);return mf(n,e,t),n.write_shift(8,r,"f"),n}function NH(e,t,r){var n=pe(9);return mf(n,e,t),n.write_shift(2,r),n}var jH=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Wy({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=qo(1);switch(c.type){case"base64":d=Xs(Ja(l));break;case"binary":d=Xs(l);break;case"buffer":case"array":d=l;break}ns(d,0);var f=d.read_shift(1),h=!!(f&136),p=!1,x=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,v=521;f==2&&(m=d.read_shift(2)),d.l+=3,f!=2&&(m=d.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(v=d.read_shift(2));var _=d.read_shift(2),w=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(w=e[d[d.l]]),d.l+=1,d.l+=2),x&&(d.l+=36);for(var y=[],S={},E=Math.min(d.length,f==2?521:v-10-(p?264:0)),C=x?32:11;d.l<E&&d[d.l]!=13;)switch(S={},S.name=yo.utils.decode(w,d.slice(d.l,d.l+C)).replace(/[\u0000\r\n].*$/g,""),d.l+=C,S.type=String.fromCharCode(d.read_shift(1)),f!=2&&!x&&(S.offset=d.read_shift(4)),S.len=d.read_shift(1),f==2&&(S.offset=d.read_shift(2)),S.dec=d.read_shift(1),S.name.length&&y.push(S),f!=2&&(d.l+=x?13:14),S.type){case"B":(!p||S.len!=8)&&c.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+S.type)}if(d[d.l]!==13&&(d.l=v-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=v;var b=0,j=0;for(u[0]=[],j=0;j!=y.length;++j)u[0][j]=y[j].name;for(;m-- >0;){if(d[d.l]===42){d.l+=_;continue}for(++d.l,u[++b]=[],j=0,j=0;j!=y.length;++j){var N=d.slice(d.l,d.l+y[j].len);d.l+=y[j].len,ns(N,0);var R=yo.utils.decode(w,N);switch(y[j].type){case"C":R.trim().length&&(u[b][j]=R.replace(/\s+$/,""));break;case"D":R.length===8?u[b][j]=new Date(+R.slice(0,4),+R.slice(4,6)-1,+R.slice(6,8)):u[b][j]=R;break;case"F":u[b][j]=parseFloat(R.trim());break;case"+":case"I":u[b][j]=x?N.read_shift(-4,"i")^2147483648:N.read_shift(4,"i");break;case"L":switch(R.trim().toUpperCase()){case"Y":case"T":u[b][j]=!0;break;case"N":case"F":u[b][j]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+R+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[b][j]="##MEMO##"+(x?parseInt(R.trim(),10):N.read_shift(4));break;case"N":R=R.replace(/\u0000/g,"").trim(),R&&R!="."&&(u[b][j]=+R||0);break;case"@":u[b][j]=new Date(N.read_shift(-8,"f")-621356832e5);break;case"T":u[b][j]=new Date((N.read_shift(4)-2440588)*864e5+N.read_shift(4));break;case"Y":u[b][j]=N.read_shift(4,"i")/1e4+N.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[b][j]=-N.read_shift(-8,"f");break;case"B":if(p&&y[j].len==8){u[b][j]=N.read_shift(8,"f");break}case"G":case"P":N.l+=y[j].len;break;case"0":if(y[j].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+y[j].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=y,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Jc(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function s(l,c){try{return el(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&kd(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=qn(),f=np(l,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),x=l["!cols"]||[],m=0,v=0,_=0,w=1;for(m=0;m<h.length;++m){if(((x[m]||{}).DBF||{}).name){h[m]=x[m].DBF.name,++_;continue}if(h[m]!=null){if(++_,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(v=0;v<1024;++v)if(h.indexOf(h[m]+"_"+v)==-1){h[m]+="_"+v;break}}}}var y=Zt(l["!ref"]),S=[],E=[],C=[];for(m=0;m<=y.e.c-y.s.c;++m){var b="",j="",N=0,R=[];for(v=0;v<p.length;++v)p[v][m]!=null&&R.push(p[v][m]);if(R.length==0||h[m]==null){S[m]="?";continue}for(v=0;v<R.length;++v){switch(typeof R[v]){case"number":j="B";break;case"string":j="C";break;case"boolean":j="L";break;case"object":j=R[v]instanceof Date?"D":"C";break;default:j="C"}N=Math.max(N,String(R[v]).length),b=b&&b!=j?"C":j}N>250&&(N=250),j=((x[m]||{}).DBF||{}).type,j=="C"&&x[m].DBF.len>N&&(N=x[m].DBF.len),b=="B"&&j=="N"&&(b="N",C[m]=x[m].DBF.dec,N=x[m].DBF.len),E[m]=b=="C"||j=="N"?N:a[b]||0,w+=E[m],S[m]=b}var k=d.next(32);for(k.write_shift(4,318902576),k.write_shift(4,p.length),k.write_shift(2,296+32*_),k.write_shift(2,w),m=0;m<4;++m)k.write_shift(4,0);for(k.write_shift(4,0|(+t[QA]||3)<<8),m=0,v=0;m<h.length;++m)if(h[m]!=null){var O=d.next(32),L=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);O.write_shift(1,L,"sbcs"),O.write_shift(1,S[m]=="?"?"C":S[m],"sbcs"),O.write_shift(4,v),O.write_shift(1,E[m]||a[S[m]]||0),O.write_shift(1,C[m]||0),O.write_shift(1,2),O.write_shift(4,0),O.write_shift(1,0),O.write_shift(4,0),O.write_shift(4,0),v+=E[m]||a[S[m]]||0}var K=d.next(264);for(K.write_shift(4,13),m=0;m<65;++m)K.write_shift(4,0);for(m=0;m<p.length;++m){var M=d.next(w);for(M.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(S[v]){case"L":M.write_shift(1,p[m][v]==null?63:p[m][v]?84:70);break;case"B":M.write_shift(8,p[m][v]||0,"f");break;case"N":var q="0";for(typeof p[m][v]=="number"&&(q=p[m][v].toFixed(C[v]||0)),_=0;_<E[v]-q.length;++_)M.write_shift(1,32);M.write_shift(1,q,"sbcs");break;case"D":p[m][v]?(M.write_shift(4,("0000"+p[m][v].getFullYear()).slice(-4),"sbcs"),M.write_shift(2,("00"+(p[m][v].getMonth()+1)).slice(-2),"sbcs"),M.write_shift(2,("00"+p[m][v].getDate()).slice(-2),"sbcs")):M.write_shift(8,"00000000","sbcs");break;case"C":var ie=String(p[m][v]!=null?p[m][v]:"").slice(0,E[v]);for(M.write_shift(1,ie,"sbcs"),_=0;_<E[v]-ie.length;++_)M.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:s,to_sheet:n,from_sheet:o}}(),CH=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+un(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var x=e[p];return typeof x=="number"?b2(x):x},n=function(h,p,x){var m=p.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return m==59?h:b2(m)};e["|"]=254;function s(h,p){switch(p.type){case"base64":return a(Ja(h),p);case"binary":return a(h,p);case"buffer":return a(Ct&&Buffer.isBuffer(h)?h.toString("binary"):uf(h),p);case"array":return a(fm(h),p)}throw new Error("Unrecognized type "+p.type)}function a(h,p){var x=h.split(/[\n\r]+/),m=-1,v=-1,_=0,w=0,y=[],S=[],E=null,C={},b=[],j=[],N=[],R=0,k;for(+p.codepage>=0&&kd(+p.codepage);_!==x.length;++_){R=0;var O=x[_].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),L=O.replace(/;;/g,"\0").split(";").map(function(W){return W.replace(/\u0000/g,";")}),K=L[0],M;if(O.length>0)switch(K){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":L[1].charAt(0)=="P"&&S.push(O.slice(3).replace(/;;/g,";"));break;case"C":var q=!1,ie=!1,X=!1,J=!1,Y=-1,ge=-1;for(w=1;w<L.length;++w)switch(L[w].charAt(0)){case"A":break;case"X":v=parseInt(L[w].slice(1))-1,ie=!0;break;case"Y":for(m=parseInt(L[w].slice(1))-1,ie||(v=0),k=y.length;k<=m;++k)y[k]=[];break;case"K":M=L[w].slice(1),M.charAt(0)==='"'?M=M.slice(1,M.length-1):M==="TRUE"?M=!0:M==="FALSE"?M=!1:isNaN(za(M))?isNaN(Rd(M).getDate())||(M=Pn(M)):(M=za(M),E!==null&&uR(E)&&(M=pR(M))),q=!0;break;case"E":J=!0;var P=NG(L[w].slice(1),{r:m,c:v});y[m][v]=[y[m][v],P];break;case"S":X=!0,y[m][v]=[y[m][v],"S5S"];break;case"G":break;case"R":Y=parseInt(L[w].slice(1))-1;break;case"C":ge=parseInt(L[w].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+O)}if(q&&(y[m][v]&&y[m][v].length==2?y[m][v][0]=M:y[m][v]=M,E=null),X){if(J)throw new Error("SYLK shared formula cannot have own formula");var G=Y>-1&&y[Y][ge];if(!G||!G[1])throw new Error("SYLK shared formula cannot find base");y[m][v][1]=jG(G[1],{r:m-Y,c:v-ge})}break;case"F":var B=0;for(w=1;w<L.length;++w)switch(L[w].charAt(0)){case"X":v=parseInt(L[w].slice(1))-1,++B;break;case"Y":for(m=parseInt(L[w].slice(1))-1,k=y.length;k<=m;++k)y[k]=[];break;case"M":R=parseInt(L[w].slice(1))/20;break;case"F":break;case"G":break;case"P":E=S[parseInt(L[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(N=L[w].slice(1).split(" "),k=parseInt(N[0],10);k<=parseInt(N[1],10);++k)R=parseInt(N[2],10),j[k-1]=R===0?{hidden:!0}:{wch:R},rw(j[k-1]);break;case"C":v=parseInt(L[w].slice(1))-1,j[v]||(j[v]={});break;case"R":m=parseInt(L[w].slice(1))-1,b[m]||(b[m]={}),R>0?(b[m].hpt=R,b[m].hpx=tO(R)):R===0&&(b[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+O)}B<1&&(E=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+O)}}return b.length>0&&(C["!rows"]=b),j.length>0&&(C["!cols"]=j),p&&p.sheetRows&&(y=y.slice(0,p.sheetRows)),[y,C]}function o(h,p){var x=s(h,p),m=x[0],v=x[1],_=Jc(m,p);return un(v).forEach(function(w){_[w]=v[w]}),_}function l(h,p){return el(o(h,p),p)}function c(h,p,x,m){var v="C;Y"+(x+1)+";X"+(m+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+sw(h.f,{r:x,c:m}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(h,p){p.forEach(function(x,m){var v="F;W"+(m+1)+" "+(m+1)+" ";x.hidden?v+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=Z0(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=ep(x.wpx)),typeof x.wch=="number"&&(v+=Math.round(x.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function d(h,p){p.forEach(function(x,m){var v="F;";x.hidden?v+="M0;":x.hpt?v+="M"+20*x.hpt+";":x.hpx&&(v+="M"+20*tp(x.hpx)+";"),v.length>2&&h.push(v+"R"+(m+1))})}function f(h,p){var x=["ID;PWXL;N;E"],m=[],v=Zt(h["!ref"]),_,w=Array.isArray(h),y=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),h["!cols"]&&u(x,h["!cols"]),h["!rows"]&&d(x,h["!rows"]),x.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var S=v.s.r;S<=v.e.r;++S)for(var E=v.s.c;E<=v.e.c;++E){var C=Ft({r:S,c:E});_=w?(h[S]||[])[E]:h[C],!(!_||_.v==null&&(!_.f||_.F))&&m.push(c(_,h,S,E))}return x.join(y)+y+m.join(y)+y+"E"+y}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),TH=function(){function e(a,o){switch(o.type){case"base64":return t(Ja(a),o);case"binary":return t(a,o);case"buffer":return t(Ct&&Buffer.isBuffer(a)?a.toString("binary"):uf(a),o);case"array":return t(fm(a),o)}throw new Error("Unrecognized type "+o.type)}function t(a,o){for(var l=a.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=l[d].trim().split(","),p=h[0],x=h[1];++d;for(var m=l[d]||"";(m.match(/["]/g)||[]).length&1&&d<l.length-1;)m+=`
`+l[++d];switch(m=m.trim(),+p){case-1:if(m==="BOT"){f[++c]=[],u=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[c][u]=!0:m==="FALSE"?f[c][u]=!1:isNaN(za(x))?isNaN(Rd(x).getDate())?f[c][u]=x:f[c][u]=Pn(x):f[c][u]=za(x),++u;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[c][u++]=m!==""?m:null;break}if(m==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(a,o){return Jc(e(a,o),o)}function n(a,o){return el(r(a,o),o)}var s=function(){var a=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},o=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=Zt(c["!ref"]),f,h=Array.isArray(c);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,d.e.r-d.s.r+1,""),a(u,"TUPLES",0,d.e.c-d.s.c+1,""),a(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){o(u,-1,0,"BOT");for(var x=d.s.c;x<=d.e.c;++x){var m=Ft({r:p,c:x});if(f=h?(c[p]||[])[x]:c[m],!f){o(u,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,v,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Yi(f.z||wr[14],Kn(Pn(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var _=`\r
`,w=u.join(_);return w}}();return{to_workbook:n,to_sheet:r,from_sheet:s}}(),JR=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),x=-1,m=-1,v=0,_=[];v!==p.length;++v){var w=p[v].trim().split(":");if(w[0]==="cell"){var y=Wr(w[1]);if(_.length<=y.r)for(x=_.length;x<=y.r;++x)_[x]||(_[x]=[]);switch(x=y.r,m=y.c,w[2]){case"t":_[x][m]=e(w[3]);break;case"v":_[x][m]=+w[3];break;case"vtf":var S=w[w.length-1];case"vtc":switch(w[3]){case"nl":_[x][m]=!!+w[4];break;default:_[x][m]=+w[4];break}w[2]=="vtf"&&(_[x][m]=[_[x][m],S])}}}return h&&h.sheetRows&&(_=_.slice(0,h.sheetRows)),_}function n(f,h){return Jc(r(f,h),h)}function s(f,h){return el(n(f,h),h)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],x,m="",v=ps(f["!ref"]),_=Array.isArray(f),w=v.s.r;w<=v.e.r;++w)for(var y=v.s.c;y<=v.e.c;++y)if(m=Ft({r:w,c:y}),x=_?(f[w]||[])[y]:f[m],!(!x||x.v==null||x.t==="z")){switch(p=["cell",m,"t"],x.t){case"s":case"str":p.push(t(x.v));break;case"n":x.f?(p[2]="vtf",p[3]="n",p[4]=x.v,p[5]=t(x.f)):(p[2]="v",p[3]=x.v);break;case"b":p[2]="vt"+(x.f?"f":"c"),p[3]="nl",p[4]=x.v?"1":"0",p[5]=t(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var S=Kn(Pn(x.v));p[2]="vtc",p[3]="nd",p[4]=""+S,p[5]=x.w||Yi(x.z||wr[14],S);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[a,o,l,o,u(f),c].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:d}}(),kH=function(){function e(d,f,h,p,x){x.raw?f[h][p]=d:d===""||(d==="TRUE"?f[h][p]=!0:d==="FALSE"?f[h][p]=!1:isNaN(za(d))?isNaN(Rd(d).getDate())?f[h][p]=d:f[h][p]=Pn(d):f[h][p]=za(d))}function t(d,f){var h=f||{},p=[];if(!d||d.length===0)return p;for(var x=d.split(/[\r\n]/),m=x.length-1;m>=0&&x[m].length===0;)--m;for(var v=10,_=0,w=0;w<=m;++w)_=x[w].indexOf(" "),_==-1?_=x[w].length:_++,v=Math.max(v,_);for(w=0;w<=m;++w){p[w]=[];var y=0;for(e(x[w].slice(0,v).trim(),p,w,y,h),y=1;y<=(x[w].length-v)/10+1;++y)e(x[w].slice(v+(y-1)*10,v+y*10).trim(),p,w,y,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(d){for(var f={},h=!1,p=0,x=0;p<d.length;++p)(x=d.charCodeAt(p))==34?h=!h:!h&&x in r&&(f[x]=(f[x]||0)+1);x=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&x.push([f[p],p]);if(!x.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&x.push([f[p],p])}return x.sort(function(m,v){return m[0]-v[0]||n[m[1]]-n[v[1]]}),r[x.pop()[1]]||44}function a(d,f){var h=f||{},p="",x=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=s(d.slice(0,1024)):h&&h.FS?p=h.FS:p=s(d.slice(0,1024));var v=0,_=0,w=0,y=0,S=0,E=p.charCodeAt(0),C=!1,b=0,j=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var N=h.dateNF!=null?HV(h.dateNF):null;function R(){var k=d.slice(y,S),O={};if(k.charAt(0)=='"'&&k.charAt(k.length-1)=='"'&&(k=k.slice(1,-1).replace(/""/g,'"')),k.length===0)O.t="z";else if(h.raw)O.t="s",O.v=k;else if(k.trim().length===0)O.t="s",O.v=k;else if(k.charCodeAt(0)==61)k.charCodeAt(1)==34&&k.charCodeAt(k.length-1)==34?(O.t="s",O.v=k.slice(2,-1).replace(/""/g,'"')):CG(k)?(O.t="n",O.f=k.slice(1)):(O.t="s",O.v=k);else if(k=="TRUE")O.t="b",O.v=!0;else if(k=="FALSE")O.t="b",O.v=!1;else if(!isNaN(w=za(k)))O.t="n",h.cellText!==!1&&(O.w=k),O.v=w;else if(!isNaN(Rd(k).getDate())||N&&k.match(N)){O.z=h.dateNF||wr[14];var L=0;N&&k.match(N)&&(k=GV(k,h.dateNF,k.match(N)||[]),L=1),h.cellDates?(O.t="d",O.v=Pn(k,L)):(O.t="n",O.v=Kn(Pn(k,L))),h.cellText!==!1&&(O.w=Yi(O.z,O.v instanceof Date?Kn(O.v):O.v)),h.cellNF||delete O.z}else O.t="s",O.v=k;if(O.t=="z"||(h.dense?(x[v]||(x[v]=[]),x[v][_]=O):x[Ft({c:_,r:v})]=O),y=S+1,j=d.charCodeAt(y),m.e.c<_&&(m.e.c=_),m.e.r<v&&(m.e.r=v),b==E)++_;else if(_=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;S<d.length;++S)switch(b=d.charCodeAt(S)){case 34:j===34&&(C=!C);break;case E:case 10:case 13:if(!C&&R())break e;break}return S-y>0&&R(),x["!ref"]=Or(m),x}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?a(d,f):Jc(t(d,f),f)}function l(d,f){var h="",p=f.type=="string"?[0,0,0,0]:UY(d,f);switch(f.type){case"base64":h=Ja(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof yo<"u"?h=yo.utils.decode(f.codepage,d):h=Ct&&Buffer.isBuffer(d)?d.toString("binary"):uf(d);break;case"array":h=fm(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=zu(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=zu(h):f.type=="binary"&&typeof yo<"u"&&f.codepage&&(h=yo.utils.decode(f.codepage,yo.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?JR.to_sheet(f.type=="string"?h:zu(h),f):o(h,f)}function c(d,f){return el(l(d,f),f)}function u(d){for(var f=[],h=Zt(d["!ref"]),p,x=Array.isArray(d),m=h.s.r;m<=h.e.r;++m){for(var v=[],_=h.s.c;_<=h.e.c;++_){var w=Ft({r:m,c:_});if(p=x?(d[m]||[])[_]:d[w],!p||p.v==null){v.push("          ");continue}for(var y=(p.w||(Qa(p),p.w)||"").slice(0,10);y.length<10;)y+=" ";v.push(y+(_===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}(),Z2=function(){function e(P,G,B){if(P){ns(P,P.l||0);for(var W=B.Enum||Y;P.l<P.length;){var ee=P.read_shift(2),U=W[ee]||W[65535],he=P.read_shift(2),ce=P.l+he,A=U.f&&U.f(P,he,B);if(P.l=ce,G(A,U,ee))return}}}function t(P,G){switch(G.type){case"base64":return r(Xs(Ja(P)),G);case"binary":return r(Xs(P),G);case"buffer":case"array":return r(P,G)}throw"Unsupported type "+G.type}function r(P,G){if(!P)return P;var B=G||{},W=B.dense?[]:{},ee="Sheet1",U="",he=0,ce={},A=[],H=[],ne={s:{r:0,c:0},e:{r:0,c:0}},Re=B.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)B.Enum=Y,e(P,function(te,Xe,We){switch(We){case 0:B.vers=te,te>=4096&&(B.qpro=!0);break;case 6:ne=te;break;case 204:te&&(U=te);break;case 222:U=te;break;case 15:case 51:B.qpro||(te[1].v=te[1].v.slice(1));case 13:case 14:case 16:We==14&&(te[2]&112)==112&&(te[2]&15)>1&&(te[2]&15)<15&&(te[1].z=B.dateNF||wr[14],B.cellDates&&(te[1].t="d",te[1].v=pR(te[1].v))),B.qpro&&te[3]>he&&(W["!ref"]=Or(ne),ce[ee]=W,A.push(ee),W=B.dense?[]:{},ne={s:{r:0,c:0},e:{r:0,c:0}},he=te[3],ee=U||"Sheet"+(he+1),U="");var Je=B.dense?(W[te[0].r]||[])[te[0].c]:W[Ft(te[0])];if(Je){Je.t=te[1].t,Je.v=te[1].v,te[1].z!=null&&(Je.z=te[1].z),te[1].f!=null&&(Je.f=te[1].f);break}B.dense?(W[te[0].r]||(W[te[0].r]=[]),W[te[0].r][te[0].c]=te[1]):W[Ft(te[0])]=te[1];break}},B);else if(P[2]==26||P[2]==14)B.Enum=ge,P[2]==14&&(B.qpro=!0,P.l=0),e(P,function(te,Xe,We){switch(We){case 204:ee=te;break;case 22:te[1].v=te[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(te[3]>he&&(W["!ref"]=Or(ne),ce[ee]=W,A.push(ee),W=B.dense?[]:{},ne={s:{r:0,c:0},e:{r:0,c:0}},he=te[3],ee="Sheet"+(he+1)),Re>0&&te[0].r>=Re)break;B.dense?(W[te[0].r]||(W[te[0].r]=[]),W[te[0].r][te[0].c]=te[1]):W[Ft(te[0])]=te[1],ne.e.c<te[0].c&&(ne.e.c=te[0].c),ne.e.r<te[0].r&&(ne.e.r=te[0].r);break;case 27:te[14e3]&&(H[te[14e3][0]]=te[14e3][1]);break;case 1537:H[te[0]]=te[1],te[0]==he&&(ee=te[1]);break}},B);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(W["!ref"]=Or(ne),ce[U||ee]=W,A.push(U||ee),!H.length)return{SheetNames:A,Sheets:ce};for(var Z={},_e=[],ue=0;ue<H.length;++ue)ce[A[ue]]?(_e.push(H[ue]||A[ue]),Z[H[ue]]=ce[H[ue]]||ce[A[ue]]):(_e.push(H[ue]),Z[H[ue]]={"!ref":"A1"});return{SheetNames:_e,Sheets:Z}}function n(P,G){var B=G||{};if(+B.codepage>=0&&kd(+B.codepage),B.type=="string")throw new Error("Cannot write WK1 to JS string");var W=qn(),ee=Zt(P["!ref"]),U=Array.isArray(P),he=[];Ce(W,0,a(1030)),Ce(W,6,c(ee));for(var ce=Math.min(ee.e.r,8191),A=ee.s.r;A<=ce;++A)for(var H=ln(A),ne=ee.s.c;ne<=ee.e.c;++ne){A===ee.s.r&&(he[ne]=_n(ne));var Re=he[ne]+H,Z=U?(P[A]||[])[ne]:P[Re];if(!(!Z||Z.t=="z"))if(Z.t=="n")(Z.v|0)==Z.v&&Z.v>=-32768&&Z.v<=32767?Ce(W,13,p(A,ne,Z.v)):Ce(W,14,m(A,ne,Z.v));else{var _e=Qa(Z);Ce(W,15,f(A,ne,_e.slice(0,239)))}}return Ce(W,1),W.end()}function s(P,G){var B=G||{};if(+B.codepage>=0&&kd(+B.codepage),B.type=="string")throw new Error("Cannot write WK3 to JS string");var W=qn();Ce(W,0,o(P));for(var ee=0,U=0;ee<P.SheetNames.length;++ee)(P.Sheets[P.SheetNames[ee]]||{})["!ref"]&&Ce(W,27,J(P.SheetNames[ee],U++));var he=0;for(ee=0;ee<P.SheetNames.length;++ee){var ce=P.Sheets[P.SheetNames[ee]];if(!(!ce||!ce["!ref"])){for(var A=Zt(ce["!ref"]),H=Array.isArray(ce),ne=[],Re=Math.min(A.e.r,8191),Z=A.s.r;Z<=Re;++Z)for(var _e=ln(Z),ue=A.s.c;ue<=A.e.c;++ue){Z===A.s.r&&(ne[ue]=_n(ue));var te=ne[ue]+_e,Xe=H?(ce[Z]||[])[ue]:ce[te];if(!(!Xe||Xe.t=="z"))if(Xe.t=="n")Ce(W,23,R(Z,ue,he,Xe.v));else{var We=Qa(Xe);Ce(W,22,b(Z,ue,he,We.slice(0,239)))}}++he}}return Ce(W,1),W.end()}function a(P){var G=pe(2);return G.write_shift(2,P),G}function o(P){var G=pe(26);G.write_shift(2,4096),G.write_shift(2,4),G.write_shift(4,0);for(var B=0,W=0,ee=0,U=0;U<P.SheetNames.length;++U){var he=P.SheetNames[U],ce=P.Sheets[he];if(!(!ce||!ce["!ref"])){++ee;var A=ps(ce["!ref"]);B<A.e.r&&(B=A.e.r),W<A.e.c&&(W=A.e.c)}}return B>8191&&(B=8191),G.write_shift(2,B),G.write_shift(1,ee),G.write_shift(1,W),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(1,1),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(4,0),G}function l(P,G,B){var W={s:{c:0,r:0},e:{c:0,r:0}};return G==8&&B.qpro?(W.s.c=P.read_shift(1),P.l++,W.s.r=P.read_shift(2),W.e.c=P.read_shift(1),P.l++,W.e.r=P.read_shift(2),W):(W.s.c=P.read_shift(2),W.s.r=P.read_shift(2),G==12&&B.qpro&&(P.l+=2),W.e.c=P.read_shift(2),W.e.r=P.read_shift(2),G==12&&B.qpro&&(P.l+=2),W.s.c==65535&&(W.s.c=W.e.c=W.s.r=W.e.r=0),W)}function c(P){var G=pe(8);return G.write_shift(2,P.s.c),G.write_shift(2,P.s.r),G.write_shift(2,P.e.c),G.write_shift(2,P.e.r),G}function u(P,G,B){var W=[{c:0,r:0},{t:"n",v:0},0,0];return B.qpro&&B.vers!=20768?(W[0].c=P.read_shift(1),W[3]=P.read_shift(1),W[0].r=P.read_shift(2),P.l+=2):(W[2]=P.read_shift(1),W[0].c=P.read_shift(2),W[0].r=P.read_shift(2)),W}function d(P,G,B){var W=P.l+G,ee=u(P,G,B);if(ee[1].t="s",B.vers==20768){P.l++;var U=P.read_shift(1);return ee[1].v=P.read_shift(U,"utf8"),ee}return B.qpro&&P.l++,ee[1].v=P.read_shift(W-P.l,"cstr"),ee}function f(P,G,B){var W=pe(7+B.length);W.write_shift(1,255),W.write_shift(2,G),W.write_shift(2,P),W.write_shift(1,39);for(var ee=0;ee<W.length;++ee){var U=B.charCodeAt(ee);W.write_shift(1,U>=128?95:U)}return W.write_shift(1,0),W}function h(P,G,B){var W=u(P,G,B);return W[1].v=P.read_shift(2,"i"),W}function p(P,G,B){var W=pe(7);return W.write_shift(1,255),W.write_shift(2,G),W.write_shift(2,P),W.write_shift(2,B,"i"),W}function x(P,G,B){var W=u(P,G,B);return W[1].v=P.read_shift(8,"f"),W}function m(P,G,B){var W=pe(13);return W.write_shift(1,255),W.write_shift(2,G),W.write_shift(2,P),W.write_shift(8,B,"f"),W}function v(P,G,B){var W=P.l+G,ee=u(P,G,B);if(ee[1].v=P.read_shift(8,"f"),B.qpro)P.l=W;else{var U=P.read_shift(2);S(P.slice(P.l,P.l+U),ee),P.l+=U}return ee}function _(P,G,B){var W=G&32768;return G&=-32769,G=(W?P:0)+(G>=8192?G-16384:G),(W?"":"$")+(B?_n(G):ln(G))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function S(P,G){ns(P,0);for(var B=[],W=0,ee="",U="",he="",ce="";P.l<P.length;){var A=P[P.l++];switch(A){case 0:B.push(P.read_shift(8,"f"));break;case 1:U=_(G[0].c,P.read_shift(2),!0),ee=_(G[0].r,P.read_shift(2),!1),B.push(U+ee);break;case 2:{var H=_(G[0].c,P.read_shift(2),!0),ne=_(G[0].r,P.read_shift(2),!1);U=_(G[0].c,P.read_shift(2),!0),ee=_(G[0].r,P.read_shift(2),!1),B.push(H+ne+":"+U+ee)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:B.push("("+B.pop()+")");break;case 5:B.push(P.read_shift(2));break;case 6:{for(var Re="";A=P[P.l++];)Re+=String.fromCharCode(A);B.push('"'+Re.replace(/"/g,'""')+'"')}break;case 8:B.push("-"+B.pop());break;case 23:B.push("+"+B.pop());break;case 22:B.push("NOT("+B.pop()+")");break;case 20:case 21:ce=B.pop(),he=B.pop(),B.push(["AND","OR"][A-20]+"("+he+","+ce+")");break;default:if(A<32&&y[A])ce=B.pop(),he=B.pop(),B.push(he+y[A]+ce);else if(w[A]){if(W=w[A][1],W==69&&(W=P[P.l++]),W>B.length){console.error("WK1 bad formula parse 0x"+A.toString(16)+":|"+B.join("|")+"|");return}var Z=B.slice(-W);B.length-=W,B.push(w[A][0]+"("+Z.join(",")+")")}else return A<=7?console.error("WK1 invalid opcode "+A.toString(16)):A<=24?console.error("WK1 unsupported op "+A.toString(16)):A<=30?console.error("WK1 invalid opcode "+A.toString(16)):A<=115?console.error("WK1 unsupported function opcode "+A.toString(16)):console.error("WK1 unrecognized opcode "+A.toString(16))}}B.length==1?G[1].f=""+B[0]:console.error("WK1 bad formula parse |"+B.join("|")+"|")}function E(P){var G=[{c:0,r:0},{t:"n",v:0},0];return G[0].r=P.read_shift(2),G[3]=P[P.l++],G[0].c=P[P.l++],G}function C(P,G){var B=E(P);return B[1].t="s",B[1].v=P.read_shift(G-4,"cstr"),B}function b(P,G,B,W){var ee=pe(6+W.length);ee.write_shift(2,P),ee.write_shift(1,B),ee.write_shift(1,G),ee.write_shift(1,39);for(var U=0;U<W.length;++U){var he=W.charCodeAt(U);ee.write_shift(1,he>=128?95:he)}return ee.write_shift(1,0),ee}function j(P,G){var B=E(P);B[1].v=P.read_shift(2);var W=B[1].v>>1;if(B[1].v&1)switch(W&7){case 0:W=(W>>3)*5e3;break;case 1:W=(W>>3)*500;break;case 2:W=(W>>3)/20;break;case 3:W=(W>>3)/200;break;case 4:W=(W>>3)/2e3;break;case 5:W=(W>>3)/2e4;break;case 6:W=(W>>3)/16;break;case 7:W=(W>>3)/64;break}return B[1].v=W,B}function N(P,G){var B=E(P),W=P.read_shift(4),ee=P.read_shift(4),U=P.read_shift(2);if(U==65535)return W===0&&ee===3221225472?(B[1].t="e",B[1].v=15):W===0&&ee===3489660928?(B[1].t="e",B[1].v=42):B[1].v=0,B;var he=U&32768;return U=(U&32767)-16446,B[1].v=(1-he*2)*(ee*Math.pow(2,U+32)+W*Math.pow(2,U)),B}function R(P,G,B,W){var ee=pe(14);if(ee.write_shift(2,P),ee.write_shift(1,B),ee.write_shift(1,G),W==0)return ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(2,65535),ee;var U=0,he=0,ce=0,A=0;return W<0&&(U=1,W=-W),he=Math.log2(W)|0,W/=Math.pow(2,he-31),A=W>>>0,A&2147483648||(W/=2,++he,A=W>>>0),W-=A,A|=2147483648,A>>>=0,W*=Math.pow(2,32),ce=W>>>0,ee.write_shift(4,ce),ee.write_shift(4,A),he+=16383+(U?32768:0),ee.write_shift(2,he),ee}function k(P,G){var B=N(P);return P.l+=G-14,B}function O(P,G){var B=E(P),W=P.read_shift(4);return B[1].v=W>>6,B}function L(P,G){var B=E(P),W=P.read_shift(8,"f");return B[1].v=W,B}function K(P,G){var B=L(P);return P.l+=G-10,B}function M(P,G){return P[P.l+G-1]==0?P.read_shift(G,"cstr"):""}function q(P,G){var B=P[P.l++];B>G-1&&(B=G-1);for(var W="";W.length<B;)W+=String.fromCharCode(P[P.l++]);return W}function ie(P,G,B){if(!(!B.qpro||G<21)){var W=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var ee=P.read_shift(G-21,"cstr");return[W,ee]}}function X(P,G){for(var B={},W=P.l+G;P.l<W;){var ee=P.read_shift(2);if(ee==14e3){for(B[ee]=[0,""],B[ee][0]=P.read_shift(2);P[P.l];)B[ee][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return B}function J(P,G){var B=pe(5+P.length);B.write_shift(2,14e3),B.write_shift(2,G);for(var W=0;W<P.length;++W){var ee=P.charCodeAt(W);B[B.l++]=ee>127?95:ee}return B[B.l++]=0,B}var Y={0:{n:"BOF",f:GR},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:M},222:{n:"SHEETNAMELP",f:q},65535:{n:""}},ge={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:C},23:{n:"NUMBER17",f:N},24:{n:"NUMBER18",f:j},25:{n:"FORMULA19",f:k},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:X},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:O},38:{n:"??"},39:{n:"NUMBER27",f:L},40:{n:"FORMULA28",f:K},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:M},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ie},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:t}}(),AH=/^\s|\s$|[\t\n\r]/;function QR(e,t){if(!t.bookSST)return"";var r=[Ir];r[r.length]=je("sst",null,{xmlns:Yc[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var s=e[n],a="<si>";s.r?a+=s.r:(a+="<t",s.t||(s.t=""),s.t.match(AH)&&(a+=' xml:space="preserve"'),a+=">"+It(s.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function RH(e){return[e.read_shift(4),e.read_shift(4)]}function OH(e,t){return t||(t=pe(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var PH=SW;function IH(e){var t=qn();ye(t,159,OH(e));for(var r=0;r<e.length;++r)ye(t,19,PH(e[r]));return ye(t,160),t.end()}function DH(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function ZR(e){var t=0,r,n=DH(e),s=n.length+1,a,o,l,c,u;for(r=qo(s),r[0]=n.length,a=1;a!=s;++a)r[a]=n[a-1];for(a=s-1;a>=0;--a)o=r[a],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var FH=function(){function e(s,a){switch(a.type){case"base64":return t(Ja(s),a);case"binary":return t(s,a);case"buffer":return t(Ct&&Buffer.isBuffer(s)?s.toString("binary"):uf(s),a);case"array":return t(fm(s),a)}throw new Error("Unrecognized type "+a.type)}function t(s,a){var o=a||{},l=o.dense?[]:{},c=s.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,p=0,x,m=-1;x=h.exec(d);){switch(x[0]){case"\\cell":var v=d.slice(p,h.lastIndex-x[0].length);if(v[0]==" "&&(v=v.slice(1)),++m,v.length){var _={v,t:"s"};Array.isArray(l)?l[f][m]=_:l[Ft({r:f,c:m})]=_}break}p=h.lastIndex}m>u.e.c&&(u.e.c=m)}),l["!ref"]=Or(u),l}function r(s,a){return el(e(s,a),a)}function n(s){for(var a=["{\\rtf1\\ansi"],o=Zt(s["!ref"]),l,c=Array.isArray(s),u=o.s.r;u<=o.e.r;++u){a.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)a.push("\\cellx"+(d+1));for(a.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=Ft({r:u,c:d});l=c?(s[u]||[])[d]:s[f],!(!l||l.v==null&&(!l.f||l.F))&&(a.push(" "+(l.w||(Qa(l),l.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function eS(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var LH=6,Va=LH;function Z0(e){return Math.floor((e+Math.round(128/Va)/256)*Va)}function ep(e){return Math.floor((e-5)/Va*100+.5)/100}function kx(e){return Math.round((e*Va+5)/Va*256)/256}function rw(e){e.width?(e.wpx=Z0(e.width),e.wch=ep(e.wpx),e.MDW=Va):e.wpx?(e.wch=ep(e.wpx),e.width=kx(e.wch),e.MDW=Va):typeof e.wch=="number"&&(e.width=kx(e.wch),e.wpx=Z0(e.width),e.MDW=Va),e.customWidth&&delete e.customWidth}var MH=96,eO=MH;function tp(e){return e*96/eO}function tO(e){return e*eO/96}function BH(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=je("numFmt",null,{numFmtId:n,formatCode:It(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=je("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function $H(e){var t=[];return t[t.length]=je("cellXfs",null),e.forEach(function(r){t[t.length]=je("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=je("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function rO(e,t){var r=[Ir,je("styleSheet",null,{xmlns:Yc[0],"xmlns:vt":Vr.vt})],n;return e.SSF&&(n=BH(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=$H(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function UH(e,t){var r=e.read_shift(2),n=bn(e);return[r,n]}function zH(e,t,r){r||(r=pe(6+4*t.length)),r.write_shift(2,e),Hr(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function VH(e,t,r){var n={};n.sz=e.read_shift(2)/20;var s=AW(e);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var a=e.read_shift(2);switch(a===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=kW(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=bn(e),n}function WH(e,t){t||(t=pe(25+4*32)),t.write_shift(2,e.sz*20),RW(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),J0(e.color,t);var n=0;return e.scheme=="major"&&(n=1),e.scheme=="minor"&&(n=2),t.write_shift(1,n),Hr(e.name,t),t.length>t.l?t.slice(0,t.l):t}var HH=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Cg,GH=ja;function tS(e,t){t||(t=pe(4*3+8*7+16*1)),Cg||(Cg=Wy(HH));var r=Cg[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(J0({auto:1},t),J0({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function qH(e,t){var r=e.l+t,n=e.read_shift(2),s=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:s}}function nO(e,t,r){r||(r=pe(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function mu(e,t){return t||(t=pe(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var KH=ja;function XH(e,t){return t||(t=pe(51)),t.write_shift(1,0),mu(null,t),mu(null,t),mu(null,t),mu(null,t),mu(null,t),t.length>t.l?t.slice(0,t.l):t}function YH(e,t){return t||(t=pe(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),Y0(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function JH(e,t,r){var n=pe(2052);return n.write_shift(4,e),Y0(t,n),Y0(r,n),n.length>n.l?n.slice(0,n.l):n}function QH(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&++r}),r!=0&&(ye(e,615,ta(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&ye(e,44,zH(s,t[s]))}),ye(e,616))}}function ZH(e){var t=1;ye(e,611,ta(t)),ye(e,43,WH({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),ye(e,612)}function eG(e){var t=2;ye(e,603,ta(t)),ye(e,45,tS({patternType:"none"})),ye(e,45,tS({patternType:"gray125"})),ye(e,604)}function tG(e){var t=1;ye(e,613,ta(t)),ye(e,46,XH()),ye(e,614)}function rG(e){var t=1;ye(e,626,ta(t)),ye(e,47,nO({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),ye(e,627)}function nG(e,t){ye(e,617,ta(t.length)),t.forEach(function(r){ye(e,47,nO(r,0))}),ye(e,618)}function sG(e){var t=1;ye(e,619,ta(t)),ye(e,48,YH({xfId:0,builtinId:0,name:"Normal"})),ye(e,620)}function aG(e){var t=0;ye(e,505,ta(t)),ye(e,506)}function iG(e){var t=0;ye(e,508,JH(t,"TableStyleMedium9","PivotStyleMedium4")),ye(e,509)}function oG(e,t){var r=qn();return ye(r,278),QH(r,e.SSF),ZH(r),eG(r),tG(r),rG(r),nG(r,t.cellXfs),sG(r),aG(r),iG(r),ye(r,279),r.end()}function sO(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Ir];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function lG(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:bn(e)}}function cG(e){var t=pe(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Hr(e.name,t),t.slice(0,t.l)}function uG(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function dG(e){var t=pe(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function fG(e,t){var r=pe(8+2*t.length);return r.write_shift(4,e),Hr(t,r),r.slice(0,r.l)}function hG(e){return e.l+=4,e.read_shift(4)!=0}function pG(e,t){var r=pe(8);return r.write_shift(4,e),r.write_shift(4,1),r}function mG(){var e=qn();return ye(e,332),ye(e,334,ta(1)),ye(e,335,cG({name:"XLDAPR",version:12e4,flags:3496657072})),ye(e,336),ye(e,339,fG(1,"XLDAPR")),ye(e,52),ye(e,35,ta(514)),ye(e,4096,ta(0)),ye(e,4097,ys(1)),ye(e,36),ye(e,53),ye(e,340),ye(e,337,pG(1)),ye(e,51,dG([[1,0]])),ye(e,338),ye(e,333),e.end()}function aO(){var e=[Ir];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function gG(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Ft(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var Il=1024;function iO(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[je("xml",null,{"xmlns:v":as.v,"xmlns:o":as.o,"xmlns:x":as.x,"xmlns:mv":as.mv}).replace(/\/>/,">"),je("o:shapelayout",je("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),je("v:shapetype",[je("v:stroke",null,{joinstyle:"miter"}),je("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Il<e*1e3;)Il+=1e3;return t.forEach(function(a){var o=Wr(a[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?je("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=je("v:fill",c,l),d={on:"t",obscured:"t"};++Il,s=s.concat(["<v:shape"+Pd({id:"_x0000_s"+Il,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,je("v:shadow",null,d),je("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",sn("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),sn("x:AutoFill","False"),sn("x:Row",String(o.r)),sn("x:Column",String(o.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function oO(e){var t=[Ir,je("comments",null,{xmlns:Yc[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(s){var a=It(s.a);r.indexOf(a)==-1&&(r.push(a),t.push("<author>"+a+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),t.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var s=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?s=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(s=r.indexOf(It(c.a))),a.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+s+'"><text>'),a.length<=1)t.push(sn("t",It(a[0]||"")));else{for(var o=`Comment:
    `+a[0]+`
`,l=1;l<a.length;++l)o+=`Reply:
    `+a[l]+`
`;t.push(sn("t",It(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function vG(e,t,r){var n=[Ir,je("ThreadedComments",null,{xmlns:Vr.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(s){var a="";(s[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?a=c.id:c.parentId=a,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(je("threadedComment",sn("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function xG(e){var t=[Ir,je("personList",null,{xmlns:Vr.TCMNT,"xmlns:x":Yc[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(je("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function yG(e){var t={};t.iauthor=e.read_shift(4);var r=sl(e);return t.rfx=r.s,t.ref=Ft(r.s),e.l+=16,t}function wG(e,t){return t==null&&(t=pe(36)),t.write_shift(4,e[1].iauthor),Qc(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var _G=bn;function bG(e){return Hr(e.slice(0,54))}function SG(e){var t=qn(),r=[];return ye(t,628),ye(t,630),e.forEach(function(n){n[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),ye(t,632,bG(s.a)))})}),ye(t,631),ye(t,633),e.forEach(function(n){n[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var a={s:Wr(n[0]),e:Wr(n[0])};ye(t,635,wG([a,s])),s.t&&s.t.length>0&&ye(t,637,NW(s)),ye(t,636),delete s.iauthor})}),ye(t,634),ye(t,629),t.end()}function EG(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&Mt.utils.cfb_add(e,s,t.FileIndex[n].content)}})}var lO=["xlsb","xlsm","xlam","biff8","xla"],NG=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,s,a,o){var l=!1,c=!1;a.length==0?c=!0:a.charAt(0)=="["&&(c=!0,a=a.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,s+(l?"":"$")+_n(d)+(c?"":"$")+ln(u)}return function(s,a){return t=a,s.replace(e,r)}}(),nw=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,sw=function(){return function(t,r){return t.replace(nw,function(n,s,a,o,l,c){var u=Jy(o)-(a?0:r.c),d=Yy(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",h=u==0?"":a?u+1:"["+u+"]";return s+"R"+f+"C"+h})}}();function jG(e,t){return e.replace(nw,function(r,n,s,a,o,l){return n+(s=="$"?s+a:_n(Jy(a)+t.c))+(o=="$"?o+l:ln(Yy(l)+t.r))})}function CG(e){return e.length!=1}function jr(e){e.l+=1}function Ji(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function cO(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return uO(e);r.biff==12&&(n=4)}var s=e.read_shift(n),a=e.read_shift(n),o=Ji(e),l=Ji(e);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function uO(e){var t=Ji(e),r=Ji(e),n=e.read_shift(1),s=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function TG(e,t,r){if(r.biff<8)return uO(e);var n=e.read_shift(r.biff==12?4:2),s=e.read_shift(r.biff==12?4:2),a=Ji(e),o=Ji(e);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function dO(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return kG(e);var n=e.read_shift(r&&r.biff==12?4:2),s=Ji(e);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function kG(e){var t=Ji(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function AG(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function RG(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return OG(e);var s=e.read_shift(n>=12?4:2),a=e.read_shift(2),o=(a&16384)>>14,l=(a&32768)>>15;if(a&=16383,l==1)for(;s>524287;)s-=1048576;if(o==1)for(;a>8191;)a=a-16384;return{r:s,c:a,cRel:o,rRel:l}}function OG(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,s=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),s==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:s,rRel:n}}function PG(e,t,r){var n=(e[e.l++]&96)>>5,s=cO(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,s]}function IG(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var o=cO(e,a,r);return[n,s,o]}function DG(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function FG(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[n,s]}function LG(e,t,r){var n=(e[e.l++]&96)>>5,s=TG(e,t-1,r);return[n,s]}function MG(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function rS(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function BG(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),s=[],a=0;a<=n;++a)s.push(e.read_shift(r&&r.biff==2?1:2));return s}function $G(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function UG(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function zG(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function VG(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function fO(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function WG(e){return e.read_shift(2),fO(e)}function HG(e){return e.read_shift(2),fO(e)}function GG(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=dO(e,0,r);return[n,s]}function qG(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=RG(e,0,r);return[n,s]}function KG(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var a=dO(e,0,r);return[n,s,a]}function XG(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(r&&r.biff<=3?1:2);return[Xq[s],mO[s],n]}function YG(e,t,r){var n=e[e.l++],s=e.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:JG(e);return[s,(a[0]===0?mO:Kq)[a[1]]]}function JG(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function QG(e,t,r){e.l+=r&&r.biff==2?3:4}function ZG(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function eq(e){return e.l++,hf[e.read_shift(1)]}function tq(e){return e.l++,e.read_shift(2)}function rq(e){return e.l++,e.read_shift(1)!==0}function nq(e){return e.l++,Zc(e)}function sq(e,t,r){return e.l++,KR(e,t-1,r)}function aq(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=KW(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=hf[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Zc(e);break;case 2:r[1]=QW(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function iq(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),s=[],a=0;a!=n;++a)s.push((r.biff==12?sl:tH)(e));return s}function oq(e,t,r){var n=0,s=0;r.biff==12?(n=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--s==0&&(s=256));for(var a=0,o=[];a!=n&&(o[a]=[]);++a)for(var l=0;l!=s;++l)o[a][l]=aq(e,r.biff);return o}function lq(e,t,r){var n=e.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,a=e.read_shift(s);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,a]}function cq(e,t,r){if(r.biff==5)return uq(e);var n=e.read_shift(1)>>>5&3,s=e.read_shift(2),a=e.read_shift(4);return[n,s,a]}function uq(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function dq(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function fq(e,t,r){var n=e.read_shift(1)>>>5&3,s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function hq(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function pq(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[n,s]}var mq=ja,gq=ja,vq=ja;function pf(e,t,r){return e.l+=2,[AG(e)]}function aw(e){return e.l+=6,[]}var xq=pf,yq=aw,wq=aw,_q=pf;function hO(e){return e.l+=2,[GR(e),e.read_shift(2)&1]}var bq=pf,Sq=hO,Eq=aw,Nq=pf,jq=pf,Cq=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Tq(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),s=e.read_shift(2),a=e.read_shift(2),o=Cq[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:s,C:a}}function kq(e){return e.l+=2,[e.read_shift(4)]}function Aq(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Rq(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Oq(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Pq(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Iq(e){return e.l+=4,[0,0]}var nS={1:{n:"PtgExp",f:ZG},2:{n:"PtgTbl",f:vq},3:{n:"PtgAdd",f:jr},4:{n:"PtgSub",f:jr},5:{n:"PtgMul",f:jr},6:{n:"PtgDiv",f:jr},7:{n:"PtgPower",f:jr},8:{n:"PtgConcat",f:jr},9:{n:"PtgLt",f:jr},10:{n:"PtgLe",f:jr},11:{n:"PtgEq",f:jr},12:{n:"PtgGe",f:jr},13:{n:"PtgGt",f:jr},14:{n:"PtgNe",f:jr},15:{n:"PtgIsect",f:jr},16:{n:"PtgUnion",f:jr},17:{n:"PtgRange",f:jr},18:{n:"PtgUplus",f:jr},19:{n:"PtgUminus",f:jr},20:{n:"PtgPercent",f:jr},21:{n:"PtgParen",f:jr},22:{n:"PtgMissArg",f:jr},23:{n:"PtgStr",f:sq},26:{n:"PtgSheet",f:Aq},27:{n:"PtgEndSheet",f:Rq},28:{n:"PtgErr",f:eq},29:{n:"PtgBool",f:rq},30:{n:"PtgInt",f:tq},31:{n:"PtgNum",f:nq},32:{n:"PtgArray",f:MG},33:{n:"PtgFunc",f:XG},34:{n:"PtgFuncVar",f:YG},35:{n:"PtgName",f:lq},36:{n:"PtgRef",f:GG},37:{n:"PtgArea",f:PG},38:{n:"PtgMemArea",f:dq},39:{n:"PtgMemErr",f:mq},40:{n:"PtgMemNoMem",f:gq},41:{n:"PtgMemFunc",f:fq},42:{n:"PtgRefErr",f:hq},43:{n:"PtgAreaErr",f:DG},44:{n:"PtgRefN",f:qG},45:{n:"PtgAreaN",f:LG},46:{n:"PtgMemAreaN",f:Oq},47:{n:"PtgMemNoMemN",f:Pq},57:{n:"PtgNameX",f:cq},58:{n:"PtgRef3d",f:KG},59:{n:"PtgArea3d",f:IG},60:{n:"PtgRefErr3d",f:pq},61:{n:"PtgAreaErr3d",f:FG},255:{}},Dq={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Fq={1:{n:"PtgElfLel",f:hO},2:{n:"PtgElfRw",f:Nq},3:{n:"PtgElfCol",f:xq},6:{n:"PtgElfRwV",f:jq},7:{n:"PtgElfColV",f:_q},10:{n:"PtgElfRadical",f:bq},11:{n:"PtgElfRadicalS",f:Eq},13:{n:"PtgElfColS",f:yq},15:{n:"PtgElfColSV",f:wq},16:{n:"PtgElfRadicalLel",f:Sq},25:{n:"PtgList",f:Tq},29:{n:"PtgSxName",f:kq},255:{}},Lq={0:{n:"PtgAttrNoop",f:Iq},1:{n:"PtgAttrSemi",f:VG},2:{n:"PtgAttrIf",f:UG},4:{n:"PtgAttrChoose",f:BG},8:{n:"PtgAttrGoto",f:$G},16:{n:"PtgAttrSum",f:QG},32:{n:"PtgAttrBaxcel",f:rS},33:{n:"PtgAttrBaxcel",f:rS},64:{n:"PtgAttrSpace",f:WG},65:{n:"PtgAttrSpaceSemi",f:HG},128:{n:"PtgAttrIfError",f:zG},255:{}};function Mq(e,t,r,n){if(n.biff<8)return ja(e,t);for(var s=e.l+t,a=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=oq(e,0,n),a.push(r[o][1]);break;case"PtgMemArea":r[o][2]=iq(e,r[o][1],n),a.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),a.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=s-e.l,t!==0&&a.push(ja(e,t)),a}function Bq(e,t,r){for(var n=e.l+t,s,a,o=[];n!=e.l;)t=n-e.l,a=e[e.l],s=nS[a]||nS[Dq[a]],(a===24||a===25)&&(s=(a===24?Fq:Lq)[e[e.l+1]]),!s||!s.f?ja(e,t):o.push([s.n,s.f(e,t,r)]);return o}function $q(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],s=[],a=0;a<n.length;++a){var o=n[a];if(o)switch(o[0]){case 2:s.push('"'+o[1].replace(/"/g,'""')+'"');break;default:s.push(o[1])}else s.push("")}t.push(s.join(","))}return t.join(";")}var Uq={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function zq(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function pO(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var s="";if(r.biff>8)switch(e[n[0]][0]){case 357:return s=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[n[0]][0][3]?(s=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function sS(e,t,r){var n=pO(e,t,r);return n=="#REF"?n:zq(n,r)}function kc(e,t,r,n,s){var a=s&&s.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,u,d,f=0,h=0,p,x="";if(!e[0]||!e[0][0])return"";for(var m=-1,v="",_=0,w=e[0].length;_<w;++_){var y=e[0][_];switch(y[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),m>=0){switch(e[0][m][1][0]){case 0:v=yr(" ",e[0][m][1][1]);break;case 1:v=yr("\r",e[0][m][1][1]);break;default:if(v="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}u=u+v,m=-1}l.push(u+Uq[y[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Wu(y[1][1],o,s),l.push(Hu(d,a));break;case"PtgRefN":d=r?Wu(y[1][1],r,s):y[1][1],l.push(Hu(d,a));break;case"PtgRef3d":f=y[1][1],d=Wu(y[1][2],o,s),x=sS(n,f,s),l.push(x+"!"+Hu(d,a));break;case"PtgFunc":case"PtgFuncVar":var S=y[1][0],E=y[1][1];S||(S=0),S&=127;var C=S==0?[]:l.slice(-S);l.length-=S,E==="User"&&(E=C.shift()),l.push(E+"("+C.join(",")+")");break;case"PtgBool":l.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(y[1]);break;case"PtgNum":l.push(String(y[1]));break;case"PtgStr":l.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(y[1]);break;case"PtgAreaN":p=z2(y[1][1],r?{s:r}:o,s),l.push(Ng(p,s));break;case"PtgArea":p=z2(y[1][1],o,s),l.push(Ng(p,s));break;case"PtgArea3d":f=y[1][1],p=y[1][2],x=sS(n,f,s),l.push(x+"!"+Ng(p,s));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=y[1][2];var b=(n.names||[])[h-1]||(n[0]||[])[h],j=b?b.Name:"SH33TJSNAME"+String(h);j&&j.slice(0,6)=="_xlfn."&&!s.xlfn&&(j=j.slice(6)),l.push(j);break;case"PtgNameX":var N=y[1][1];h=y[1][2];var R;if(s.biff<=5)N<0&&(N=-N),n[N]&&(R=n[N][h]);else{var k="";if(((n[N]||[])[0]||[])[0]==14849||(((n[N]||[])[0]||[])[0]==1025?n[N][h]&&n[N][h].itab>0&&(k=n.SheetNames[n[N][h].itab-1]+"!"):k=n.SheetNames[h-1]+"!"),n[N]&&n[N][h])k+=n[N][h].Name;else if(n[0]&&n[0][h])k+=n[0][h].Name;else{var O=(pO(n,N,s)||"").split(";;");O[h-1]?k=O[h-1]:k+="SH33TJSERRX"}l.push(k);break}R||(R={Name:"SH33TJSERRY"}),l.push(R.Name);break;case"PtgParen":var L="(",K=")";if(m>=0){switch(v="",e[0][m][1][0]){case 2:L=yr(" ",e[0][m][1][1])+L;break;case 3:L=yr("\r",e[0][m][1][1])+L;break;case 4:K=yr(" ",e[0][m][1][1])+K;break;case 5:K=yr("\r",e[0][m][1][1])+K;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}l.push(L+l.pop()+K);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:y[1][1],r:y[1][0]};var M={c:r.c,r:r.r};if(n.sharedf[Ft(d)]){var q=n.sharedf[Ft(d)];l.push(kc(q,o,M,n,s))}else{var ie=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(kc(u[1],o,M,n,s)),ie=!0;break}ie||l.push(y[1])}break;case"PtgArray":l.push("{"+$q(y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=_;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(y));default:throw new Error("Unrecognized Formula Token: "+String(y))}var X=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&m>=0&&X.indexOf(e[0][_][0])==-1){y=e[0][m];var J=!0;switch(y[1][0]){case 4:J=!1;case 0:v=yr(" ",y[1][1]);break;case 5:J=!1;case 1:v=yr("\r",y[1][1]);break;default:if(v="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}l.push((J?v:"")+l.pop()+(J?"":v)),m=-1}}if(l.length>1&&s.WTF)throw new Error("bad formula stack");return l[0]}function Vq(e){if(e==null){var t=pe(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Ko(e);return Ko(0)}function Wq(e,t,r,n,s){var a=Xo(t,r,s),o=Vq(e.v),l=pe(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=pe(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=nn([a,o,l,u]);return f}function hm(e,t,r){var n=e.read_shift(4),s=Bq(e,n,r),a=e.read_shift(4),o=a>0?Mq(e,a,s,r):null;return[s,o]}var Hq=hm,pm=hm,Gq=hm,qq=hm,Kq={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},mO={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Xq={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Yq(e){var t="of:="+e.replace(nw,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function Jq(e){return e.replace(/\./,"!")}var Gu=typeof Map<"u";function iw(e,t,r){var n=0,s=e.length;if(r){if(Gu?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var a=Gu?r.get(t):r[t];n<a.length;++n)if(e[a[n]].t===t)return e.Count++,a[n]}}else for(;n<s;++n)if(e[n].t===t)return e.Count++,n;return e[s]={t},e.Count++,e.Unique++,r&&(Gu?(r.has(t)||r.set(t,[]),r.get(t).push(s)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(s))),s}function mm(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Va=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=ep(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=kx(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function gO(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function oo(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],s=60,a=e.length;if(n==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){dR(t.z,s),r.ssf[s]=t.z,r.revssf[t.z]=n=s;break}}for(s=0;s!=a;++s)if(e[s].numFmtId===n)return s;return e[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function Qq(e,t,r){if(e&&e["!ref"]){var n=Zt(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function Zq(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Or(e[r])+'"/>';return t+"</mergeCells>"}function eK(e,t,r,n,s){var a=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}a=!0,o.codeName=Od(It(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+je("outlinePr",null,u)}!a&&!l||(s[s.length]=je("sheetPr",l,o))}var tK=["objects","scenarios","selectLockedCells","selectUnlockedCells"],rK=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function nK(e){var t={sheet:1};return tK.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),rK.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=ZR(e.password).toString(16).toUpperCase()),je("sheetProtection",null,t)}function sK(e){return gO(e),je("pageMargins",null,e)}function aK(e,t){for(var r=["<cols>"],n,s=0;s!=t.length;++s)(n=t[s])&&(r[r.length]=je("col",null,mm(s,n)));return r[r.length]="</cols>",r.join("")}function iK(e,t,r,n){var s=typeof e.ref=="string"?e.ref:Or(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=ps(s);o.s.r==o.e.r&&(o.e.r=ps(t["!ref"]).e.r,s=Or(o));for(var l=0;l<a.length;++l){var c=a[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+s;break}}return l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),je("autoFilter",null,{ref:s})}function oK(e,t,r,n){var s={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),je("sheetViews",je("sheetView",null,s),{})}function lK(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var s="",a=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":s=e.v?"1":"0";break;case"n":s=""+e.v;break;case"e":s=hf[e.v];break;case"d":n&&n.cellDates?s=Pn(e.v,-1).toISOString():(e=Xn(e),e.t="n",s=""+(e.v=Kn(Pn(e.v)))),typeof e.z>"u"&&(e.z=wr[14]);break;default:s=e.v;break}var l=sn("v",It(s)),c={r:t},u=oo(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=sn("v",""+iw(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=a&&(e.t=a,e.v=o),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=je("f",It(e.f),d)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),je("c",l,c)}function cK(e,t,r,n){var s=[],a=[],o=Zt(e["!ref"]),l="",c,u="",d=[],f=0,h=0,p=e["!rows"],x=Array.isArray(e),m={r:u},v,_=-1;for(h=o.s.c;h<=o.e.c;++h)d[h]=_n(h);for(f=o.s.r;f<=o.e.r;++f){for(a=[],u=ln(f),h=o.s.c;h<=o.e.c;++h){c=d[h]+u;var w=x?(e[f]||[])[h]:e[c];w!==void 0&&(l=lK(w,c,e,t))!=null&&a.push(l)}(a.length>0||p&&p[f])&&(m={r:u},p&&p[f]&&(v=p[f],v.hidden&&(m.hidden=1),_=-1,v.hpx?_=tp(v.hpx):v.hpt&&(_=v.hpt),_>-1&&(m.ht=_,m.customHeight=1),v.level&&(m.outlineLevel=v.level)),s[s.length]=je("row",a.join(""),m))}if(p)for(;f<p.length;++f)p&&p[f]&&(m={r:f+1},v=p[f],v.hidden&&(m.hidden=1),_=-1,v.hpx?_=tp(v.hpx):v.hpt&&(_=v.hpt),_>-1&&(m.ht=_,m.customHeight=1),v.level&&(m.outlineLevel=v.level),s[s.length]=je("row","",m));return s.join("")}function vO(e,t,r,n){var s=[Ir,je("worksheet",null,{xmlns:Yc[0],"xmlns:r":Vr.r})],a=r.SheetNames[e],o=0,l="",c=r.Sheets[a];c==null&&(c={});var u=c["!ref"]||"A1",d=Zt(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=Or(d)}n||(n={}),c["!comments"]=[];var f=[];eK(c,r,e,t,s),s[s.length]=je("dimension",null,{ref:u}),s[s.length]=oK(c,t,e,r),t.sheetFormat&&(s[s.length]=je("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(s[s.length]=aK(c,c["!cols"])),s[o=s.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=cK(c,t),l.length>0&&(s[s.length]=l)),s.length>o+1&&(s[s.length]="</sheetData>",s[o]=s[o].replace("/>",">")),c["!protect"]&&(s[s.length]=nK(c["!protect"])),c["!autofilter"]!=null&&(s[s.length]=iK(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(s[s.length]=Zq(c["!merges"]));var h=-1,p,x=-1;return c["!links"].length>0&&(s[s.length]="<hyperlinks>",c["!links"].forEach(function(m){m[1].Target&&(p={ref:m[0]},m[1].Target.charAt(0)!="#"&&(x=Pt(n,-1,It(m[1].Target).replace(/#.*$/,""),_t.HLINK),p["r:id"]="rId"+x),(h=m[1].Target.indexOf("#"))>-1&&(p.location=It(m[1].Target.slice(h+1))),m[1].Tooltip&&(p.tooltip=It(m[1].Tooltip)),s[s.length]=je("hyperlink",null,p))}),s[s.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(s[s.length]=sK(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(s[s.length]=sn("ignoredErrors",je("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(x=Pt(n,-1,"../drawings/drawing"+(e+1)+".xml",_t.DRAW),s[s.length]=je("drawing",null,{"r:id":"rId"+x}),c["!drawing"]=f),c["!comments"].length>0&&(x=Pt(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",_t.VML),s[s.length]=je("legacyDrawing",null,{"r:id":"rId"+x}),c["!legacy"]=x),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function uK(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=s/20),r}function dK(e,t,r){var n=pe(145),s=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var a=320;s.hpx?a=tp(s.hpx)*20:s.hpt&&(a=s.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var o=0;s.level&&(o|=s.level),s.hidden&&(o|=16),(s.hpx||s.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,h=-1,p=d<<10;p<d+1<<10;++p){u.c=p;var x=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Ft(u)];x&&(f<0&&(f=p),h=p)}f<0||(++l,n.write_shift(4,f),n.write_shift(4,h))}var m=n.l;return n.l=c,n.write_shift(4,l),n.l=m,n.length>n.l?n.slice(0,n.l):n}function fK(e,t,r,n){var s=dK(n,r,t);(s.length>17||(t["!rows"]||[])[n])&&ye(e,0,s)}var hK=sl,pK=Qc;function mK(){}function gK(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=jW(e),r}function vK(e,t,r){r==null&&(r=pe(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var s=1;s<3;++s)r.write_shift(1,0);return J0({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),OR(e,r),r.slice(0,r.l)}function xK(e){var t=Is(e);return[t]}function yK(e,t,r){return r==null&&(r=pe(8)),tl(t,r)}function wK(e){var t=rl(e);return[t]}function _K(e,t,r){return r==null&&(r=pe(4)),nl(t,r)}function bK(e){var t=Is(e),r=e.read_shift(1);return[t,r,"b"]}function SK(e,t,r){return r==null&&(r=pe(9)),tl(t,r),r.write_shift(1,e.v?1:0),r}function EK(e){var t=rl(e),r=e.read_shift(1);return[t,r,"b"]}function NK(e,t,r){return r==null&&(r=pe(5)),nl(t,r),r.write_shift(1,e.v?1:0),r}function jK(e){var t=Is(e),r=e.read_shift(1);return[t,r,"e"]}function CK(e,t,r){return r==null&&(r=pe(9)),tl(t,r),r.write_shift(1,e.v),r}function TK(e){var t=rl(e),r=e.read_shift(1);return[t,r,"e"]}function kK(e,t,r){return r==null&&(r=pe(8)),nl(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function AK(e){var t=Is(e),r=e.read_shift(4);return[t,r,"s"]}function RK(e,t,r){return r==null&&(r=pe(12)),tl(t,r),r.write_shift(4,t.v),r}function OK(e){var t=rl(e),r=e.read_shift(4);return[t,r,"s"]}function PK(e,t,r){return r==null&&(r=pe(8)),nl(t,r),r.write_shift(4,t.v),r}function IK(e){var t=Is(e),r=Zc(e);return[t,r,"n"]}function DK(e,t,r){return r==null&&(r=pe(16)),tl(t,r),Ko(e.v,r),r}function FK(e){var t=rl(e),r=Zc(e);return[t,r,"n"]}function LK(e,t,r){return r==null&&(r=pe(12)),nl(t,r),Ko(e.v,r),r}function MK(e){var t=Is(e),r=PR(e);return[t,r,"n"]}function BK(e,t,r){return r==null&&(r=pe(12)),tl(t,r),IR(e.v,r),r}function $K(e){var t=rl(e),r=PR(e);return[t,r,"n"]}function UK(e,t,r){return r==null&&(r=pe(8)),nl(t,r),IR(e.v,r),r}function zK(e){var t=Is(e),r=Qy(e);return[t,r,"is"]}function VK(e){var t=Is(e),r=bn(e);return[t,r,"str"]}function WK(e,t,r){return r==null&&(r=pe(12+4*e.v.length)),tl(t,r),Hr(e.v,r),r.length>r.l?r.slice(0,r.l):r}function HK(e){var t=rl(e),r=bn(e);return[t,r,"str"]}function GK(e,t,r){return r==null&&(r=pe(8+4*e.v.length)),nl(t,r),Hr(e.v,r),r.length>r.l?r.slice(0,r.l):r}function qK(e,t,r){var n=e.l+t,s=Is(e);s.r=r["!row"];var a=e.read_shift(1),o=[s,a,"b"];if(r.cellFormula){e.l+=2;var l=pm(e,n-e.l,r);o[3]=kc(l,null,s,r.supbooks,r)}else e.l=n;return o}function KK(e,t,r){var n=e.l+t,s=Is(e);s.r=r["!row"];var a=e.read_shift(1),o=[s,a,"e"];if(r.cellFormula){e.l+=2;var l=pm(e,n-e.l,r);o[3]=kc(l,null,s,r.supbooks,r)}else e.l=n;return o}function XK(e,t,r){var n=e.l+t,s=Is(e);s.r=r["!row"];var a=Zc(e),o=[s,a,"n"];if(r.cellFormula){e.l+=2;var l=pm(e,n-e.l,r);o[3]=kc(l,null,s,r.supbooks,r)}else e.l=n;return o}function YK(e,t,r){var n=e.l+t,s=Is(e);s.r=r["!row"];var a=bn(e),o=[s,a,"str"];if(r.cellFormula){e.l+=2;var l=pm(e,n-e.l,r);o[3]=kc(l,null,s,r.supbooks,r)}else e.l=n;return o}var JK=sl,QK=Qc;function ZK(e,t){return t==null&&(t=pe(4)),t.write_shift(4,e),t}function eX(e,t){var r=e.l+t,n=sl(e),s=Zy(e),a=bn(e),o=bn(e),l=bn(e);e.l=r;var c={rfx:n,relId:s,loc:a,display:l};return o&&(c.Tooltip=o),c}function tX(e,t){var r=pe(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Qc({s:Wr(e[0]),e:Wr(e[0])},r),ew("rId"+t,r);var n=e[1].Target.indexOf("#"),s=n==-1?"":e[1].Target.slice(n+1);return Hr(s||"",r),Hr(e[1].Tooltip||"",r),Hr("",r),r.slice(0,r.l)}function rX(){}function nX(e,t,r){var n=e.l+t,s=DR(e),a=e.read_shift(1),o=[s];if(o[2]=a,r.cellFormula){var l=Hq(e,n-e.l,r);o[1]=l}else e.l=n;return o}function sX(e,t,r){var n=e.l+t,s=sl(e),a=[s];if(r.cellFormula){var o=qq(e,n-e.l,r);a[1]=o,e.l=n}else e.l=n;return a}function aX(e,t,r){r==null&&(r=pe(18));var n=mm(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var s=0;return t.hidden&&(s|=1),typeof n.width=="number"&&(s|=2),t.level&&(s|=t.level<<8),r.write_shift(2,s),r}var xO=["left","right","top","bottom","header","footer"];function iX(e){var t={};return xO.forEach(function(r){t[r]=Zc(e)}),t}function oX(e,t){return t==null&&(t=pe(6*8)),gO(e),xO.forEach(function(r){Ko(e[r],t)}),t}function lX(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function cX(e,t,r){r==null&&(r=pe(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function uX(e){var t=pe(24);return t.write_shift(4,4),t.write_shift(4,1),Qc(e,t),t}function dX(e,t){return t==null&&(t=pe(16*4+2)),t.write_shift(2,e.password?ZR(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function fX(){}function hX(){}function pX(e,t,r,n,s,a,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=Xn(t),t.z=t.z||wr[14],t.v=Kn(Pn(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=oo(s.cellXfs,t,s),t.l&&a["!links"].push([Ft(c),t.l]),t.c&&a["!comments"].push([Ft(c),t.c]),t.t){case"s":case"str":return s.bookSST?(l=iw(s.Strings,t.v,s.revStrings),c.t="s",c.v=l,o?ye(e,18,PK(t,c)):ye(e,7,RK(t,c))):(c.t="str",o?ye(e,17,GK(t,c)):ye(e,6,WK(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?ye(e,13,UK(t,c)):ye(e,2,BK(t,c)):o?ye(e,16,LK(t,c)):ye(e,5,DK(t,c)),!0;case"b":return c.t="b",o?ye(e,15,NK(t,c)):ye(e,4,SK(t,c)),!0;case"e":return c.t="e",o?ye(e,14,kK(t,c)):ye(e,3,CK(t,c)),!0}return o?ye(e,12,_K(t,c)):ye(e,1,yK(t,c)),!0}function mX(e,t,r,n){var s=Zt(t["!ref"]||"A1"),a,o="",l=[];ye(e,145);var c=Array.isArray(t),u=s.e.r;t["!rows"]&&(u=Math.max(s.e.r,t["!rows"].length-1));for(var d=s.s.r;d<=u;++d){o=ln(d),fK(e,t,s,d);var f=!1;if(d<=s.e.r)for(var h=s.s.c;h<=s.e.c;++h){d===s.s.r&&(l[h]=_n(h)),a=l[h]+o;var p=c?(t[d]||[])[h]:t[a];if(!p){f=!1;continue}f=pX(e,p,d,h,n,t,f)}}ye(e,146)}function gX(e,t){!t||!t["!merges"]||(ye(e,177,ZK(t["!merges"].length)),t["!merges"].forEach(function(r){ye(e,176,QK(r))}),ye(e,178))}function vX(e,t){!t||!t["!cols"]||(ye(e,390),t["!cols"].forEach(function(r,n){r&&ye(e,60,aX(n,r))}),ye(e,391))}function xX(e,t){!t||!t["!ref"]||(ye(e,648),ye(e,649,uX(Zt(t["!ref"]))),ye(e,650))}function yX(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var s=Pt(r,-1,n[1].Target.replace(/#.*$/,""),_t.HLINK);ye(e,494,tX(n,s))}}),delete t["!links"]}function wX(e,t,r,n){if(t["!comments"].length>0){var s=Pt(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",_t.VML);ye(e,551,ew("rId"+s)),t["!legacy"]=s}}function _X(e,t,r,n){if(t["!autofilter"]){var s=t["!autofilter"],a=typeof s.ref=="string"?s.ref:Or(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=ps(a);l.s.r==l.e.r&&(l.e.r=ps(t["!ref"]).e.r,a=Or(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+a;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),ye(e,161,Qc(Zt(a))),ye(e,162)}}function bX(e,t,r){ye(e,133),ye(e,137,cX(t,r)),ye(e,138),ye(e,134)}function SX(e,t){t["!protect"]&&ye(e,535,dX(t["!protect"]))}function EX(e,t,r,n){var s=qn(),a=r.SheetNames[e],o=r.Sheets[a]||{},l=a;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=Zt(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],ye(s,129),(r.vbaraw||o["!outline"])&&ye(s,147,vK(l,o["!outline"])),ye(s,148,pK(c)),bX(s,o,r.Workbook),vX(s,o),mX(s,o,e,t),SX(s,o),_X(s,o,r,e),gX(s,o),yX(s,o,n),o["!margins"]&&ye(s,476,oX(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&xX(s,o),wX(s,o,e,n),ye(s,130),s.end()}function NX(e,t){e.l+=10;var r=bn(e);return{name:r}}var jX=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function CX(e){return!e.Workbook||!e.Workbook.WBProps?"false":sW(e.Workbook.WBProps.date1904)?"true":"false"}var TX="][*?/\\".split("");function yO(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return TX.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function kX(e,t,r){e.forEach(function(n,s){yO(n);for(var a=0;a<s;++a)if(n==e[a])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[s]&&t[s].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function AX(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];kX(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Qq(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function wO(e){var t=[Ir];t[t.length]=je("workbook",null,{xmlns:Yc[0],"xmlns:r":Vr.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(jX.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=je("workbookPr",null,n);var s=e.Workbook&&e.Workbook.Sheets||[],a=0;if(s&&s[0]&&s[0].Hidden){for(t[t.length]="<bookViews>",a=0;a!=e.SheetNames.length&&!(!s[a]||!s[a].Hidden);++a);a==e.SheetNames.length&&(a=0),t[t.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",a=0;a!=e.SheetNames.length;++a){var o={name:It(e.SheetNames[a].slice(0,31))};if(o.sheetId=""+(a+1),o["r:id"]="rId"+(a+1),s[a])switch(s[a].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=je("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=je("definedName",It(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function RX(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=Tx(e),r.name=bn(e),r}function OX(e,t){return t||(t=pe(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),ew(e.strRelID,t),Hr(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function PX(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var s=t>8?bn(e):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function IX(e,t){t||(t=pe(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),OR(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function DX(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var s=e.read_shift(4),a=CW(e),o=Gq(e,0,r),l=Zy(e);e.l=n;var c={Name:a,Ptg:o};return s<268435455&&(c.Sheet=s),l&&(c.Comment=l),c}function FX(e,t){ye(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,s={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};ye(e,156,OX(s))}ye(e,144)}function LX(e,t){t||(t=pe(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Hr("SheetJS",t),Hr(W0.version,t),Hr(W0.version,t),Hr("7262",t),t.length>t.l?t.slice(0,t.l):t}function MX(e,t){t||(t=pe(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function BX(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,s=-1,a=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&s==-1?s=n:r[n].Hidden==1&&a==-1&&(a=n);a>s||(ye(e,135),ye(e,158,MX(s)),ye(e,136))}}function $X(e,t){var r=qn();return ye(r,131),ye(r,128,LX()),ye(r,153,IX(e.Workbook&&e.Workbook.WBProps||null)),BX(r,e),FX(r,e),ye(r,132),r.end()}function UX(e,t,r){return(t.slice(-4)===".bin"?$X:wO)(e)}function zX(e,t,r,n,s){return(t.slice(-4)===".bin"?EX:vO)(e,r,n,s)}function VX(e,t,r){return(t.slice(-4)===".bin"?oG:rO)(e,r)}function WX(e,t,r){return(t.slice(-4)===".bin"?IH:QR)(e,r)}function HX(e,t,r){return(t.slice(-4)===".bin"?SG:oO)(e)}function GX(e){return(e.slice(-4)===".bin"?mG:aO)()}function qX(e,t){var r=[];return e.Props&&r.push(VW(e.Props,t)),e.Custprops&&r.push(WW(e.Props,e.Custprops)),r.join("")}function KX(){return""}function XX(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,s){var a=[];a.push(je("NumberFormat",null,{"ss:Format":It(wr[n.numFmtId])}));var o={"ss:ID":"s"+(21+s)};r.push(je("Style",a.join(""),o))}),je("Styles",r.join(""))}function _O(e){return je("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+sw(e.Ref,{r:0,c:0})})}function YX(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var s=t[n];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(_O(s)))}return je("Names",r.join(""))}function JX(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var s=n.Workbook.Names,a=[],o=0;o<s.length;++o){var l=s[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||a.push(_O(l)))}return a.join("")}function QX(e,t,r,n){if(!e)return"";var s=[];if(e["!margins"]&&(s.push("<PageSetup>"),e["!margins"].header&&s.push(je("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&s.push(je("Footer",null,{"x:Margin":e["!margins"].footer})),s.push(je("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),s.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)s.push(je("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==r&&s.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),e["!protect"]&&(s.push(sn("ProtectContents","True")),e["!protect"].objects&&s.push(sn("ProtectObjects","True")),e["!protect"].scenarios&&s.push(sn("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?s.push(sn("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&s.push(sn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&s.push("<"+o[1]+"/>")})),s.length==0?"":je("WorksheetOptions",s.join(""),{xmlns:as.x})}function ZX(e){return e.map(function(t){var r=nW(t.t||""),n=je("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return je("Comment",n,{"ss:Author":t.a})}).join("")}function eY(e,t,r,n,s,a,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+It(sw(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=Wr(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=It(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=It(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=o.c||u[d].s.r!=o.r||(u[d].e.c>u[d].s.c&&(l["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(l["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=hf[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||wr[14]);break;case"s":f="String",h=rW(e.v||"");break}var p=oo(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+p),l["ss:Index"]=o.c+1;var x=e.v!=null?h:"",m=e.t=="z"?"":'<Data ss:Type="'+f+'">'+x+"</Data>";return(e.c||[]).length>0&&(m+=ZX(e.c)),je("Cell",m,l)}function tY(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=tO(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function rY(e,t,r,n){if(!e["!ref"])return"";var s=Zt(e["!ref"]),a=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(v,_){rw(v);var w=!!v.width,y=mm(_,v),S={"ss:Index":_+1};w&&(S["ss:Width"]=Z0(y.width)),v.hidden&&(S["ss:Hidden"]="1"),l.push(je("Column",null,S))});for(var c=Array.isArray(e),u=s.s.r;u<=s.e.r;++u){for(var d=[tY(u,(e["!rows"]||[])[u])],f=s.s.c;f<=s.e.c;++f){var h=!1;for(o=0;o!=a.length;++o)if(!(a[o].s.c>f)&&!(a[o].s.r>u)&&!(a[o].e.c<f)&&!(a[o].e.r<u)){(a[o].s.c!=f||a[o].s.r!=u)&&(h=!0);break}if(!h){var p={r:u,c:f},x=Ft(p),m=c?(e[u]||[])[f]:e[x];d.push(eY(m,x,e,t,r,n,p))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function nY(e,t,r){var n=[],s=r.SheetNames[e],a=r.Sheets[s],o=a?JX(a,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=a?rY(a,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(QX(a,t,e,r)),n.join("")}function sY(e,t){t||(t={}),e.SSF||(e.SSF=Xn(wr)),e.SSF&&(um(),cm(e.SSF),t.revssf=dm(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],oo(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(qX(e,t)),r.push(KX()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(je("Worksheet",nY(n,t,e),{"ss:Name":It(e.SheetNames[n])}));return r[2]=XX(e,t),r[3]=YX(e),Ir+je("Workbook",r.join(""),{xmlns:as.ss,"xmlns:o":as.o,"xmlns:x":as.x,"xmlns:ss":as.ss,"xmlns:dt":as.dt,"xmlns:html":as.html})}var Tg={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function aY(e,t){var r=[],n=[],s=[],a=0,o,l=R2(W2,"n"),c=R2(H2,"n");if(e.Props)for(o=un(e.Props),a=0;a<o.length;++a)(Object.prototype.hasOwnProperty.call(l,o[a])?r:Object.prototype.hasOwnProperty.call(c,o[a])?n:s).push([o[a],e.Props[o[a]]]);if(e.Custprops)for(o=un(e.Custprops),a=0;a<o.length;++a)Object.prototype.hasOwnProperty.call(e.Props||{},o[a])||(Object.prototype.hasOwnProperty.call(l,o[a])?r:Object.prototype.hasOwnProperty.call(c,o[a])?n:s).push([o[a],e.Custprops[o[a]]]);var u=[];for(a=0;a<s.length;++a)HR.indexOf(s[a][0])>-1||zR.indexOf(s[a][0])>-1||s[a][1]!=null&&u.push(s[a]);n.length&&Mt.utils.cfb_add(t,"/SummaryInformation",Y2(n,Tg.SI,c,H2)),(r.length||u.length)&&Mt.utils.cfb_add(t,"/DocumentSummaryInformation",Y2(r,Tg.DSI,l,W2,u.length?u:null,Tg.UDI))}function iY(e,t){var r=t||{},n=Mt.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Mt.utils.cfb_add(n,s,bO(e,r)),r.biff==8&&(e.Props||e.Custprops)&&aY(e,n),r.biff==8&&e.vbaraw&&EG(n,Mt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var oY={0:{f:uK},1:{f:xK},2:{f:MK},3:{f:jK},4:{f:bK},5:{f:IK},6:{f:VK},7:{f:AK},8:{f:YK},9:{f:XK},10:{f:qK},11:{f:KK},12:{f:wK},13:{f:$K},14:{f:TK},15:{f:EK},16:{f:FK},17:{f:HK},18:{f:OK},19:{f:Qy},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:DX},40:{},42:{},43:{f:VH},44:{f:UH},45:{f:GH},46:{f:KH},47:{f:qH},48:{},49:{f:wW},50:{},51:{f:uG},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:_H},62:{f:zK},63:{f:gG},64:{f:fX},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ja,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:lX},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:gK},148:{f:hK,p:16},151:{f:rX},152:{},153:{f:PX},154:{},155:{},156:{f:RX},157:{},158:{},159:{T:1,f:RH},160:{T:-1},161:{T:1,f:sl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:JK},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:lG},336:{T:-1},337:{f:hG,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Tx},357:{},358:{},359:{},360:{T:1},361:{},362:{f:mH},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:nX},427:{f:sX},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:iX},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:mK},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:eX},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Tx},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:_G},633:{T:1},634:{T:-1},635:{T:1,f:yG},636:{T:-1},637:{f:EW},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:NX},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:hX},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ce(e,t,r,n){var s=t;if(!isNaN(s)){var a=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,s),o.write_shift(2,a),a>0&&Xy(r)&&e.push(r)}}function lY(e,t,r,n){var s=(r||[]).length||0;if(s<=8224)return Ce(e,t,r,s);var a=t;if(!isNaN(a)){for(var o=r.parts||[],l=0,c=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var d=e.next(4);for(d.write_shift(2,a),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<s;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function mf(e,t,r){return e||(e=pe(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function cY(e,t,r,n){var s=pe(9);return mf(s,e,t),qR(r,n||"b",s),s}function uY(e,t,r){var n=pe(8+2*r.length);return mf(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function dY(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var s=t.t=="d"?Kn(Pn(t.v)):t.v;s==(s|0)&&s>=0&&s<65536?Ce(e,2,NH(r,n,s)):Ce(e,3,EH(r,n,s));return;case"b":case"e":Ce(e,5,cY(r,n,t.v,t.t));return;case"s":case"str":Ce(e,4,uY(r,n,(t.v||"").slice(0,255)));return}Ce(e,1,mf(null,r,n))}function fY(e,t,r,n){var s=Array.isArray(t),a=Zt(t["!ref"]||"A1"),o,l="",c=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),o=Or(a)}for(var u=a.s.r;u<=a.e.r;++u){l=ln(u);for(var d=a.s.c;d<=a.e.c;++d){u===a.s.r&&(c[d]=_n(d)),o=c[d]+l;var f=s?(t[u]||[])[d]:t[o];f&&dY(e,f,u,d)}}}function hY(e,t){for(var r=t||{},n=qn(),s=0,a=0;a<e.SheetNames.length;++a)e.SheetNames[a]==r.sheet&&(s=a);if(s==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Ce(n,r.biff==4?1033:r.biff==3?521:9,tw(e,16,r)),fY(n,e.Sheets[e.SheetNames[s]],s,r),Ce(n,10),n.end()}function pY(e,t,r){Ce(e,49,oH({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function mY(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&Ce(e,1054,uH(s,t[s],r))})}function gY(e,t){var r=pe(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Ce(e,2151,r),r=pe(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),YR(Zt(t["!ref"]||"A1"),r),r.write_shift(4,4),Ce(e,2152,r)}function vY(e,t){for(var r=0;r<16;++r)Ce(e,224,Q2({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Ce(e,224,Q2(n,0,t))})}function xY(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Ce(e,440,xH(n)),n[1].Tooltip&&Ce(e,2048,yH(n))}delete t["!links"]}function yY(e,t){if(t){var r=0;t.forEach(function(n,s){++r<=256&&n&&Ce(e,125,bH(mm(s,n),s))})}}function wY(e,t,r,n,s){var a=16+oo(s.cellXfs,t,s);if(t.v==null&&!t.bf){Ce(e,513,Xo(r,n,a));return}if(t.bf)Ce(e,6,Wq(t,r,n,s,a));else switch(t.t){case"d":case"n":var o=t.t=="d"?Kn(Pn(t.v)):t.v;Ce(e,515,pH(r,n,o,a));break;case"b":case"e":Ce(e,517,hH(r,n,t.v,a,s,t.t));break;case"s":case"str":if(s.bookSST){var l=iw(s.Strings,t.v,s.revStrings);Ce(e,253,lH(r,n,l,a))}else Ce(e,516,cH(r,n,(t.v||"").slice(0,255),a,s));break;default:Ce(e,513,Xo(r,n,a))}}function _Y(e,t,r){var n=qn(),s=r.SheetNames[e],a=r.Sheets[s]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(a),u=t.biff==8,d,f="",h=[],p=Zt(a["!ref"]||"A1"),x=u?65536:16384;if(p.e.c>255||p.e.r>=x){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,x-1)}Ce(n,2057,tw(r,16,t)),Ce(n,13,ys(1)),Ce(n,12,ys(100)),Ce(n,15,Tn(!0)),Ce(n,17,Tn(!1)),Ce(n,16,Ko(.001)),Ce(n,95,Tn(!0)),Ce(n,42,Tn(!1)),Ce(n,43,Tn(!1)),Ce(n,130,ys(1)),Ce(n,128,fH()),Ce(n,131,Tn(!1)),Ce(n,132,Tn(!1)),u&&yY(n,a["!cols"]),Ce(n,512,dH(p,t)),u&&(a["!links"]=[]);for(var m=p.s.r;m<=p.e.r;++m){f=ln(m);for(var v=p.s.c;v<=p.e.c;++v){m===p.s.r&&(h[v]=_n(v)),d=h[v]+f;var _=c?(a[m]||[])[v]:a[d];_&&(wY(n,_,m,v,t),u&&_.l&&a["!links"].push([d,_.l]))}}var w=l.CodeName||l.name||s;return u&&Ce(n,574,iH((o.Views||[])[0])),u&&(a["!merges"]||[]).length&&Ce(n,229,vH(a["!merges"])),u&&xY(n,a),Ce(n,442,XR(w)),u&&gY(n,a),Ce(n,10),n.end()}function bY(e,t,r){var n=qn(),s=(e||{}).Workbook||{},a=s.Sheets||[],o=s.WBProps||{},l=r.biff==8,c=r.biff==5;if(Ce(n,2057,tw(e,5,r)),r.bookType=="xla"&&Ce(n,135),Ce(n,225,l?ys(1200):null),Ce(n,193,qW(2)),c&&Ce(n,191),c&&Ce(n,192),Ce(n,226),Ce(n,92,rH("SheetJS",r)),Ce(n,66,ys(l?1200:1252)),l&&Ce(n,353,ys(0)),l&&Ce(n,448),Ce(n,317,SH(e.SheetNames.length)),l&&e.vbaraw&&Ce(n,211),l&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";Ce(n,442,XR(u))}Ce(n,156,ys(17)),Ce(n,25,Tn(!1)),Ce(n,18,Tn(!1)),Ce(n,19,ys(0)),l&&Ce(n,431,Tn(!1)),l&&Ce(n,444,ys(0)),Ce(n,61,aH()),Ce(n,64,Tn(!1)),Ce(n,141,ys(0)),Ce(n,34,Tn(CX(e)=="true")),Ce(n,14,Tn(!0)),l&&Ce(n,439,Tn(!1)),Ce(n,218,ys(0)),pY(n,e,r),mY(n,e.SSF,r),vY(n,r),l&&Ce(n,352,Tn(!1));var d=n.end(),f=qn();l&&Ce(f,140,wH()),l&&r.Strings&&lY(f,252,sH(r.Strings)),Ce(f,10);var h=f.end(),p=qn(),x=0,m=0;for(m=0;m<e.SheetNames.length;++m)x+=(l?12:11)+(l?2:1)*e.SheetNames[m].length;var v=d.length+x+h.length;for(m=0;m<e.SheetNames.length;++m){var _=a[m]||{};Ce(p,133,nH({pos:v,hs:_.Hidden||0,dt:0,name:e.SheetNames[m]},r)),v+=t[m].length}var w=p.end();if(x!=w.length)throw new Error("BS8 "+x+" != "+w.length);var y=[];return d.length&&y.push(d),w.length&&y.push(w),h.length&&y.push(h),nn(y)}function SY(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Xn(wr)),e&&e.SSF&&(um(),cm(e.SSF),r.revssf=dm(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,ow(r),r.cellXfs=[],oo(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var s=0;s<e.SheetNames.length;++s)n[n.length]=_Y(s,r,e);return n.unshift(bY(e,n,r)),nn(n)}function bO(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var s=ps(n["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=t||{};switch(a.biff||2){case 8:case 5:return SY(e,t);case 4:case 3:case 2:return hY(e,t)}throw new Error("invalid type "+a.bookType+" for BIFF")}function EY(e,t,r,n){for(var s=e["!merges"]||[],a=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<s.length;++u)if(!(s[u].s.r>r||s[u].s.c>o)&&!(s[u].e.r<r||s[u].e.c<o)){if(s[u].s.r<r||s[u].s.c<o){l=-1;break}l=s[u].e.r-s[u].s.r+1,c=s[u].e.c-s[u].s.c+1;break}if(!(l<0)){var d=Ft({r,c:o}),f=n.dense?(e[r]||[])[o]:e[d],h=f&&f.v!=null&&(f.h||tW(f.w||(Qa(f),f.w)||""))||"",p={};l>1&&(p.rowspan=l),c>1&&(p.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+d,a.push(je("td",h,p))}}var x="<tr>";return x+a.join("")+"</tr>"}var NY='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',jY="</body></html>";function CY(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function SO(e,t){var r=t||{},n=r.header!=null?r.header:NY,s=r.footer!=null?r.footer:jY,a=[n],o=ps(e["!ref"]);r.dense=Array.isArray(e),a.push(CY(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)a.push(EY(e,o,l,r));return a.push("</table>"+s),a.join("")}function EO(e,t,r){var n=r||{},s=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var o=typeof n.origin=="string"?Wr(n.origin):n.origin;s=o.r,a=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:s,c:a}};if(e["!ref"]){var d=ps(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),s==-1&&(u.e.r=s=d.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),x=0,m=0,v=0,_=0,w=0,y=0;for(e["!cols"]||(e["!cols"]=[]);x<l.length&&m<c;++x){var S=l[x];if(aS(S)){if(n.display)continue;p[m]={hidden:!0}}var E=S.children;for(v=_=0;v<E.length;++v){var C=E[v];if(!(n.display&&aS(C))){var b=C.hasAttribute("data-v")?C.getAttribute("data-v"):C.hasAttribute("v")?C.getAttribute("v"):aW(C.innerHTML),j=C.getAttribute("data-z")||C.getAttribute("z");for(h=0;h<f.length;++h){var N=f[h];N.s.c==_+a&&N.s.r<m+s&&m+s<=N.e.r&&(_=N.e.c+1-a,h=-1)}y=+C.getAttribute("colspan")||1,((w=+C.getAttribute("rowspan")||1)>1||y>1)&&f.push({s:{r:m+s,c:_+a},e:{r:m+s+(w||1)-1,c:_+a+(y||1)-1}});var R={t:"s",v:b},k=C.getAttribute("data-t")||C.getAttribute("t")||"";b!=null&&(b.length==0?R.t=k||"z":n.raw||b.trim().length==0||k=="s"||(b==="TRUE"?R={t:"b",v:!0}:b==="FALSE"?R={t:"b",v:!1}:isNaN(za(b))?isNaN(Rd(b).getDate())||(R={t:"d",v:Pn(b)},n.cellDates||(R={t:"n",v:Kn(R.v)}),R.z=n.dateNF||wr[14]):R={t:"n",v:za(b)})),R.z===void 0&&j!=null&&(R.z=j);var O="",L=C.getElementsByTagName("A");if(L&&L.length)for(var K=0;K<L.length&&!(L[K].hasAttribute("href")&&(O=L[K].getAttribute("href"),O.charAt(0)!="#"));++K);O&&O.charAt(0)!="#"&&(R.l={Target:O}),n.dense?(e[m+s]||(e[m+s]=[]),e[m+s][_+a]=R):e[Ft({c:_+a,r:m+s})]=R,u.e.c<_+a&&(u.e.c=_+a),_+=y}}++m}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,m-1+s),e["!ref"]=Or(u),m>=c&&(e["!fullref"]=Or((u.e.r=l.length-x+m-1+s,u))),e}function NO(e,t){var r=t||{},n=r.dense?[]:{};return EO(n,e,t)}function TY(e,t){return el(NO(e,t),t)}function aS(e){var t="",r=kY(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function kY(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var AY=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Pd({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Ir+t}}(),iS=function(){var e=function(a){return It(a).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(a,o,l){var c=[];c.push('      <table:table table:name="'+It(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,d=0,f=ps(a["!ref"]||"A1"),h=a["!merges"]||[],p=0,x=Array.isArray(a);if(a["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(a["!cols"][d]?' table:style-name="co'+a["!cols"][d].ods+'"':"")+`></table:table-column>
`);var m="",v=a["!rows"]||[];for(u=0;u<f.s.r;++u)m=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+m+`></table:table-row>
`);for(;u<=f.e.r;++u){for(m=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+m+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var _=!1,w={},y="";for(p=0;p!=h.length;++p)if(!(h[p].s.c>d)&&!(h[p].s.r>u)&&!(h[p].e.c<d)&&!(h[p].e.r<u)){(h[p].s.c!=d||h[p].s.r!=u)&&(_=!0),w["table:number-columns-spanned"]=h[p].e.c-h[p].s.c+1,w["table:number-rows-spanned"]=h[p].e.r-h[p].s.r+1;break}if(_){c.push(r);continue}var S=Ft({r:u,c:d}),E=x?(a[u]||[])[d]:a[S];if(E&&E.f&&(w["table:formula"]=It(Yq(E.f)),E.F&&E.F.slice(0,S.length)==S)){var C=ps(E.F);w["table:number-matrix-columns-spanned"]=C.e.c-C.s.c+1,w["table:number-matrix-rows-spanned"]=C.e.r-C.s.r+1}if(!E){c.push(t);continue}switch(E.t){case"b":y=E.v?"TRUE":"FALSE",w["office:value-type"]="boolean",w["office:boolean-value"]=E.v?"true":"false";break;case"n":y=E.w||String(E.v||0),w["office:value-type"]="float",w["office:value"]=E.v||0;break;case"s":case"str":y=E.v==null?"":E.v,w["office:value-type"]="string";break;case"d":y=E.w||Pn(E.v).toISOString(),w["office:value-type"]="date",w["office:date-value"]=Pn(E.v).toISOString(),w["table:style-name"]="ce1";break;default:c.push(t);continue}var b=e(y);if(E.l&&E.l.Target){var j=E.l.Target;j=j.charAt(0)=="#"?"#"+Jq(j.slice(1)):j,j.charAt(0)!="#"&&!j.match(/^\w+:/)&&(j="../"+j),b=je("text:a",b,{"xlink:href":j.replace(/&/g,"&amp;")})}c.push("          "+je("table:table-cell",je("text:p",b,{}),w)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},s=function(a,o){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;rw(f),f.ods=l;var h=u["!cols"][d].wpx+"px";a.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),a.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";a.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),a.push(`  </style:style>
`),++c}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(o,l){var c=[Ir],u=Pd({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=Pd({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push($R().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),s(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(n(o.Sheets[o.SheetNames[f]],o,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function jO(e,t){if(t.bookType=="fods")return iS(e,t);var r=Hy(),n="",s=[],a=[];return n="mimetype",ft(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",ft(r,n,iS(e,t)),s.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",ft(r,n,AY(e,t)),s.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",ft(r,n,Ir+$R()),s.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",ft(r,n,zW(a)),s.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",ft(r,n,$W(s)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function rp(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function RY(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Xs(Od(e))}function OY(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Qi(e){var t=e.reduce(function(s,a){return s+a.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(s){r.set(s,n),n+=s.length}),r}function PY(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var a=0;s>=1;++a,s/=256)e[t+a]=s&255;e[t+15]|=r>=0?0:128}function Id(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Ot(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Yl(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Fr(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],s=Id(e,r),a=s&7;s=Math.floor(s/8);var o=0,l;if(s==0)break;switch(a){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Id(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(s," at offset ").concat(n))}var u={data:l,type:a};t[s]==null?t[s]=[u]:t[s].push(u)}return t}function en(e){var t=[];return e.forEach(function(r,n){r.forEach(function(s){s.data&&(t.push(Ot(n*8+s.type)),s.type==2&&t.push(Ot(s.data.length)),t.push(s.data))})}),Qi(t)}function Ls(e){for(var t,r=[],n=[0];n[0]<e.length;){var s=Id(e,n),a=Fr(e.slice(n[0],n[0]+s));n[0]+=s;var o={id:Yl(a[1][0].data),messages:[]};a[2].forEach(function(l){var c=Fr(l.data),u=Yl(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=a[3])!=null&&t[0]&&(o.merge=Yl(a[3][0].data)>>>0>0),r.push(o)}return r}function ml(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:Ot(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Ot(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(o){s.push(o.data),o.meta[3]=[{type:0,data:Ot(o.data.length)}],n[2].push({data:en(o.meta),type:2})});var a=en(n);t.push(Ot(a.length)),t.push(a),s.forEach(function(o){return t.push(o)})}),Qi(t)}function IY(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Id(t,r),s=[];r[0]<t.length;){var a=t[r[0]]&3;if(a==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}s.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(a==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,a==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),s=[Qi(s)],c==0)throw new Error("Invalid offset 0");if(c>s[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(s.push(s[0].slice(-c)),u-=c;u>=s[s.length-1].length;)s.push(s[s.length-1]),u-=s[s.length-1].length;s.push(s[0].slice(-c,-c+u))}}var d=Qi(s);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function Ms(e){for(var t=[],r=0;r<e.length;){var n=e[r++],s=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(IY(n,e.slice(r,r+s))),r+=s}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Qi(t)}function gl(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),s=new Uint8Array(4);t.push(s);var a=Ot(n),o=a.length;t.push(a),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,s[0]=0,s[1]=o&255,s[2]=o>>8&255,s[3]=o>>16&255,r+=n}return Qi(t)}function kg(e,t){var r=new Uint8Array(32),n=rp(r),s=12,a=0;switch(r[0]=5,e.t){case"n":r[1]=2,PY(r,s,e.v),a|=1,s+=16;break;case"b":r[1]=6,n.setFloat64(s,e.v?1:0,!0),a|=2,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(s,t.indexOf(e.v),!0),a|=8,s+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,a,!0),r.slice(0,s)}function Ag(e,t){var r=new Uint8Array(32),n=rp(r),s=12,a=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(s,e.v,!0),a|=32,s+=8;break;case"b":r[2]=6,n.setFloat64(s,e.v?1:0,!0),a|=32,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(s,t.indexOf(e.v),!0),a|=16,s+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,a,!0),r.slice(0,s)}function ii(e){var t=Fr(e);return Id(t[1][0].data)}function DY(e,t,r){var n,s,a,o;if(!((n=e[6])!=null&&n[0])||!((s=e[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(a=e[8])==null?void 0:a[0])==null?void 0:o.data)&&Yl(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=rp(e[7][0].data),d=0,f=[],h=rp(e[4][0].data),p=0,x=[],m=0;m<t.length;++m){if(t[m]==null){u.setUint16(m*2,65535,!0),h.setUint16(m*2,65535);continue}u.setUint16(m*2,d,!0),h.setUint16(m*2,p,!0);var v,_;switch(typeof t[m]){case"string":v=kg({t:"s",v:t[m]},r),_=Ag({t:"s",v:t[m]},r);break;case"number":v=kg({t:"n",v:t[m]},r),_=Ag({t:"n",v:t[m]},r);break;case"boolean":v=kg({t:"b",v:t[m]},r),_=Ag({t:"b",v:t[m]},r);break;default:throw new Error("Unsupported value "+t[m])}f.push(v),d+=v.length,x.push(_),p+=_.length,++c}for(e[2][0].data=Ot(c);m<e[7][0].data.length/2;++m)u.setUint16(m*2,65535,!0),h.setUint16(m*2,65535,!0);return e[6][0].data=Qi(f),e[3][0].data=Qi(x),c}function FY(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=ps(r["!ref"]);n.s.r=n.s.c=0;var s=!1;n.e.c>9&&(s=!0,n.e.c=9),n.e.r>49&&(s=!0,n.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(Or(n)));var a=np(r,{range:n,header:1}),o=["~Sh33tJ5~"];a.forEach(function(G){return G.forEach(function(B){typeof B=="string"&&o.push(B)})});var l={},c=[],u=Mt.read(t.numbers,{type:"base64"});u.FileIndex.map(function(G,B){return[G,u.FullPaths[B]]}).forEach(function(G){var B=G[0],W=G[1];if(B.type==2&&B.name.match(/\.iwa/)){var ee=B.content,U=Ms(ee),he=Ls(U);he.forEach(function(ce){c.push(ce.id),l[ce.id]={deps:[],location:W,type:Yl(ce.messages[0].meta[1][0].data)}})}}),c.sort(function(G,B){return G-B});var d=c.filter(function(G){return G>1}).map(function(G){return[G,Ot(G)]});u.FileIndex.map(function(G,B){return[G,u.FullPaths[B]]}).forEach(function(G){var B=G[0];if(G[1],!!B.name.match(/\.iwa/)){var W=Ls(Ms(B.content));W.forEach(function(ee){ee.messages.forEach(function(U){d.forEach(function(he){ee.messages.some(function(ce){return Yl(ce.meta[1][0].data)!=11006&&OY(ce.data,he[1])})&&l[he[0]].deps.push(ee.id)})})})}});for(var f=Mt.find(u,l[1].location),h=Ls(Ms(f.content)),p,x=0;x<h.length;++x){var m=h[x];m.id==1&&(p=m)}var v=ii(Fr(p.messages[0].data)[1][0].data);for(f=Mt.find(u,l[v].location),h=Ls(Ms(f.content)),x=0;x<h.length;++x)m=h[x],m.id==v&&(p=m);for(v=ii(Fr(p.messages[0].data)[2][0].data),f=Mt.find(u,l[v].location),h=Ls(Ms(f.content)),x=0;x<h.length;++x)m=h[x],m.id==v&&(p=m);for(v=ii(Fr(p.messages[0].data)[2][0].data),f=Mt.find(u,l[v].location),h=Ls(Ms(f.content)),x=0;x<h.length;++x)m=h[x],m.id==v&&(p=m);var _=Fr(p.messages[0].data);{_[6][0].data=Ot(n.e.r+1),_[7][0].data=Ot(n.e.c+1);var w=ii(_[46][0].data),y=Mt.find(u,l[w].location),S=Ls(Ms(y.content));{for(var E=0;E<S.length&&S[E].id!=w;++E);if(S[E].id!=w)throw"Bad ColumnRowUIDMapArchive";var C=Fr(S[E].messages[0].data);C[1]=[],C[2]=[],C[3]=[];for(var b=0;b<=n.e.c;++b){var j=[];j[1]=j[2]=[{type:0,data:Ot(b+420690)}],C[1].push({type:2,data:en(j)}),C[2].push({type:0,data:Ot(b)}),C[3].push({type:0,data:Ot(b)})}C[4]=[],C[5]=[],C[6]=[];for(var N=0;N<=n.e.r;++N)j=[],j[1]=j[2]=[{type:0,data:Ot(N+726270)}],C[4].push({type:2,data:en(j)}),C[5].push({type:0,data:Ot(N)}),C[6].push({type:0,data:Ot(N)});S[E].messages[0].data=en(C)}y.content=gl(ml(S)),y.size=y.content.length,delete _[46];var R=Fr(_[4][0].data);{R[7][0].data=Ot(n.e.r+1);var k=Fr(R[1][0].data),O=ii(k[2][0].data);y=Mt.find(u,l[O].location),S=Ls(Ms(y.content));{if(S[0].id!=O)throw"Bad HeaderStorageBucket";var L=Fr(S[0].messages[0].data);for(N=0;N<a.length;++N){var K=Fr(L[2][0].data);K[1][0].data=Ot(N),K[4][0].data=Ot(a[N].length),L[2][N]={type:L[2][0].type,data:en(K)}}S[0].messages[0].data=en(L)}y.content=gl(ml(S)),y.size=y.content.length;var M=ii(R[2][0].data);y=Mt.find(u,l[M].location),S=Ls(Ms(y.content));{if(S[0].id!=M)throw"Bad HeaderStorageBucket";for(L=Fr(S[0].messages[0].data),b=0;b<=n.e.c;++b)K=Fr(L[2][0].data),K[1][0].data=Ot(b),K[4][0].data=Ot(n.e.r+1),L[2][b]={type:L[2][0].type,data:en(K)};S[0].messages[0].data=en(L)}y.content=gl(ml(S)),y.size=y.content.length;var q=ii(R[4][0].data);(function(){for(var G=Mt.find(u,l[q].location),B=Ls(Ms(G.content)),W,ee=0;ee<B.length;++ee){var U=B[ee];U.id==q&&(W=U)}var he=Fr(W.messages[0].data);{he[3]=[];var ce=[];o.forEach(function(ne,Re){ce[1]=[{type:0,data:Ot(Re)}],ce[2]=[{type:0,data:Ot(1)}],ce[3]=[{type:2,data:RY(ne)}],he[3].push({type:2,data:en(ce)})})}W.messages[0].data=en(he);var A=ml(B),H=gl(A);G.content=H,G.size=G.content.length})();var ie=Fr(R[3][0].data);{var X=ie[1][0];delete ie[2];var J=Fr(X.data);{var Y=ii(J[2][0].data);(function(){for(var G=Mt.find(u,l[Y].location),B=Ls(Ms(G.content)),W,ee=0;ee<B.length;++ee){var U=B[ee];U.id==Y&&(W=U)}var he=Fr(W.messages[0].data);{delete he[6],delete ie[7];var ce=new Uint8Array(he[5][0].data);he[5]=[];for(var A=0,H=0;H<=n.e.r;++H){var ne=Fr(ce);A+=DY(ne,a[H],o),ne[1][0].data=Ot(H),he[5].push({data:en(ne),type:2})}he[1]=[{type:0,data:Ot(n.e.c+1)}],he[2]=[{type:0,data:Ot(n.e.r+1)}],he[3]=[{type:0,data:Ot(A)}],he[4]=[{type:0,data:Ot(n.e.r+1)}]}W.messages[0].data=en(he);var Re=ml(B),Z=gl(Re);G.content=Z,G.size=G.content.length})()}X.data=en(J)}R[3][0].data=en(ie)}_[4][0].data=en(R)}p.messages[0].data=en(_);var ge=ml(h),P=gl(ge);return f.content=P,f.size=f.content.length,u}function LY(e){return function(r){for(var n=0;n!=e.length;++n){var s=e[n];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function ow(e){LY([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function MY(e,t){return t.bookType=="ods"?jO(e,t):t.bookType=="numbers"?FY(e,t):t.bookType=="xlsb"?BY(e,t):$Y(e,t)}function BY(e,t){Il=1024,e&&!e.SSF&&(e.SSF=Xn(wr)),e&&e.SSF&&(um(),cm(e.SSF),t.revssf=dm(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Gu?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=lO.indexOf(t.bookType)>-1,s=LR();ow(t=t||{});var a=Hy(),o="",l=0;if(t.cellXfs=[],oo(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",ft(a,o,UR(e.Props,t)),s.coreprops.push(o),Pt(t.rels,2,o,_t.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,ft(a,o,VR(e.Props)),s.extprops.push(o),Pt(t.rels,3,o,_t.EXT_PROPS),e.Custprops!==e.Props&&un(e.Custprops||{}).length>0&&(o="docProps/custom.xml",ft(a,o,WR(e.Custprops)),s.custprops.push(o),Pt(t.rels,4,o,_t.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var d={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,ft(a,o,zX(l-1,o,t,e,d)),s.sheets.push(o),Pt(t.wbrels,-1,"worksheets/sheet"+l+"."+r,_t.WS[0])}if(f){var p=f["!comments"],x=!1,m="";p&&p.length>0&&(m="xl/comments"+l+"."+r,ft(a,m,HX(p,m)),s.comments.push(m),Pt(d,-1,"../comments"+l+"."+r,_t.CMNT),x=!0),f["!legacy"]&&x&&ft(a,"xl/drawings/vmlDrawing"+l+".vml",iO(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&ft(a,BR(o),Kl(d))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,ft(a,o,WX(t.Strings,o,t)),s.strs.push(o),Pt(t.wbrels,-1,"sharedStrings."+r,_t.SST)),o="xl/workbook."+r,ft(a,o,UX(e,o)),s.workbooks.push(o),Pt(t.rels,1,o,_t.WB),o="xl/theme/theme1.xml",ft(a,o,sO(e.Themes,t)),s.themes.push(o),Pt(t.wbrels,-1,"theme/theme1.xml",_t.THEME),o="xl/styles."+r,ft(a,o,VX(e,o,t)),s.styles.push(o),Pt(t.wbrels,-1,"styles."+r,_t.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",ft(a,o,e.vbaraw),s.vba.push(o),Pt(t.wbrels,-1,"vbaProject.bin",_t.VBA)),o="xl/metadata."+r,ft(a,o,GX(o)),s.metadata.push(o),Pt(t.wbrels,-1,"metadata."+r,_t.XLMETA),ft(a,"[Content_Types].xml",MR(s,t)),ft(a,"_rels/.rels",Kl(t.rels)),ft(a,"xl/_rels/workbook."+r+".rels",Kl(t.wbrels)),delete t.revssf,delete t.ssf,a}function $Y(e,t){Il=1024,e&&!e.SSF&&(e.SSF=Xn(wr)),e&&e.SSF&&(um(),cm(e.SSF),t.revssf=dm(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Gu?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=lO.indexOf(t.bookType)>-1,s=LR();ow(t=t||{});var a=Hy(),o="",l=0;if(t.cellXfs=[],oo(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",ft(a,o,UR(e.Props,t)),s.coreprops.push(o),Pt(t.rels,2,o,_t.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,ft(a,o,VR(e.Props)),s.extprops.push(o),Pt(t.rels,3,o,_t.EXT_PROPS),e.Custprops!==e.Props&&un(e.Custprops||{}).length>0&&(o="docProps/custom.xml",ft(a,o,WR(e.Custprops)),s.custprops.push(o),Pt(t.rels,4,o,_t.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},h=e.Sheets[e.SheetNames[l-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,ft(a,o,vO(l-1,t,e,f)),s.sheets.push(o),Pt(t.wbrels,-1,"worksheets/sheet"+l+"."+r,_t.WS[0])}if(h){var x=h["!comments"],m=!1,v="";if(x&&x.length>0){var _=!1;x.forEach(function(w){w[1].forEach(function(y){y.T==!0&&(_=!0)})}),_&&(v="xl/threadedComments/threadedComment"+l+"."+r,ft(a,v,vG(x,d,t)),s.threadedcomments.push(v),Pt(f,-1,"../threadedComments/threadedComment"+l+"."+r,_t.TCMNT)),v="xl/comments"+l+"."+r,ft(a,v,oO(x)),s.comments.push(v),Pt(f,-1,"../comments"+l+"."+r,_t.CMNT),m=!0}h["!legacy"]&&m&&ft(a,"xl/drawings/vmlDrawing"+l+".vml",iO(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&ft(a,BR(o),Kl(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,ft(a,o,QR(t.Strings,t)),s.strs.push(o),Pt(t.wbrels,-1,"sharedStrings."+r,_t.SST)),o="xl/workbook."+r,ft(a,o,wO(e)),s.workbooks.push(o),Pt(t.rels,1,o,_t.WB),o="xl/theme/theme1.xml",ft(a,o,sO(e.Themes,t)),s.themes.push(o),Pt(t.wbrels,-1,"theme/theme1.xml",_t.THEME),o="xl/styles."+r,ft(a,o,rO(e,t)),s.styles.push(o),Pt(t.wbrels,-1,"styles."+r,_t.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",ft(a,o,e.vbaraw),s.vba.push(o),Pt(t.wbrels,-1,"vbaProject.bin",_t.VBA)),o="xl/metadata."+r,ft(a,o,aO()),s.metadata.push(o),Pt(t.wbrels,-1,"metadata."+r,_t.XLMETA),d.length>1&&(o="xl/persons/person.xml",ft(a,o,xG(d)),s.people.push(o),Pt(t.wbrels,-1,"persons/person.xml",_t.PEOPLE)),ft(a,"[Content_Types].xml",MR(s,t)),ft(a,"_rels/.rels",Kl(t.rels)),ft(a,"xl/_rels/workbook."+r+".rels",Kl(t.wbrels)),delete t.revssf,delete t.ssf,a}function UY(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Ja(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function CO(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return df(t.file,Mt.write(e,{type:Ct?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Mt.write(e,t)}function zY(e,t){var r=Xn(t||{}),n=MY(e,r);return VY(n,r)}function VY(e,t){var r={},n=Ct?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var s=e.FullPaths?Mt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(t.type=="binary"||t.type=="base64")return s;s=new Uint8Array(lm(s))}return t.password&&typeof encrypt_agile<"u"?CO(encrypt_agile(s,t.password),t):t.type==="file"?df(t.file,s):t.type=="string"?zu(s):s}function WY(e,t){var r=t||{},n=iY(e,r);return CO(n,r)}function da(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Ad(Od(n));case"binary":return Od(n);case"string":return e;case"file":return df(t.file,n,"utf8");case"buffer":return Ct?ti(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):da(n,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function HY(e,t){switch(t.type){case"base64":return Ad(e);case"binary":return e;case"string":return e;case"file":return df(t.file,e,"binary");case"buffer":return Ct?ti(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function fh(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Ad(r):t.type=="string"?zu(r):r;case"file":return df(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function TO(e,t){yV(),AX(e);var r=Xn(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=TO(e,r);return r.type="array",lm(n)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=e.SheetNames.indexOf(r.sheet),!e.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return da(sY(e,r),r);case"slk":case"sylk":return da(CH.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"htm":case"html":return da(SO(e.Sheets[e.SheetNames[s]],r),r);case"txt":return HY(kO(e.Sheets[e.SheetNames[s]],r),r);case"csv":return da(lw(e.Sheets[e.SheetNames[s]],r),r,"\uFEFF");case"dif":return da(TH.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"dbf":return fh(jH.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"prn":return da(kH.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"rtf":return da(FH.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"eth":return da(JR.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"fods":return da(jO(e,r),r);case"wk1":return fh(Z2.sheet_to_wk1(e.Sheets[e.SheetNames[s]],r),r);case"wk3":return fh(Z2.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),fh(bO(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),WY(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return zY(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function GY(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function qY(e,t,r){var n={};return n.type="file",n.file=t,GY(n),TO(e,n)}function KY(e,t,r,n,s,a,o,l){var c=ln(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!o||e[r])for(var p=t.s.c;p<=t.e.c;++p){var x=o?e[r][p]:e[n[p]+c];if(x===void 0||x.t===void 0){if(u===void 0)continue;a[p]!=null&&(h[a[p]]=u);continue}var m=x.v;switch(x.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(a[p]!=null){if(m==null)if(x.t=="e"&&m===null)h[a[p]]=null;else if(u!==void 0)h[a[p]]=u;else if(d&&m===null)h[a[p]]=null;else continue;else h[a[p]]=d&&(x.t!=="n"||x.t==="n"&&l.rawNumbers!==!1)?m:Qa(x,m,l);m!=null&&(f=!1)}}return{row:h,isempty:f}}function np(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,s=1,a=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=Zt(d);break;case"number":c=Zt(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(s=0);var f=ln(c.s.r),h=[],p=[],x=0,m=0,v=Array.isArray(e),_=c.s.r,w=0,y={};v&&!e[_]&&(e[_]=[]);var S=u.skipHidden&&e["!cols"]||[],E=u.skipHidden&&e["!rows"]||[];for(w=c.s.c;w<=c.e.c;++w)if(!(S[w]||{}).hidden)switch(h[w]=_n(w),r=v?e[_][w]:e[h[w]+f],n){case 1:a[w]=w-c.s.c;break;case 2:a[w]=h[w];break;case 3:a[w]=u.header[w-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=Qa(r,null,u),m=y[o]||0,!m)y[o]=1;else{do l=o+"_"+m++;while(y[l]);y[o]=m,y[l]=1}a[w]=l}for(_=c.s.r+s;_<=c.e.r;++_)if(!(E[_]||{}).hidden){var C=KY(e,c,_,h,n,a,v,u);(C.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[x++]=C.row)}return p.length=x,p}var oS=/"/g;function XY(e,t,r,n,s,a,o,l){for(var c=!0,u=[],d="",f=ln(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=l.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)d="";else if(p.v!=null){c=!1,d=""+(l.rawNumbers&&p.t=="n"?p.v:Qa(p,null,l));for(var x=0,m=0;x!==d.length;++x)if((m=d.charCodeAt(x))===s||m===a||m===34||l.forceQuotes){d='"'+d.replace(oS,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(c=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(oS,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function lw(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var s=Zt(e["!ref"]),a=n.FS!==void 0?n.FS:",",o=a.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],x=s.s.c;x<=s.e.c;++x)(h[x]||{}).hidden||(f[x]=_n(x));for(var m=0,v=s.s.r;v<=s.e.r;++v)(p[v]||{}).hidden||(d=XY(e,s,v,f,o,c,a,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((m++?l:"")+d)));return delete n.dense,r.join("")}function kO(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=lw(e,t);return r}function YY(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var s=Zt(e["!ref"]),a="",o=[],l,c=[],u=Array.isArray(e);for(l=s.s.c;l<=s.e.c;++l)o[l]=_n(l);for(var d=s.s.r;d<=s.e.r;++d)for(a=ln(d),l=s.s.c;l<=s.e.c;++l)if(t=o[l]+a,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function AO(e,t,r){var n=r||{},s=+!n.skipHeader,a=e||{},o=0,l=0;if(a&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Wr(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+s}};if(a["!ref"]){var f=Zt(a["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+s)}else o==-1&&(o=0,d.e.r=t.length-1+s);var h=n.header||[],p=0;t.forEach(function(m,v){un(m).forEach(function(_){(p=h.indexOf(_))==-1&&(h[p=h.length]=_);var w=m[_],y="z",S="",E=Ft({c:l+p,r:o+v+s});u=Dd(a,E),w&&typeof w=="object"&&!(w instanceof Date)?a[E]=w:(typeof w=="number"?y="n":typeof w=="boolean"?y="b":typeof w=="string"?y="s":w instanceof Date?(y="d",n.cellDates||(y="n",w=Kn(w)),S=n.dateNF||wr[14]):w===null&&n.nullError&&(y="e",w=0),u?(u.t=y,u.v=w,delete u.w,delete u.R,S&&(u.z=S)):a[E]=u={t:y,v:w},S&&(u.z=S))})}),d.e.c=Math.max(d.e.c,l+h.length-1);var x=ln(o);if(s)for(p=0;p<h.length;++p)a[_n(p+l)+x]={t:"s",v:h[p]};return a["!ref"]=Or(d),a}function JY(e,t){return AO(null,e,t)}function Dd(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Wr(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Dd(e,Ft(t)):Dd(e,Ft({r:t,c:r||0}))}function QY(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function ZY(){return{SheetNames:[],Sheets:{}}}function eJ(e,t,r,n){var s=1;if(!r)for(;s<=65535&&e.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);s=a&&+a[2]||0;var o=a&&a[1]||r;for(++s;s<=65535&&e.SheetNames.indexOf(r=o+s)!=-1;++s);}if(yO(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function tJ(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=QY(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function rJ(e,t){return e.z=t,e}function RO(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function nJ(e,t,r){return RO(e,"#"+t,r)}function sJ(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function aJ(e,t,r,n){for(var s=typeof t!="string"?t:Zt(t),a=typeof t=="string"?t:Or(t),o=s.s.r;o<=s.e.r;++o)for(var l=s.s.c;l<=s.e.c;++l){var c=Dd(e,o,l);c.t="n",c.F=a,delete c.v,o==s.s.r&&l==s.s.c&&(c.f=r,n&&(c.D=!0))}return e}var Rg={encode_col:_n,encode_row:ln,encode_cell:Ft,encode_range:Or,decode_col:Jy,decode_row:Yy,split_cell:yW,decode_cell:Wr,decode_range:ps,format_cell:Qa,sheet_add_aoa:RR,sheet_add_json:AO,sheet_add_dom:EO,aoa_to_sheet:Jc,json_to_sheet:JY,table_to_sheet:NO,table_to_book:TY,sheet_to_csv:lw,sheet_to_txt:kO,sheet_to_json:np,sheet_to_html:SO,sheet_to_formulae:YY,sheet_to_row_object_array:np,sheet_get_cell:Dd,book_new:ZY,book_append_sheet:eJ,book_set_sheet_visibility:tJ,cell_set_number_format:rJ,cell_set_hyperlink:RO,cell_set_internal_link:nJ,cell_add_comment:sJ,sheet_set_array_formula:aJ,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function iJ({reports:e}){const{toast:t}=pr(),[r,n]=g.useState(!1),[s,a]=g.useState(!1),o=d=>new Date(d).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),l=()=>e.map((d,f)=>({"#":f+1,Ttulo:d.title,"Criado Por":d.creator_name||"Desconhecido","Sobre Usurio":d.target_user_name||"-","Data de Criao":o(d.created_at),Contedo:d.content})),c=async()=>{a(!0);try{const d=l(),f=Rg.book_new(),h=Rg.json_to_sheet(d);h["!cols"]=[{wch:5},{wch:30},{wch:20},{wch:20},{wch:20},{wch:60}],Rg.book_append_sheet(f,h,"Relatrios");const p=`relatorios_${new Date().toISOString().split("T")[0]}.xlsx`;qY(f,p),t({title:"Sucesso",description:"Relatrios exportados para Excel!"}),n(!1)}catch(d){t({title:"Erro",description:d.message,variant:"destructive"})}finally{a(!1)}},u=async()=>{a(!0);try{const d=l(),f=Object.keys(d[0]||{}),p=[f.join("	"),...d.map(_=>f.map(w=>`"${String(_[w]||"").replace(/"/g,'""').replace(/\n/g," ")}"`).join("	"))].join(`
`),x=new Blob(["\uFEFF"+p],{type:"text/tab-separated-values;charset=utf-8"}),m=URL.createObjectURL(x),v=document.createElement("a");v.href=m,v.download=`relatorios_${new Date().toISOString().split("T")[0]}.tsv`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(m),t({title:"Sucesso",description:"Arquivo TSV baixado! Abra no Google Sheets para importar."}),n(!1)}catch(d){t({title:"Erro",description:d.message,variant:"destructive"})}finally{a(!1)}};return i.jsxs(Tt,{open:r,onOpenChange:n,children:[i.jsx(zc,{asChild:!0,children:i.jsxs(fe,{variant:"outline",className:"gap-2",children:[i.jsx(c0,{className:"w-4 h-4"}),"Exportar"]})}),i.jsxs(Et,{className:"glass-panel border-t-2 border-primary",children:[i.jsxs(kt,{children:[i.jsxs(At,{className:"flex items-center gap-2",children:[i.jsx(c0,{className:"w-5 h-5 text-primary"}),"Exportar Relatrios"]}),i.jsxs(dr,{children:["Escolha o formato de exportao. ",e.length," relatrio(s) sero exportados."]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[i.jsxs(fe,{variant:"outline",className:"h-24 flex-col gap-2 hover:border-success hover:bg-success/10",onClick:c,disabled:s||e.length===0,children:[s?i.jsx(ot,{className:"w-8 h-8 animate-spin"}):i.jsx(Tv,{className:"w-8 h-8 text-success"}),i.jsx("span",{className:"text-sm font-medium",children:"Excel (.xlsx)"})]}),i.jsxs(fe,{variant:"outline",className:"h-24 flex-col gap-2 hover:border-primary hover:bg-primary/10",onClick:u,disabled:s||e.length===0,children:[s?i.jsx(ot,{className:"w-8 h-8 animate-spin"}):i.jsx(w5,{className:"w-8 h-8 text-primary"}),i.jsx("span",{className:"text-sm font-medium",children:"Google Sheets"})]})]}),e.length===0&&i.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Nenhum relatrio para exportar."}),i.jsx(qt,{children:i.jsx(fe,{variant:"ghost",onClick:()=>n(!1),children:"Cancelar"})})]})]})}function oJ(){const{toast:e}=pr(),{user:t}=Pr(),[r,n]=g.useState([]),[s,a]=g.useState([]),[o,l]=g.useState(!0),[c,u]=g.useState(!1),[d,f]=g.useState(!1),[h,p]=g.useState(!1),[x,m]=g.useState(null),[v,_]=g.useState(null),[w,y]=g.useState(!1),[S,E]=g.useState("all"),[C,b]=g.useState("all"),[j,N]=g.useState(""),[R,k]=g.useState({title:"",content:"",target_user_id:""});g.useEffect(()=>{O()},[]);const O=async()=>{try{const[Y,ge]=await Promise.all([re.from("reports").select("*").order("created_at",{ascending:!1}),re.from("profiles").select("id, user_id, name, avatar_url")]);if(ge.data&&a(ge.data),Y.data&&ge.data){const P=Y.data.map(G=>{const B=ge.data.find(ee=>ee.user_id===G.created_by),W=ge.data.find(ee=>ee.user_id===G.target_user_id);return{...G,creator_name:(B==null?void 0:B.name)||"Desconhecido",target_user_name:(W==null?void 0:W.name)||null,creator_avatar:(B==null?void 0:B.avatar_url)||null,target_avatar:(W==null?void 0:W.avatar_url)||null}});n(P)}}catch(Y){console.error("Error fetching reports:",Y),e({title:"Erro",description:"No foi possvel carregar os relatrios.",variant:"destructive"})}finally{l(!1)}},L=async Y=>{y(!0);try{const ge=new Date;ge.setDate(ge.getDate()-7);const{data:P,error:G}=await re.from("interviews").select("result, duration_seconds, created_at").eq("interviewer_id",Y).gte("created_at",ge.toISOString());if(G)throw G;const B=(P==null?void 0:P.length)||0,W=(P==null?void 0:P.filter(ce=>ce.result==="Aprovado").length)||0,ee=B-W,U=B>0?W/B*100:0,he=B>0?P.reduce((ce,A)=>ce+(A.duration_seconds||0),0)/B:0;_({totalInterviews:B,approved:W,rejected:ee,approvalRate:U,avgDuration:he})}catch(ge){console.error("Error fetching user stats:",ge),_(null)}finally{y(!1)}},K=async()=>{if(!R.title.trim()||!R.content.trim()){e({title:"Erro",description:"Preencha todos os campos obrigatrios.",variant:"destructive"});return}u(!0);try{const{error:Y}=await re.from("reports").insert({title:R.title,content:R.content,target_user_id:R.target_user_id||null,created_by:t==null?void 0:t.id});if(Y)throw Y;e({title:"Sucesso",description:"Relatrio criado com sucesso!"}),f(!1),k({title:"",content:"",target_user_id:""}),O()}catch(Y){e({title:"Erro",description:Y.message||"No foi possvel criar o relatrio.",variant:"destructive"})}finally{u(!1)}},M=Y=>{m(Y),p(!0),_(null),Y.target_user_id&&L(Y.target_user_id)},q=Y=>new Date(Y).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),ie=Y=>{const ge=Math.floor(Y/60),P=Math.floor(Y%60);return`${ge}m ${P}s`},X=Y=>Y.split(" ").map(ge=>ge[0]).join("").toUpperCase().slice(0,2),J=r.filter(Y=>{var B,W;const ge=S==="all"||Y.created_by===S,P=C==="all"||Y.target_user_id===C,G=Y.title.toLowerCase().includes(j.toLowerCase())||Y.content.toLowerCase().includes(j.toLowerCase())||((B=Y.creator_name)==null?void 0:B.toLowerCase().includes(j.toLowerCase()))||((W=Y.target_user_name)==null?void 0:W.toLowerCase().includes(j.toLowerCase()));return ge&&P&&G});return i.jsxs(On,{children:[i.jsxs("div",{className:"space-y-6 animate-fade-in",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-display font-bold text-foreground flex items-center gap-3",children:[i.jsx(Cs,{className:"w-8 h-8 text-primary"}),"Relatrios"]}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Gerencie e visualize relatrios do sistema"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(iJ,{reports:J}),i.jsxs(fe,{onClick:()=>f(!0),className:"btn-neon gap-2",children:[i.jsx(qr,{className:"w-5 h-5"}),"Novo Relatrio"]})]})]}),i.jsx("div",{className:"glass-panel rounded-xl p-4",children:i.jsxs("div",{className:"flex flex-wrap gap-4",children:[i.jsx("div",{className:"flex-1 min-w-[200px]",children:i.jsxs("div",{className:"relative",children:[i.jsx(Kd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),i.jsx(Oe,{placeholder:"Buscar relatrios...",value:j,onChange:Y=>N(Y.target.value),className:"glass-input pl-10"})]})}),i.jsxs(Yt,{value:S,onValueChange:E,children:[i.jsx(Wt,{className:"w-[200px] glass-input",children:i.jsx(Jt,{placeholder:"Criado por"})}),i.jsxs(Ht,{children:[i.jsx(He,{value:"all",children:"Todos os Criadores"}),s.map(Y=>i.jsx(He,{value:Y.user_id,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-primary font-medium",children:"@"}),Y.name]})},Y.user_id))]})]}),i.jsxs(Yt,{value:C,onValueChange:b,children:[i.jsx(Wt,{className:"w-[200px] glass-input",children:i.jsx(Jt,{placeholder:"Sobre usurio"})}),i.jsxs(Ht,{children:[i.jsx(He,{value:"all",children:"Sobre Qualquer"}),s.map(Y=>i.jsx(He,{value:Y.user_id,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-accent-foreground font-medium",children:"#"}),Y.name]})},Y.user_id))]})]})]})}),i.jsx("div",{className:"glass-panel rounded-xl overflow-hidden",children:i.jsxs(Wc,{children:[i.jsx(Hc,{children:i.jsxs(Nr,{className:"border-border hover:bg-transparent",children:[i.jsx(bt,{children:"Ttulo"}),i.jsx(bt,{children:"Criado por"}),i.jsx(bt,{children:"Sobre"}),i.jsx(bt,{children:"Data"}),i.jsx(bt,{className:"text-right",children:"Aes"})]})}),i.jsx(Gc,{children:o?i.jsx(Nr,{children:i.jsx(tt,{colSpan:5,className:"text-center py-8",children:i.jsx(ot,{className:"w-6 h-6 animate-spin mx-auto text-muted-foreground"})})}):J.length===0?i.jsx(Nr,{children:i.jsx(tt,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Nenhum relatrio encontrado"})}):J.map(Y=>i.jsxs(Nr,{className:"border-border hover:bg-accent/30 transition-colors",children:[i.jsx(tt,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Cs,{className:"w-4 h-4 text-primary"}),i.jsx("span",{className:"font-medium",children:Y.title})]})}),i.jsx(tt,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(xn,{className:"w-6 h-6",children:[i.jsx(yn,{src:Y.creator_avatar||void 0}),i.jsx(wn,{className:"text-xs bg-primary/20 text-primary",children:X(Y.creator_name||"?")})]}),i.jsxs("span",{className:"text-primary font-medium",children:["@",Y.creator_name]})]})}),i.jsx(tt,{children:Y.target_user_name?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(xn,{className:"w-6 h-6",children:[i.jsx(yn,{src:Y.target_avatar||void 0}),i.jsx(wn,{className:"text-xs bg-accent text-accent-foreground",children:X(Y.target_user_name)})]}),i.jsx("span",{className:"text-muted-foreground",children:Y.target_user_name})]}):i.jsx("span",{className:"text-muted-foreground/50",children:""})}),i.jsx(tt,{children:i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(fc,{className:"w-4 h-4"}),q(Y.created_at)]})}),i.jsx(tt,{className:"text-right",children:i.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>M(Y),className:"hover:bg-primary/10 hover:text-primary",children:"Ver Detalhes"})})]},Y.id))})]})})]}),i.jsx(Tt,{open:d,onOpenChange:f,children:i.jsxs(Et,{className:"glass-panel border-t-2 border-primary max-w-2xl",children:[i.jsxs(kt,{children:[i.jsxs(At,{className:"flex items-center gap-2",children:[i.jsx(Cs,{className:"w-5 h-5 text-primary"}),"Novo Relatrio"]}),i.jsx(dr,{children:"Preencha as informaes do relatrio."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Ttulo *"}),i.jsx(Oe,{value:R.title,onChange:Y=>k({...R,title:Y.target.value}),placeholder:"Ttulo do relatrio",className:"glass-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Sobre Usurio (opcional)"}),i.jsxs(Yt,{value:R.target_user_id||"__none__",onValueChange:Y=>k({...R,target_user_id:Y==="__none__"?"":Y}),children:[i.jsx(Wt,{className:"glass-input",children:i.jsx(Jt,{placeholder:"Selecione um usurio"})}),i.jsxs(Ht,{children:[i.jsx(He,{value:"__none__",children:"Nenhum"}),s.map(Y=>i.jsx(He,{value:Y.user_id,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(xn,{className:"w-5 h-5",children:[i.jsx(yn,{src:Y.avatar_url||void 0}),i.jsx(wn,{className:"text-[10px]",children:X(Y.name)})]}),Y.name]})},Y.user_id))]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Contedo *"}),i.jsx(An,{value:R.content,onChange:Y=>k({...R,content:Y.target.value}),placeholder:"Descreva o relatrio...",className:"glass-input min-h-[200px]"})]})]}),i.jsxs(qt,{children:[i.jsx(fe,{variant:"ghost",onClick:()=>f(!1),children:"Cancelar"}),i.jsx(fe,{onClick:K,disabled:c,className:"btn-neon",children:c?i.jsx(ot,{className:"w-4 h-4 animate-spin"}):"Criar Relatrio"})]})]})}),i.jsx(Tt,{open:h,onOpenChange:p,children:i.jsxs(Et,{className:"glass-panel border-t-2 border-primary max-w-3xl max-h-[90vh] overflow-y-auto",children:[i.jsx(kt,{children:i.jsxs(At,{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:i.jsx(Cs,{className:"w-5 h-5 text-primary"})}),i.jsx("span",{children:x==null?void 0:x.title})]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"p-4 rounded-lg bg-accent/30 border border-border",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Criado por"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(xn,{className:"w-8 h-8",children:[i.jsx(yn,{src:(x==null?void 0:x.creator_avatar)||void 0}),i.jsx(wn,{className:"bg-primary/20 text-primary text-sm",children:X((x==null?void 0:x.creator_name)||"?")})]}),i.jsxs("span",{className:"font-medium text-primary",children:["@",x==null?void 0:x.creator_name]})]})]}),i.jsxs("div",{className:"p-4 rounded-lg bg-accent/30 border border-border",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Sobre"}),x!=null&&x.target_user_name?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(xn,{className:"w-8 h-8",children:[i.jsx(yn,{src:(x==null?void 0:x.target_avatar)||void 0}),i.jsx(wn,{className:"bg-accent text-accent-foreground text-sm",children:X((x==null?void 0:x.target_user_name)||"?")})]}),i.jsx("span",{className:"font-medium",children:x.target_user_name})]}):i.jsx("span",{className:"text-muted-foreground",children:"No especificado"})]}),i.jsxs("div",{className:"p-4 rounded-lg bg-accent/30 border border-border",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Data"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(fc,{className:"w-4 h-4 text-muted-foreground"}),i.jsx("span",{className:"font-medium",children:x&&q(x.created_at)})]})]})]}),(x==null?void 0:x.target_user_id)&&i.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-primary/5 to-primary/10 border border-primary/20",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(a5,{className:"w-5 h-5 text-primary"}),i.jsx("h3",{className:"font-display font-bold text-foreground",children:"Desempenho (ltimos 7 dias)"})]}),w?i.jsx("div",{className:"flex items-center justify-center py-6",children:i.jsx(ot,{className:"w-6 h-6 animate-spin text-primary"})}):v?i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"p-3 rounded-lg bg-background/50 border border-border",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Total"}),i.jsx("p",{className:"text-2xl font-bold text-foreground",children:v.totalInterviews}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"entrevistas"})]}),i.jsxs("div",{className:"p-3 rounded-lg bg-success/10 border border-success/20",children:[i.jsxs("p",{className:"text-xs text-success mb-1 flex items-center gap-1",children:[i.jsx(Er,{className:"w-3 h-3"}),"Aprovados"]}),i.jsx("p",{className:"text-2xl font-bold text-success",children:v.approved})]}),i.jsxs("div",{className:"p-3 rounded-lg bg-destructive/10 border border-destructive/20",children:[i.jsxs("p",{className:"text-xs text-destructive mb-1 flex items-center gap-1",children:[i.jsx(Rs,{className:"w-3 h-3"}),"Reprovados"]}),i.jsx("p",{className:"text-2xl font-bold text-destructive",children:v.rejected})]}),i.jsxs("div",{className:"p-3 rounded-lg bg-background/50 border border-border",children:[i.jsxs("p",{className:"text-xs text-muted-foreground mb-1 flex items-center gap-1",children:[i.jsx(En,{className:"w-3 h-3"}),"Tempo Mdio"]}),i.jsx("p",{className:"text-2xl font-bold text-foreground",children:ie(v.avgDuration)})]})]}):i.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Nenhuma entrevista nos ltimos 7 dias"}),v&&v.totalInterviews>0&&i.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[i.jsx("div",{className:"flex-1 h-2 bg-muted rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-success rounded-full transition-all",style:{width:`${v.approvalRate}%`}})}),i.jsxs(ar,{variant:v.approvalRate>=50?"default":"secondary",className:v.approvalRate>=50?"bg-success hover:bg-success/80":"",children:[v.approvalRate.toFixed(1),"% aprovao"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{className:"text-muted-foreground",children:"Contedo do Relatrio"}),i.jsx("div",{className:"p-4 rounded-lg bg-accent/30 border border-border min-h-[150px]",children:i.jsx("p",{className:"whitespace-pre-wrap text-foreground",children:x==null?void 0:x.content})})]})]}),i.jsx(qt,{children:i.jsx(fe,{variant:"ghost",onClick:()=>p(!1),children:"Fechar"})})]})})]})}function lJ({ticketId:e,ticketNumber:t,ticketSubject:r,messages:n=[],onClose:s}){const{toast:a}=pr(),{user:o}=Pr(),[l,c]=g.useState(!1),[u,d]=g.useState(""),[f,h]=g.useState(!1),[p,x]=g.useState(!1),[m,v]=g.useState(!1);g.useEffect(()=>{l&&_()},[l]);const _=async()=>{h(!0);try{const{data:b,error:j}=await re.from("support_webhooks").select("webhook_url").limit(1).maybeSingle();if(j&&j.code!=="PGRST116")throw j;b&&d(b.webhook_url)}catch(b){console.error("Error fetching webhook:",b)}finally{h(!1)}},w=async()=>{if(!u.trim()){a({title:"Erro",description:"Insira uma URL de webhook vlida.",variant:"destructive"});return}x(!0);try{const{data:b}=await re.from("support_webhooks").select("id").limit(1).maybeSingle();b?await re.from("support_webhooks").update({webhook_url:u,updated_at:new Date().toISOString()}).eq("id",b.id):await re.from("support_webhooks").insert({webhook_url:u,created_by:o==null?void 0:o.id}),a({title:"Sucesso",description:"Webhook salvo com sucesso!"})}catch(b){a({title:"Erro",description:b.message||"No foi possvel salvar o webhook.",variant:"destructive"})}finally{x(!1)}},y=async()=>{if(!u.trim()){a({title:"Erro",description:"Insira uma URL de webhook primeiro.",variant:"destructive"});return}try{if((await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({embeds:[{title:" Teste de Webhook - Suporte",description:"Este  um teste do webhook de transcript do suporte.",color:3900150,fields:[{name:"Ticket",value:"#TKT-000001",inline:!0},{name:"Assunto",value:"Teste de Webhook",inline:!0},{name:"Status",value:"Fechado",inline:!0}],timestamp:new Date().toISOString(),footer:{text:"Host Manager  Suporte"}}]})})).ok)a({title:"Sucesso",description:"Webhook testado com sucesso!"});else throw new Error("Falha ao enviar")}catch{a({title:"Erro",description:"No foi possvel testar o webhook. Verifique a URL.",variant:"destructive"})}},S=()=>n.length===0?"Nenhuma mensagem no ticket.":n.map(b=>{const j=new Date(b.created_at).toLocaleString("pt-BR"),N=b.sender_role==="admin_master"?"Admin":b.sender_role==="casting_manager"?"Casting":"Usurio";return`[${j}] ${b.sender_name||"Desconhecido"} (${N}):
${b.message}`}).join(`

`),E=async()=>{if(!u.trim()||!e){a({title:"Erro",description:"Webhook no configurado ou ticket no selecionado.",variant:"destructive"});return}v(!0);try{const b=S(),j=1900,N=[];for(let R=0;R<b.length;R+=j)N.push(b.substring(R,R+j));await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({embeds:[{title:` Transcript do Ticket ${t}`,description:`**Assunto:** ${r}
**Total de mensagens:** ${n.length}`,color:2278750,fields:[{name:"Data de Abertura",value:n.length>0?new Date(n[0].created_at).toLocaleString("pt-BR"):"N/A",inline:!0},{name:"ltima Mensagem",value:n.length>0?new Date(n[n.length-1].created_at).toLocaleString("pt-BR"):"N/A",inline:!0}],timestamp:new Date().toISOString(),footer:{text:"Host Manager  Transcript de Suporte"}}]})});for(const R of N)await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:`\`\`\`
${R}
\`\`\``})}),await new Promise(k=>setTimeout(k,500));a({title:"Sucesso",description:"Transcript enviado para o Discord!"}),c(!1),s==null||s()}catch{a({title:"Erro",description:"No foi possvel enviar o transcript.",variant:"destructive"})}finally{v(!1)}},C=()=>{const b=S();navigator.clipboard.writeText(b),a({title:"Copiado!",description:"Transcript copiado para a rea de transferncia."})};return i.jsxs(Tt,{open:l,onOpenChange:c,children:[i.jsx(zc,{asChild:!0,children:i.jsx(fe,{variant:"outline",size:"icon",title:"Configurar Webhook de Transcript",children:i.jsx(u0,{className:"w-4 h-4"})})}),i.jsxs(Et,{className:"glass-panel border-primary/20 max-w-xl",children:[i.jsxs(kt,{children:[i.jsxs(At,{className:"flex items-center gap-2",children:[i.jsx(Ch,{className:"w-5 h-5 text-primary"}),"Webhook de Transcript"]}),i.jsx(dr,{children:"Configure um webhook do Discord para receber os transcripts das conversas."})]}),f?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx(ot,{className:"w-6 h-6 animate-spin text-primary"})}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"URL do Webhook"}),i.jsx(Oe,{value:u,onChange:b=>d(b.target.value),placeholder:"https://discord.com/api/webhooks/...",className:"glass-input font-mono text-sm"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Cole a URL do webhook do Discord onde os transcripts sero enviados."})]}),e&&n.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ve,{className:"flex items-center gap-2",children:[i.jsx(Cs,{className:"w-4 h-4"}),"Preview do Transcript (",n.length," mensagens)"]}),i.jsx(Vn,{className:"h-32 rounded-lg border border-border p-3 bg-muted/30",children:i.jsxs("pre",{className:"text-xs text-muted-foreground whitespace-pre-wrap",children:[S().substring(0,500),S().length>500&&"..."]})})]})]}),i.jsxs(qt,{className:"flex-wrap gap-2",children:[i.jsxs("div",{className:"flex gap-2 flex-1",children:[i.jsxs(fe,{variant:"outline",onClick:y,disabled:f||!u.trim(),size:"sm",children:[i.jsx(pc,{className:"w-4 h-4 mr-2"}),"Testar"]}),i.jsxs(fe,{variant:"outline",onClick:w,disabled:f||p,size:"sm",children:[p?i.jsx(ot,{className:"w-4 h-4 animate-spin mr-2"}):i.jsx($a,{className:"w-4 h-4 mr-2"}),"Salvar"]})]}),e&&n.length>0&&i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(fe,{variant:"outline",onClick:C,size:"sm",children:[i.jsx(l5,{className:"w-4 h-4 mr-2"}),"Copiar"]}),i.jsxs(fe,{onClick:E,disabled:m||!u.trim(),className:"btn-neon",size:"sm",children:[m?i.jsx(ot,{className:"w-4 h-4 animate-spin mr-2"}):i.jsx(pc,{className:"w-4 h-4 mr-2"}),"Enviar Transcript"]})]})]})]})]})}const lS=()=>{try{const e=new(window.AudioContext||window.webkitAudioContext),t=(n,s)=>{const a=e.createOscillator(),o=e.createGain();a.connect(o),o.connect(e.destination),a.frequency.value=s,a.type="sine",o.gain.setValueAtTime(.3,n),o.gain.exponentialRampToValueAtTime(.01,n+.15),a.start(n),a.stop(n+.15)},r=e.currentTime;t(r,800),t(r+.18,600),t(r+.36,800)}catch(e){console.log("Could not play message sound:",e)}};function cJ(){const{toast:e}=pr(),{user:t,isAdmin:r,role:n}=Pr(),{getRoleColor:s,getRoleName:a}=Zo(),{hasPermission:o}=ly(),[l,c]=g.useState([]),[u,d]=g.useState([]),[f,h]=g.useState([]),[p,x]=g.useState([]),[m,v]=g.useState(!0),[_,w]=g.useState(!1),[y,S]=g.useState(!1),[E,C]=g.useState(!1),[b,j]=g.useState(null),[N,R]=g.useState(""),[k,O]=g.useState(""),[L,K]=g.useState(""),[M,q]=g.useState(!1),[ie,X]=g.useState("all"),[J,Y]=g.useState("all"),[ge,P]=g.useState(""),[G,B]=g.useState(null),[W,ee]=g.useState(!1),[U,he]=g.useState(!1),[ce,A]=g.useState(""),[H,ne]=g.useState([]),[Re,Z]=g.useState(!1),_e=g.useRef(null),ue=g.useRef(!1),te=g.useRef(null),Xe=g.useRef(null),We=r||n==="casting_manager",Je=r||o("archive_tickets");r||o("respond_tickets"),g.useEffect(()=>{if(!t)return;const de=re.channel(`support-global-${t.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"support_messages"},Pe=>{Pe.new.sender_id!==t.id&&lS()}).subscribe();return()=>{re.removeChannel(de)}},[t==null?void 0:t.id]),g.useEffect(()=>{ut()},[]),g.useEffect(()=>{if(b){Lt(b.id),ue.current=!1;const de=re.channel(`ticket-${b.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"support_messages",filter:`ticket_id=eq.${b.id}`},Pe=>{const De=Pe.new,Ye=u.find(rt=>rt.user_id===De.sender_id),st=f.find(rt=>rt.user_id===De.sender_id);x(rt=>[...rt,{...De,sender_name:(Ye==null?void 0:Ye.name)||"Desconhecido",sender_avatar:Ye==null?void 0:Ye.avatar_url,sender_role:st==null?void 0:st.role}]),ue.current&&De.sender_id!==(t==null?void 0:t.id)&&lS()}).subscribe();return()=>{re.removeChannel(de)}}},[b,u,f,t==null?void 0:t.id]),g.useEffect(()=>{var de;(de=_e.current)==null||de.scrollIntoView({behavior:"smooth"})},[p]);const ut=async()=>{try{const[de,Pe,De]=await Promise.all([re.from("support_tickets").select("*").order("created_at",{ascending:!1}),re.from("profiles").select("user_id, name, avatar_url"),re.from("user_roles").select("user_id, role")]);if(Pe.data&&d(Pe.data),De.data){h(De.data);const Ye=De.data.filter(st=>st.role==="admin_master"||st.role==="casting_manager").map(st=>{var ht;const rt=(ht=Pe.data)==null?void 0:ht.find(Nt=>Nt.user_id===st.user_id);return{user_id:st.user_id,name:(rt==null?void 0:rt.name)||"Desconhecido",role:st.role}});ne(Ye)}if(de.data&&Pe.data){const Ye=de.data.map(st=>{var Nt;const rt=Pe.data.find(Le=>Le.user_id===st.user_id),ht=(Nt=De.data)==null?void 0:Nt.find(Le=>Le.user_id===st.user_id);return{...st,user_name:(rt==null?void 0:rt.name)||"Desconhecido",user_avatar:rt==null?void 0:rt.avatar_url,user_role:ht==null?void 0:ht.role}});c(Ye)}}catch(de){console.error("Error fetching tickets:",de),e({title:"Erro",description:"No foi possvel carregar os tickets.",variant:"destructive"})}finally{v(!1)}},Lt=async de=>{try{const[Pe,De,Ye]=await Promise.all([re.from("support_messages").select("*").eq("ticket_id",de).order("created_at",{ascending:!0}),re.from("profiles").select("user_id, name, avatar_url"),re.from("user_roles").select("user_id, role")]);if(Pe.error)throw Pe.error;const st=De.data||u,rt=Ye.data||f;De.data&&d(De.data),Ye.data&&h(Ye.data);const ht=Pe.data.map(Nt=>{const Le=st.find(nt=>nt.user_id===Nt.sender_id),Qe=rt.find(nt=>nt.user_id===Nt.sender_id);return{...Nt,sender_name:(Le==null?void 0:Le.name)||"Usurio",sender_avatar:Le==null?void 0:Le.avatar_url,sender_role:Qe==null?void 0:Qe.role}});x(ht),setTimeout(()=>{ue.current=!0},500)}catch(Pe){console.error("Error fetching messages:",Pe)}},Rt=async()=>{if(!k.trim()||!L.trim()){e({title:"Erro",description:"Preencha todos os campos.",variant:"destructive"});return}w(!0);try{const de={user_id:t==null?void 0:t.id,subject:k,ticket_number:`TKT-${Math.floor(Math.random()*1e6).toString().padStart(6,"0")}`};ce&&(de.assigned_to=ce);const{data:Pe,error:De}=await re.from("support_tickets").insert(de).select().single();if(De)throw De;const{error:Ye}=await re.from("support_messages").insert({ticket_id:Pe.id,sender_id:t==null?void 0:t.id,message:L});if(Ye)throw Ye;e({title:"Sucesso",description:"Ticket criado com sucesso!"}),S(!1),O(""),K(""),A(""),ut()}catch(de){e({title:"Erro",description:de.message,variant:"destructive"})}finally{w(!1)}},Bt=async de=>{if(!t||!b)return null;const Pe=de.name.split(".").pop(),De=`${b.id}/${Date.now()}.${Pe}`,{error:Ye}=await re.storage.from("site-assets").upload(`support/${De}`,de,{cacheControl:"3600",upsert:!1});if(Ye)return console.error("Upload error:",Ye),null;const{data:st}=re.storage.from("site-assets").getPublicUrl(`support/${De}`);return st.publicUrl},Kr=async()=>{if(!(!N.trim()&&!G||!b)){ee(!0);try{let de=null;G&&(de=await Bt(G));const{error:Pe}=await re.from("support_messages").insert({ticket_id:b.id,sender_id:t==null?void 0:t.id,message:N||(de?"[Imagem]":""),image_url:de});if(Pe)throw Pe;R(""),B(null)}catch(de){e({title:"Erro",description:de.message,variant:"destructive"})}finally{ee(!1)}}},Ut=async()=>{if(b)try{const{error:de}=await re.from("support_tickets").update({status:"closed",closed_by:t==null?void 0:t.id,closed_at:new Date().toISOString()}).eq("id",b.id);if(de)throw de;e({title:"Sucesso",description:"Ticket encerrado!"}),C(!1),j(null),ut()}catch(de){e({title:"Erro",description:de.message,variant:"destructive"})}},er=async(de,Pe)=>{if(Pe&&Pe.stopPropagation(),!Je){e({title:"Erro",description:"Voc no tem permisso para arquivar tickets.",variant:"destructive"});return}he(!0);try{const{error:De}=await re.from("support_tickets").update({status:"archived",updated_at:new Date().toISOString()}).eq("id",de);if(De)throw console.error("Archive error details:",De),De;e({title:"Sucesso",description:"Ticket arquivado com sucesso!"}),ut()}catch(De){console.error("Archive error:",De),e({title:"Erro",description:De.message||"No foi possvel arquivar o ticket.",variant:"destructive"})}finally{he(!1)}},tr=async(de,Pe)=>{if(Pe&&Pe.stopPropagation(),!!r){Z(!0);try{await re.from("support_messages").delete().eq("ticket_id",de);const{error:De}=await re.from("support_tickets").delete().eq("id",de);if(De)throw De;e({title:"Sucesso",description:"Ticket excludo com sucesso!"}),ut()}catch(De){e({title:"Erro",description:De.message,variant:"destructive"})}finally{Z(!1)}}},$r=async de=>{var De;const Pe=(De=de.clipboardData)==null?void 0:De.items;if(Pe){for(const Ye of Pe)if(Ye.type.startsWith("image/")){de.preventDefault();const st=Ye.getAsFile();st&&st.size<=10*1024*1024?B(st):st&&e({title:"Erro",description:"Arquivo muito grande (max 10MB)",variant:"destructive"});break}}},mr=de=>new Date(de).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),rr=de=>new Date(de).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),Xr=de=>{const Pe=new Date(de),De=new Date,Ye=new Date(De);return Ye.setDate(Ye.getDate()-1),Pe.toDateString()===De.toDateString()?"Hoje":Pe.toDateString()===Ye.toDateString()?"Ontem":Pe.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})},Yr=de=>de.split(" ").map(Pe=>Pe[0]).join("").toUpperCase().slice(0,2),zt=de=>{const Pe=s(de||"entrevistador"),De=a(de||"entrevistador");return de==="admin_master"?i.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] font-medium",style:{backgroundColor:`${Pe}20`,color:Pe},children:[i.jsx(ur,{className:"w-2.5 h-2.5"}),De]}):de==="casting_manager"?i.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] font-medium",style:{backgroundColor:`${Pe}20`,color:Pe},children:[i.jsx(dd,{className:"w-2.5 h-2.5"}),De]}):i.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] font-medium",style:{backgroundColor:`${Pe}20`,color:Pe},children:[i.jsx(xa,{className:"w-2.5 h-2.5"}),De]})},Jr=l.filter(de=>{var Pe;if(!We&&de.user_id!==(t==null?void 0:t.id))return!1;if(M){if(de.status!=="archived")return!1}else if(de.status==="archived"||ie!=="all"&&de.status!==ie)return!1;if(J!=="all"){const De=new Date(de.created_at),Ye=new Date;if(Ye.setHours(0,0,0,0),J==="today"){const st=new Date(De);if(st.setHours(0,0,0,0),st.getTime()!==Ye.getTime())return!1}else if(J==="week"){const st=new Date(Ye);if(st.setDate(st.getDate()-7),De<st)return!1}else if(J==="month"){const st=new Date(Ye);if(st.setMonth(st.getMonth()-1),De<st)return!1}}if(ge){const De=ge.toLowerCase(),Ye=de.ticket_number.toLowerCase().includes(De),st=de.subject.toLowerCase().includes(De),rt=(Pe=de.user_name)==null?void 0:Pe.toLowerCase().includes(De);if(!Ye&&!st&&!rt)return!1}return!0}),Dr=b?u.find(de=>de.user_id===b.user_id):null;return i.jsxs(On,{children:[i.jsxs("div",{className:"space-y-6 animate-fade-in",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-display font-bold text-foreground flex items-center gap-3",children:[i.jsx(j_,{className:"w-8 h-8 text-primary"}),"Suporte"]}),i.jsx("p",{className:"text-muted-foreground mt-1",children:We?"Gerencie todos os tickets de suporte":"Envie mensagens para a equipe"})]}),i.jsxs("div",{className:"flex gap-2",children:[r&&i.jsxs(i.Fragment,{children:[i.jsx(lJ,{ticketId:b==null?void 0:b.id,ticketNumber:b==null?void 0:b.ticket_number,ticketSubject:b==null?void 0:b.subject,messages:p}),i.jsxs(fe,{variant:M?"default":"outline",onClick:()=>q(!M),className:"gap-2",children:[i.jsx(du,{className:"w-4 h-4"}),M?"Ver Ativos":"Ver Arquivados"]})]}),i.jsxs(fe,{onClick:()=>S(!0),className:"btn-neon gap-2",children:[i.jsx(qr,{className:"w-5 h-5"}),"Novo Ticket"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx("div",{className:"glass-panel rounded-xl p-4 border-l-4 border-l-primary",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:i.jsx(vl,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-foreground",children:l.filter(de=>de.status!=="archived").length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Total de Tickets"})]})]})}),i.jsx("div",{className:"glass-panel rounded-xl p-4 border-l-4 border-l-green-500",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:i.jsx(En,{className:"w-5 h-5 text-green-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-foreground",children:l.filter(de=>de.status==="open").length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Abertos"})]})]})}),i.jsx("div",{className:"glass-panel rounded-xl p-4 border-l-4 border-l-orange-500",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-orange-500/10",children:i.jsx(Er,{className:"w-5 h-5 text-orange-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-foreground",children:l.filter(de=>de.status==="closed").length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Fechados"})]})]})}),i.jsx("div",{className:"glass-panel rounded-xl p-4 border-l-4 border-l-muted-foreground",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-muted",children:i.jsx(du,{className:"w-5 h-5 text-muted-foreground"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-foreground",children:l.filter(de=>de.status==="archived").length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Arquivados"})]})]})})]}),i.jsx("div",{className:"glass-panel rounded-xl p-4",children:i.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[i.jsx("div",{className:"flex-1 min-w-[200px]",children:i.jsxs("div",{className:"relative",children:[i.jsx(Kd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),i.jsx(Oe,{placeholder:"Buscar tickets...",value:ge,onChange:de=>P(de.target.value),className:"glass-input pl-10"})]})}),i.jsxs(Yt,{value:ie,onValueChange:X,children:[i.jsxs(Wt,{className:"w-[160px] glass-input",children:[i.jsx(c5,{className:"w-4 h-4 mr-2"}),i.jsx(Jt,{placeholder:"Status"})]}),i.jsxs(Ht,{children:[i.jsx(He,{value:"all",children:"Todos Status"}),i.jsx(He,{value:"open",children:"Abertos"}),i.jsx(He,{value:"closed",children:"Fechados"})]})]}),i.jsxs(Yt,{value:J,onValueChange:Y,children:[i.jsxs(Wt,{className:"w-[160px] glass-input",children:[i.jsx(fc,{className:"w-4 h-4 mr-2"}),i.jsx(Jt,{placeholder:"Perodo"})]}),i.jsxs(Ht,{children:[i.jsx(He,{value:"all",children:"Todos"}),i.jsx(He,{value:"today",children:"Hoje"}),i.jsx(He,{value:"week",children:"ltima Semana"}),i.jsx(He,{value:"month",children:"ltimo Ms"})]})]})]})}),i.jsx("div",{className:"glass-panel rounded-xl overflow-hidden",children:i.jsxs(Wc,{children:[i.jsx(Hc,{children:i.jsxs(Nr,{className:"border-border hover:bg-transparent bg-accent/30",children:[i.jsx(bt,{className:"font-semibold",children:"Ticket"}),i.jsx(bt,{className:"font-semibold",children:"Assunto"}),We&&i.jsx(bt,{className:"font-semibold",children:"Usurio"}),i.jsx(bt,{className:"font-semibold",children:"Status"}),i.jsx(bt,{className:"font-semibold",children:"Data"}),i.jsx(bt,{className:"text-right font-semibold",children:"Aes"})]})}),i.jsx(Gc,{children:m?i.jsx(Nr,{children:i.jsx(tt,{colSpan:We?6:5,className:"text-center py-12",children:i.jsx(ot,{className:"w-8 h-8 animate-spin mx-auto text-primary"})})}):Jr.length===0?i.jsx(Nr,{children:i.jsx(tt,{colSpan:We?6:5,className:"text-center py-12",children:i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx(vl,{className:"w-10 h-10 text-muted-foreground/50"}),i.jsx("p",{className:"text-muted-foreground",children:M?"Nenhum ticket arquivado":"Nenhum ticket encontrado"})]})})}):Jr.map(de=>i.jsxs(Nr,{className:"border-border hover:bg-accent/30 transition-colors cursor-pointer",onClick:()=>{j(de),C(!0)},children:[i.jsx(tt,{children:i.jsx("span",{className:"font-mono text-primary font-medium",children:de.ticket_number})}),i.jsx(tt,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(vl,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}),i.jsx("span",{className:"truncate max-w-[200px]",children:de.subject})]})}),We&&i.jsx(tt,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(xn,{className:"w-7 h-7 border border-border",children:[i.jsx(yn,{src:de.user_avatar||void 0}),i.jsx(wn,{className:"bg-primary/10 text-primary text-xs",children:Yr(de.user_name||"?")})]}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-sm font-medium",children:de.user_name}),zt(de.user_role)]})]})}),i.jsx(tt,{children:de.status==="open"?i.jsxs(ar,{variant:"default",className:"bg-green-500/20 text-green-500 border-green-500/30",children:[i.jsx(En,{className:"w-3 h-3 mr-1"}),"Aberto"]}):de.status==="archived"?i.jsxs(ar,{variant:"secondary",children:[i.jsx(du,{className:"w-3 h-3 mr-1"}),"Arquivado"]}):i.jsxs(ar,{variant:"outline",children:[i.jsx(Er,{className:"w-3 h-3 mr-1"}),"Encerrado"]})}),i.jsx(tt,{className:"text-sm text-muted-foreground",children:mr(de.created_at)}),i.jsx(tt,{className:"text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",onClick:Pe=>Pe.stopPropagation(),children:[i.jsxs(fe,{variant:"ghost",size:"sm",onClick:Pe=>{Pe.stopPropagation(),j(de),C(!0)},className:"gap-1",children:[i.jsx(vl,{className:"w-4 h-4"}),"Chat"]}),r&&de.status==="closed"&&i.jsx(fe,{variant:"ghost",size:"sm",onClick:Pe=>er(de.id,Pe),title:"Arquivar ticket",className:"text-muted-foreground hover:text-foreground",children:i.jsx(du,{className:"w-4 h-4"})}),r&&i.jsx(fe,{variant:"ghost",size:"sm",onClick:Pe=>tr(de.id,Pe),title:"Excluir ticket",disabled:Re,className:"text-destructive hover:text-destructive",children:i.jsx(an,{className:"w-4 h-4"})})]})})]},de.id))})]})})]}),i.jsx(Tt,{open:y,onOpenChange:S,children:i.jsxs(Et,{className:"glass-panel border-t-4 border-t-primary",children:[i.jsxs(kt,{children:[i.jsxs(At,{className:"flex items-center gap-2",children:[i.jsx(j_,{className:"w-5 h-5 text-primary"}),"Novo Ticket de Suporte"]}),i.jsx(dr,{children:"Descreva seu problema ou dvida."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Assunto"}),i.jsx(Oe,{value:k,onChange:de=>O(de.target.value),placeholder:"Resumo do problema",className:"glass-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Enviar para (opcional)"}),i.jsxs(Yt,{value:ce||"__any__",onValueChange:de=>A(de==="__any__"?"":de),children:[i.jsx(Wt,{className:"glass-input",children:i.jsx(Jt,{placeholder:"Qualquer admin/casting"})}),i.jsxs(Ht,{children:[i.jsx(He,{value:"__any__",children:"Qualquer admin/casting"}),H.map(de=>i.jsx(He,{value:de.user_id,children:i.jsxs("div",{className:"flex items-center gap-2",children:[de.role==="admin_master"?i.jsx(ur,{className:"w-3 h-3 text-red-500"}):i.jsx(dd,{className:"w-3 h-3 text-blue-500"}),de.name]})},de.user_id))]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Mensagem"}),i.jsx(An,{value:L,onChange:de=>K(de.target.value),placeholder:"Descreva em detalhes...",className:"glass-input min-h-[120px]"})]})]}),i.jsxs(qt,{children:[i.jsx(fe,{variant:"ghost",onClick:()=>S(!1),children:"Cancelar"}),i.jsx(fe,{onClick:Rt,disabled:_,className:"btn-neon",children:_?i.jsx(ot,{className:"w-4 h-4 animate-spin"}):"Criar Ticket"})]})]})}),i.jsx(Tt,{open:E,onOpenChange:de=>{C(de),de||j(null)},children:i.jsxs(Et,{className:"glass-panel border-0 max-w-2xl h-[80vh] max-h-[700px] flex flex-col p-0 gap-0 overflow-hidden",children:[i.jsx("div",{className:"flex-shrink-0 p-4 border-b border-border bg-gradient-to-r from-primary/10 to-transparent",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(xn,{className:"h-12 w-12 border-2 border-primary/30",children:[i.jsx(yn,{src:(Dr==null?void 0:Dr.avatar_url)||void 0}),i.jsx(wn,{className:"bg-primary/20 text-primary font-semibold",children:Dr?Yr(Dr.name):"?"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-foreground flex items-center gap-2",children:b==null?void 0:b.subject}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(f5,{className:"w-3 h-3"}),i.jsx("span",{className:"font-mono",children:b==null?void 0:b.ticket_number}),i.jsx("span",{children:""}),i.jsx("span",{children:b==null?void 0:b.user_name}),(b==null?void 0:b.user_role)&&zt(b.user_role)]})]})]}),i.jsx(ar,{variant:(b==null?void 0:b.status)==="open"?"default":(b==null?void 0:b.status)==="archived"?"secondary":"outline",children:(b==null?void 0:b.status)==="open"?"Aberto":(b==null?void 0:b.status)==="archived"?"Arquivado":"Encerrado"})]})}),i.jsx(Vn,{className:"flex-1 p-4",children:i.jsxs("div",{className:"space-y-4",children:[p.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-muted-foreground",children:[i.jsx(vl,{className:"w-10 h-10 mb-2 opacity-50"}),i.jsx("p",{children:"Nenhuma mensagem ainda"})]}):p.map((de,Pe)=>{const De=de.sender_id===(t==null?void 0:t.id),Ye=Pe===0||Xr(p[Pe-1].created_at)!==Xr(de.created_at);return i.jsxs("div",{children:[Ye&&i.jsx("div",{className:"flex items-center justify-center my-4",children:i.jsx("div",{className:"px-3 py-1 rounded-full bg-muted text-muted-foreground text-xs",children:Xr(de.created_at)})}),i.jsxs("div",{className:`flex gap-3 ${De?"flex-row-reverse":"flex-row"}`,children:[i.jsxs(xn,{className:"h-8 w-8 flex-shrink-0",children:[i.jsx(yn,{src:de.sender_avatar||void 0}),i.jsx(wn,{className:`text-xs ${De?"bg-primary/20 text-primary":"bg-accent"}`,children:Yr(de.sender_name||"?")})]}),i.jsxs("div",{className:`flex flex-col max-w-[75%] ${De?"items-end":"items-start"}`,children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:De?"Voc":de.sender_name}),!De&&de.sender_role&&zt(de.sender_role),i.jsx("span",{className:"text-xs text-muted-foreground/60",children:rr(de.created_at)})]}),i.jsxs("div",{className:`px-4 py-2.5 rounded-2xl ${De?"bg-primary text-primary-foreground rounded-tr-sm":"bg-accent border border-border rounded-tl-sm"}`,children:[de.image_url&&i.jsx("img",{src:de.image_url,alt:"Uploaded",className:"max-w-full rounded-lg mb-2 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(de.image_url,"_blank")}),de.message&&de.message!=="[Imagem]"&&i.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:de.message})]})]})]})]},de.id)}),i.jsx("div",{ref:_e})]})}),(b==null?void 0:b.status)==="open"?i.jsxs("div",{className:"flex-shrink-0 p-4 border-t border-border bg-background/50",children:[G&&i.jsxs("div",{className:"mb-2 p-2 rounded-lg bg-accent/50 flex items-center gap-2",children:[i.jsx(Lu,{className:"w-4 h-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm text-muted-foreground truncate flex-1",children:G.name}),i.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>B(null),className:"h-6 w-6 p-0",children:i.jsx(Rs,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{ref:te,type:"file",accept:"image/*",onChange:de=>{var De;const Pe=(De=de.target.files)==null?void 0:De[0];Pe&&Pe.size<=10*1024*1024?B(Pe):Pe&&e({title:"Erro",description:"Arquivo muito grande (max 10MB)",variant:"destructive"})},className:"hidden"}),i.jsx(fe,{variant:"outline",size:"icon",onClick:()=>{var de;return(de=te.current)==null?void 0:de.click()},className:"flex-shrink-0",children:i.jsx(kv,{className:"w-4 h-4"})}),i.jsx(Oe,{ref:Xe,value:N,onChange:de=>R(de.target.value),placeholder:"Digite sua mensagem ou cole uma imagem (Ctrl+V)...",className:"glass-input",onPaste:$r,onKeyDown:de=>{de.key==="Enter"&&!de.shiftKey&&(de.preventDefault(),Kr())}}),i.jsx(fe,{onClick:Kr,className:"btn-neon px-4",disabled:!N.trim()&&!G||W,children:W?i.jsx(ot,{className:"w-4 h-4 animate-spin"}):i.jsx(pc,{className:"w-4 h-4"})}),We&&i.jsx(fe,{variant:"destructive",size:"icon",onClick:Ut,title:"Encerrar Atendimento",className:"flex-shrink-0",children:i.jsx(Rs,{className:"w-4 h-4"})})]})]}):i.jsx("div",{className:"flex-shrink-0 p-4 border-t border-border bg-muted/30",children:i.jsx("div",{className:"flex items-center justify-center gap-2 text-muted-foreground text-sm",children:(b==null?void 0:b.status)==="closed"?i.jsxs(i.Fragment,{children:[i.jsx(Er,{className:"w-4 h-4"}),"Este ticket foi encerrado"]}):i.jsxs(i.Fragment,{children:[i.jsx(du,{className:"w-4 h-4"}),"Este ticket foi arquivado"]})})})]})})]})}const cS={low:{label:"Baixa",color:"text-green-500 bg-green-500/10",icon:i.jsx(R1,{className:"w-3 h-3"})},medium:{label:"Mdia",color:"text-yellow-500 bg-yellow-500/10",icon:i.jsx(En,{className:"w-3 h-3"})},high:{label:"Alta",color:"text-orange-500 bg-orange-500/10",icon:i.jsx(ud,{className:"w-3 h-3"})},urgent:{label:"Urgente",color:"text-red-500 bg-red-500/10",icon:i.jsx(Rs,{className:"w-3 h-3"})}},uS={pending:{label:"Pendente",color:"text-yellow-500 bg-yellow-500/10",icon:i.jsx(En,{className:"w-3 h-3"})},in_progress:{label:"Em Andamento",color:"text-blue-500 bg-blue-500/10",icon:i.jsx(R1,{className:"w-3 h-3"})},completed:{label:"Concludo",color:"text-green-500 bg-green-500/10",icon:i.jsx(Er,{className:"w-3 h-3"})},cancelled:{label:"Cancelado",color:"text-muted-foreground bg-muted",icon:i.jsx(Rs,{className:"w-3 h-3"})}};function uJ(){var Le,Qe,nt,$t,ir,jt;const{toast:e}=pr(),{user:t,isAdmin:r,role:n}=Pr(),{logAction:s}=Uc(),{hasPermission:a}=ly(),{roleConfigs:o}=Zo(),[l,c]=g.useState([]),[u,d]=g.useState([]),[f,h]=g.useState([]),[p,x]=g.useState([]),[m,v]=g.useState(!0),[_,w]=g.useState(!1),[y,S]=g.useState(!1),[E,C]=g.useState(!1),[b,j]=g.useState(!1),[N,R]=g.useState(!1),[k,O]=g.useState(!1),[L,K]=g.useState(null),[M,q]=g.useState(""),[ie,X]=g.useState("all"),[J,Y]=g.useState("all"),[ge,P]=g.useState("all"),[G,B]=g.useState(""),[W,ee]=g.useState(""),[U,he]=g.useState(""),[ce,A]=g.useState("medium"),[H,ne]=g.useState("pending"),[Re,Z]=g.useState(""),[_e,ue]=g.useState(""),[te,Xe]=g.useState(null),[We,Je]=g.useState(null),[ut,Lt]=g.useState([]),[Rt,Bt]=g.useState([]),[Kr,Ut]=g.useState(""),[er,tr]=g.useState("#6366f1"),$r=g.useRef(null),mr=r||a("view_pendencias");g.useEffect(()=>{rr()},[]);const rr=async()=>{try{const[Q,Te,et,br]=await Promise.all([re.from("pendencias").select("*").order("created_at",{ascending:!1}),re.from("pendencias_categories").select("*").order("name"),re.from("profiles").select("user_id, name, avatar_url"),re.from("user_roles").select("user_id, role")]);Q.data&&c(Q.data),Te.data&&d(Te.data),et.data&&h(et.data),br.data&&x(br.data)}catch(Q){console.error("Error fetching data:",Q),e({title:"Erro",description:"Falha ao carregar dados.",variant:"destructive"})}finally{v(!1)}},Xr=Q=>{var et;const Te=(et=Q.target.files)==null?void 0:et[0];if(Te){if(Te.size>10*1024*1024){e({title:"Erro",description:"Imagem deve ter no mximo 10MB.",variant:"destructive"});return}Xe(Te),Je(URL.createObjectURL(Te))}},Yr=async Q=>{const Te=Q.name.split(".").pop(),et=`pendencias/${Date.now()}.${Te}`,{error:br}=await re.storage.from("site-assets").upload(et,Q,{cacheControl:"3600",upsert:!1});if(br)return console.error("Upload error:",br),null;const{data:Qn}=re.storage.from("site-assets").getPublicUrl(et);return Qn.publicUrl},zt=()=>{B(""),ee(""),he(""),A("medium"),ne("pending"),Z(""),ue(""),Xe(null),Je(null),Lt([]),Bt([])},Jr=async()=>{if(!G.trim()){e({title:"Erro",description:"Ttulo  obrigatrio.",variant:"destructive"});return}w(!0);try{let Q=null;te&&(Q=await Yr(te));const{error:Te}=await re.from("pendencias").insert({title:G,description:W||null,category_id:U||null,priority:ce,status:H,assigned_to:Re||null,due_date:_e||null,image_url:Q,created_by:t==null?void 0:t.id,visible_to_roles:ut.length>0?ut:[],visible_to_users:Rt.length>0?Rt:[]});if(Te)throw Te;await s("create_pendencia","pendencias",void 0,{title:G}),e({title:"Sucesso",description:"Pendncia criada!"}),S(!1),zt(),rr()}catch(Q){e({title:"Erro",description:Q.message,variant:"destructive"})}finally{w(!1)}},Dr=async()=>{if(!(!L||!G.trim())){w(!0);try{let Q=L.image_url;te&&(Q=await Yr(te));const{error:Te}=await re.from("pendencias").update({title:G,description:W||null,category_id:U||null,priority:ce,status:H,assigned_to:Re||null,due_date:_e||null,image_url:Q,visible_to_roles:ut.length>0?ut:[],visible_to_users:Rt.length>0?Rt:[]}).eq("id",L.id);if(Te)throw Te;await s("update_pendencia","pendencias",L.id,{title:G,status:H}),e({title:"Sucesso",description:"Pendncia atualizada!"}),C(!1),zt(),rr()}catch(Q){e({title:"Erro",description:Q.message,variant:"destructive"})}finally{w(!1)}}},de=async()=>{if(L){w(!0);try{const{error:Q}=await re.from("pendencias").delete().eq("id",L.id);if(Q)throw Q;await s("delete_pendencia","pendencias",L.id,{title:L.title}),e({title:"Sucesso",description:"Pendncia excluda!"}),O(!1),K(null),rr()}catch(Q){e({title:"Erro",description:Q.message,variant:"destructive"})}finally{w(!1)}}},Pe=async()=>{if(!Kr.trim()){e({title:"Erro",description:"Nome da categoria  obrigatrio.",variant:"destructive"});return}w(!0);try{const{error:Q}=await re.from("pendencias_categories").insert({name:Kr,color:er,created_by:t==null?void 0:t.id});if(Q)throw Q;e({title:"Sucesso",description:"Categoria criada!"}),Ut(""),tr("#6366f1"),rr()}catch(Q){e({title:"Erro",description:Q.message,variant:"destructive"})}finally{w(!1)}},De=Q=>{K(Q),B(Q.title),ee(Q.description||""),he(Q.category_id||""),A(Q.priority),ne(Q.status),Z(Q.assigned_to||""),ue(Q.due_date?Q.due_date.split("T")[0]:""),Je(Q.image_url),Lt(Q.visible_to_roles||[]),Bt(Q.visible_to_users||[]),C(!0)},Ye=Q=>f.find(Te=>Te.user_id===Q),st=Q=>u.find(Te=>Te.id===Q),rt=Q=>Q.split(" ").map(Te=>Te[0]).join("").toUpperCase().slice(0,2),ht=l.filter(Q=>{var Te;if(ie!=="all"&&Q.status!==ie||J!=="all"&&Q.priority!==J||ge!=="all"&&Q.category_id!==ge)return!1;if(M){const et=M.toLowerCase();if(!Q.title.toLowerCase().includes(et)&&!((Te=Q.description)!=null&&Te.toLowerCase().includes(et)))return!1}return!0}),Nt={total:l.length,pending:l.filter(Q=>Q.status==="pending").length,inProgress:l.filter(Q=>Q.status==="in_progress").length,completed:l.filter(Q=>Q.status==="completed").length};return i.jsxs(On,{children:[i.jsxs("div",{className:"space-y-6 animate-fade-in",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-display font-bold text-foreground flex items-center gap-3",children:[i.jsx(Po,{className:"w-8 h-8 text-primary"}),"Pendncias"]}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Gerencie tarefas e pendncias do sistema"})]}),mr&&i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(fe,{variant:"outline",onClick:()=>R(!0),className:"gap-2",children:[i.jsx(fj,{className:"w-4 h-4"}),"Categorias"]}),i.jsxs(fe,{onClick:()=>S(!0),className:"btn-neon gap-2",children:[i.jsx(qr,{className:"w-5 h-5"}),"Nova Pendncia"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(Ci,{className:"glass-panel border-l-4 border-l-primary",children:i.jsx(Ti,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:i.jsx(Po,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-foreground",children:Nt.total}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Total"})]})]})})}),i.jsx(Ci,{className:"glass-panel border-l-4 border-l-yellow-500",children:i.jsx(Ti,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-yellow-500/10",children:i.jsx(En,{className:"w-5 h-5 text-yellow-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-foreground",children:Nt.pending}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Pendentes"})]})]})})}),i.jsx(Ci,{className:"glass-panel border-l-4 border-l-blue-500",children:i.jsx(Ti,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:i.jsx(R1,{className:"w-5 h-5 text-blue-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-foreground",children:Nt.inProgress}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Em Andamento"})]})]})})}),i.jsx(Ci,{className:"glass-panel border-l-4 border-l-green-500",children:i.jsx(Ti,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:i.jsx(Er,{className:"w-5 h-5 text-green-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-foreground",children:Nt.completed}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Concludos"})]})]})})})]}),i.jsx("div",{className:"glass-panel rounded-xl p-4",children:i.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[i.jsx("div",{className:"flex-1 min-w-[200px]",children:i.jsxs("div",{className:"relative",children:[i.jsx(Kd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),i.jsx(Oe,{placeholder:"Buscar pendncias...",value:M,onChange:Q=>q(Q.target.value),className:"glass-input pl-10"})]})}),i.jsxs(Yt,{value:ie,onValueChange:X,children:[i.jsx(Wt,{className:"w-[160px] glass-input",children:i.jsx(Jt,{placeholder:"Status"})}),i.jsxs(Ht,{children:[i.jsx(He,{value:"all",children:"Todos Status"}),i.jsx(He,{value:"pending",children:"Pendente"}),i.jsx(He,{value:"in_progress",children:"Em Andamento"}),i.jsx(He,{value:"completed",children:"Concludo"}),i.jsx(He,{value:"cancelled",children:"Cancelado"})]})]}),i.jsxs(Yt,{value:J,onValueChange:Y,children:[i.jsx(Wt,{className:"w-[160px] glass-input",children:i.jsx(Jt,{placeholder:"Prioridade"})}),i.jsxs(Ht,{children:[i.jsx(He,{value:"all",children:"Todas Prioridades"}),i.jsx(He,{value:"low",children:"Baixa"}),i.jsx(He,{value:"medium",children:"Mdia"}),i.jsx(He,{value:"high",children:"Alta"}),i.jsx(He,{value:"urgent",children:"Urgente"})]})]}),i.jsxs(Yt,{value:ge,onValueChange:P,children:[i.jsx(Wt,{className:"w-[160px] glass-input",children:i.jsx(Jt,{placeholder:"Categoria"})}),i.jsxs(Ht,{children:[i.jsx(He,{value:"all",children:"Todas Categorias"}),u.map(Q=>i.jsx(He,{value:Q.id,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:Q.color}}),Q.name]})},Q.id))]})]})]})}),i.jsx("div",{className:"glass-panel rounded-xl overflow-hidden",children:i.jsxs(Wc,{children:[i.jsx(Hc,{children:i.jsxs(Nr,{className:"border-border hover:bg-transparent bg-accent/30",children:[i.jsx(bt,{className:"font-semibold",children:"Ttulo"}),i.jsx(bt,{className:"font-semibold",children:"Categoria"}),i.jsx(bt,{className:"font-semibold",children:"Prioridade"}),i.jsx(bt,{className:"font-semibold",children:"Status"}),i.jsx(bt,{className:"font-semibold",children:"Criado por"}),i.jsx(bt,{className:"font-semibold",children:"Data"}),i.jsx(bt,{className:"text-right font-semibold",children:"Aes"})]})}),i.jsx(Gc,{children:m?i.jsx(Nr,{children:i.jsx(tt,{colSpan:7,className:"text-center py-12",children:i.jsx(ot,{className:"w-8 h-8 animate-spin mx-auto text-primary"})})}):ht.length===0?i.jsx(Nr,{children:i.jsx(tt,{colSpan:7,className:"text-center py-12",children:i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx(Po,{className:"w-10 h-10 text-muted-foreground/50"}),i.jsx("p",{className:"text-muted-foreground",children:"Nenhuma pendncia encontrada"})]})})}):ht.map(Q=>{const Te=Ye(Q.created_by),et=st(Q.category_id),br=cS[Q.priority],Qn=uS[Q.status];return i.jsxs(Nr,{className:"border-border hover:bg-accent/30 transition-colors",children:[i.jsx(tt,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[Q.image_url&&i.jsx("div",{className:"w-8 h-8 rounded bg-muted overflow-hidden flex-shrink-0",children:i.jsx("img",{src:Q.image_url,alt:"",className:"w-full h-full object-cover"})}),i.jsx("span",{className:"font-medium truncate max-w-[200px]",children:Q.title})]})}),i.jsx(tt,{children:et?i.jsxs(ar,{variant:"outline",className:"gap-1",children:[i.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:et.color}}),et.name]}):i.jsx("span",{className:"text-muted-foreground text-sm",children:"-"})}),i.jsx(tt,{children:i.jsxs(ar,{className:`gap-1 ${br.color}`,children:[br.icon,br.label]})}),i.jsx(tt,{children:i.jsxs(ar,{className:`gap-1 ${Qn.color}`,children:[Qn.icon,Qn.label]})}),i.jsx(tt,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(xn,{className:"w-6 h-6",children:[i.jsx(yn,{src:(Te==null?void 0:Te.avatar_url)||void 0}),i.jsx(wn,{className:"text-xs",children:rt((Te==null?void 0:Te.name)||"U")})]}),i.jsx("span",{className:"text-sm",children:(Te==null?void 0:Te.name)||"Desconhecido"})]})}),i.jsx(tt,{children:i.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(Q.created_at).toLocaleDateString("pt-BR")})}),i.jsx(tt,{className:"text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-1",children:[i.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>{K(Q),j(!0)},children:i.jsx($i,{className:"w-4 h-4"})}),mr&&i.jsxs(i.Fragment,{children:[i.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>De(Q),children:i.jsx(Ka,{className:"w-4 h-4"})}),i.jsx(fe,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>{K(Q),O(!0)},children:i.jsx(an,{className:"w-4 h-4"})})]})]})})]},Q.id)})})]})})]}),i.jsx(Tt,{open:y,onOpenChange:S,children:i.jsxs(Et,{className:"max-w-xl glass-panel max-h-[85vh] overflow-y-auto",children:[i.jsx(kt,{children:i.jsxs(At,{className:"flex items-center gap-2",children:[i.jsx(qr,{className:"w-5 h-5 text-primary"}),"Nova Pendncia"]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("div",{className:"col-span-2",children:[i.jsx(ve,{className:"text-xs",children:"Ttulo *"}),i.jsx(Oe,{value:G,onChange:Q=>B(Q.target.value),placeholder:"Ttulo da pendncia",className:"glass-input h-9"})]}),i.jsxs("div",{children:[i.jsx(ve,{className:"text-xs",children:"Prioridade"}),i.jsxs(Yt,{value:ce,onValueChange:A,children:[i.jsx(Wt,{className:"glass-input h-9",children:i.jsx(Jt,{})}),i.jsxs(Ht,{children:[i.jsx(He,{value:"low",children:"Baixa"}),i.jsx(He,{value:"medium",children:"Mdia"}),i.jsx(He,{value:"high",children:"Alta"}),i.jsx(He,{value:"urgent",children:"Urgente"})]})]})]})]}),i.jsxs("div",{children:[i.jsx(ve,{className:"text-xs",children:"Descrio"}),i.jsx(An,{value:W,onChange:Q=>ee(Q.target.value),placeholder:"Descrio detalhada...",className:"glass-input min-h-[60px] resize-none"})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("div",{children:[i.jsx(ve,{className:"text-xs",children:"Categoria"}),i.jsxs(Yt,{value:U,onValueChange:he,children:[i.jsx(Wt,{className:"glass-input h-9",children:i.jsx(Jt,{placeholder:"Selecione"})}),i.jsx(Ht,{children:u.map(Q=>i.jsx(He,{value:Q.id,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:Q.color}}),Q.name]})},Q.id))})]})]}),i.jsxs("div",{children:[i.jsx(ve,{className:"text-xs",children:"Responsvel"}),i.jsxs(Yt,{value:Re,onValueChange:Z,children:[i.jsx(Wt,{className:"glass-input h-9",children:i.jsx(Jt,{placeholder:"Selecione"})}),i.jsx(Ht,{children:f.map(Q=>i.jsx(He,{value:Q.user_id,children:Q.name},Q.user_id))})]})]}),i.jsxs("div",{children:[i.jsx(ve,{className:"text-xs",children:"Data Limite"}),i.jsx(Oe,{type:"date",value:_e,onChange:Q=>ue(Q.target.value),className:"glass-input h-9"})]})]}),i.jsxs("div",{children:[i.jsx(ve,{className:"text-xs",children:"Imagem/Anexo"}),We?i.jsxs("div",{className:"relative mt-1",children:[i.jsx("img",{src:We,alt:"Preview",className:"w-full h-24 object-cover rounded-lg border border-border"}),i.jsx(fe,{variant:"destructive",size:"icon",className:"absolute top-1 right-1 h-6 w-6",onClick:()=>{Xe(null),Je(null)},children:i.jsx(an,{className:"w-3 h-3"})})]}):i.jsx("div",{className:"flex items-center justify-center w-full h-16 border border-dashed border-border rounded-lg hover:border-primary/50 transition-colors cursor-pointer mt-1",onClick:()=>{var Q;return(Q=$r.current)==null?void 0:Q.click()},children:i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-sm",children:[i.jsx(kv,{className:"w-4 h-4"}),i.jsx("span",{children:"Clique para enviar"})]})}),i.jsx("input",{ref:$r,type:"file",accept:"image/*",onChange:Xr,className:"hidden"})]}),i.jsxs("div",{className:"p-3 rounded-lg border border-border bg-accent/20",children:[i.jsxs(ve,{className:"flex items-center gap-2 text-xs mb-2",children:[i.jsx(ur,{className:"w-3 h-3 text-primary"}),"Controle de Visibilidade"]}),i.jsx("p",{className:"text-[10px] text-muted-foreground mb-2",children:"Deixe vazio para permitir visualizao de todos com acesso  pgina."}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(ve,{className:"text-[10px] text-muted-foreground mb-1 block",children:"Por Cargo"}),i.jsx(Vn,{className:"h-24 rounded border border-border p-2 bg-background/50",children:i.jsx("div",{className:"space-y-1",children:["admin_master","clevel","director","coordinator","staff_manager","staff","support","casting"].map(Q=>{const Te=o[Q];return i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(ki,{id:`role-${Q}`,checked:ut.includes(Q),onCheckedChange:et=>{Lt(et?[...ut,Q]:ut.filter(br=>br!==Q))},className:"h-3 w-3"}),i.jsxs("label",{htmlFor:`role-${Q}`,className:"flex items-center gap-1 text-[10px] cursor-pointer",children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:(Te==null?void 0:Te.color)||"#888"}}),(Te==null?void 0:Te.name)||Q]})]},Q)})})})]}),i.jsxs("div",{children:[i.jsx(ve,{className:"text-[10px] text-muted-foreground mb-1 block",children:"Por Usurio"}),i.jsx(Vn,{className:"h-24 rounded border border-border p-2 bg-background/50",children:i.jsx("div",{className:"space-y-1",children:f.map(Q=>i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(ki,{id:`user-${Q.user_id}`,checked:Rt.includes(Q.user_id),onCheckedChange:Te=>{Bt(Te?[...Rt,Q.user_id]:Rt.filter(et=>et!==Q.user_id))},className:"h-3 w-3"}),i.jsx("label",{htmlFor:`user-${Q.user_id}`,className:"text-[10px] cursor-pointer truncate",children:Q.name})]},Q.user_id))})})]})]})]})]}),i.jsxs(qt,{className:"mt-4",children:[i.jsx(fe,{variant:"outline",size:"sm",onClick:()=>{S(!1),zt()},children:"Cancelar"}),i.jsxs(fe,{size:"sm",onClick:Jr,disabled:_,className:"btn-neon",children:[_&&i.jsx(ot,{className:"w-3 h-3 mr-1 animate-spin"}),"Criar"]})]})]})}),i.jsx(Tt,{open:E,onOpenChange:C,children:i.jsxs(Et,{className:"max-w-lg glass-panel",children:[i.jsx(kt,{children:i.jsx(At,{children:"Editar Pendncia"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ve,{children:"Ttulo *"}),i.jsx(Oe,{value:G,onChange:Q=>B(Q.target.value),className:"glass-input"})]}),i.jsxs("div",{children:[i.jsx(ve,{children:"Descrio"}),i.jsx(An,{value:W,onChange:Q=>ee(Q.target.value),className:"glass-input min-h-[100px]"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ve,{children:"Categoria"}),i.jsxs(Yt,{value:U,onValueChange:he,children:[i.jsx(Wt,{className:"glass-input",children:i.jsx(Jt,{placeholder:"Selecione..."})}),i.jsx(Ht,{children:u.map(Q=>i.jsx(He,{value:Q.id,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:Q.color}}),Q.name]})},Q.id))})]})]}),i.jsxs("div",{children:[i.jsx(ve,{children:"Prioridade"}),i.jsxs(Yt,{value:ce,onValueChange:A,children:[i.jsx(Wt,{className:"glass-input",children:i.jsx(Jt,{})}),i.jsxs(Ht,{children:[i.jsx(He,{value:"low",children:"Baixa"}),i.jsx(He,{value:"medium",children:"Mdia"}),i.jsx(He,{value:"high",children:"Alta"}),i.jsx(He,{value:"urgent",children:"Urgente"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ve,{children:"Status"}),i.jsxs(Yt,{value:H,onValueChange:ne,children:[i.jsx(Wt,{className:"glass-input",children:i.jsx(Jt,{})}),i.jsxs(Ht,{children:[i.jsx(He,{value:"pending",children:"Pendente"}),i.jsx(He,{value:"in_progress",children:"Em Andamento"}),i.jsx(He,{value:"completed",children:"Concludo"}),i.jsx(He,{value:"cancelled",children:"Cancelado"})]})]})]}),i.jsxs("div",{children:[i.jsx(ve,{children:"Data Limite"}),i.jsx(Oe,{type:"date",value:_e,onChange:Q=>ue(Q.target.value),className:"glass-input"})]})]}),i.jsxs("div",{children:[i.jsx(ve,{children:"Imagem/Anexo"}),i.jsxs("div",{className:"mt-2",children:[We?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:We,alt:"Preview",className:"w-full h-40 object-cover rounded-lg border border-border"}),i.jsx(fe,{variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:()=>{Xe(null),Je(null)},children:i.jsx(an,{className:"w-4 h-4"})})]}):i.jsx("div",{className:"flex items-center justify-center w-full h-32 border-2 border-dashed border-border rounded-lg hover:border-primary/50 transition-colors cursor-pointer",onClick:()=>{var Q;return(Q=$r.current)==null?void 0:Q.click()},children:i.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[i.jsx(kv,{className:"w-8 h-8"}),i.jsx("span",{className:"text-sm",children:"Clique para enviar imagem"})]})}),i.jsx("input",{ref:$r,type:"file",accept:"image/*",onChange:Xr,className:"hidden"})]})]}),i.jsxs("div",{className:"border-t border-border pt-4 mt-4",children:[i.jsxs(ve,{className:"flex items-center gap-2 mb-3",children:[i.jsx(ur,{className:"w-4 h-4 text-primary"}),"Controle de Visibilidade"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{className:"text-xs text-muted-foreground",children:"Por Cargo"}),i.jsx(Vn,{className:"h-28 rounded-lg border border-border p-2",children:i.jsx("div",{className:"space-y-1",children:["admin_master","clevel","director","coordinator","staff_manager","staff","support","casting"].map(Q=>{const Te=o[Q];return i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ki,{id:`edit-role-${Q}`,checked:ut.includes(Q),onCheckedChange:et=>{Lt(et?[...ut,Q]:ut.filter(br=>br!==Q))}}),i.jsxs("label",{htmlFor:`edit-role-${Q}`,className:"flex items-center gap-1 text-xs cursor-pointer",children:[i.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:(Te==null?void 0:Te.color)||"#888"}}),(Te==null?void 0:Te.name)||Q]})]},Q)})})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{className:"text-xs text-muted-foreground",children:"Por Usurio"}),i.jsx(Vn,{className:"h-28 rounded-lg border border-border p-2",children:i.jsx("div",{className:"space-y-1",children:f.map(Q=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ki,{id:`edit-user-${Q.user_id}`,checked:Rt.includes(Q.user_id),onCheckedChange:Te=>{Bt(Te?[...Rt,Q.user_id]:Rt.filter(et=>et!==Q.user_id))}}),i.jsx("label",{htmlFor:`edit-user-${Q.user_id}`,className:"text-xs cursor-pointer truncate",children:Q.name})]},Q.user_id))})})]})]})]})]}),i.jsxs(qt,{children:[i.jsx(fe,{variant:"outline",onClick:()=>{C(!1),zt()},children:"Cancelar"}),i.jsxs(fe,{onClick:Dr,disabled:_,className:"btn-neon",children:[_&&i.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}),"Salvar"]})]})]})}),i.jsx(Tt,{open:b,onOpenChange:j,children:i.jsxs(Et,{className:"max-w-2xl glass-panel",children:[i.jsx(kt,{children:i.jsx(At,{className:"text-xl font-bold",children:L==null?void 0:L.title})}),L&&i.jsxs("div",{className:"space-y-4",children:[L.image_url&&i.jsx("div",{className:"relative w-full rounded-lg overflow-hidden border border-border bg-muted/30",children:i.jsx("img",{src:L.image_url,alt:"Anexo",className:"w-full max-h-64 object-contain"})}),i.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{const Q=st(L.category_id),Te=cS[L.priority],et=uS[L.status];return i.jsxs(i.Fragment,{children:[Q&&i.jsxs(ar,{variant:"outline",className:"gap-1.5 px-3 py-1",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:Q.color}}),Q.name]}),i.jsxs(ar,{className:`gap-1.5 px-3 py-1 ${Te.color}`,children:[Te.icon,Te.label]}),i.jsxs(ar,{className:`gap-1.5 px-3 py-1 ${et.color}`,children:[et.icon,et.label]})]})})()}),L.description&&i.jsxs("div",{className:"p-4 rounded-lg bg-accent/30 border border-border",children:[i.jsx(ve,{className:"text-muted-foreground text-xs uppercase tracking-wider mb-2 block",children:"Descrio"}),i.jsx("p",{className:"text-foreground whitespace-pre-wrap leading-relaxed",children:L.description})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"p-3 rounded-lg bg-accent/20 border border-border",children:[i.jsx(ve,{className:"text-muted-foreground text-[10px] uppercase tracking-wider block mb-1",children:"Criado por"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(xn,{className:"w-5 h-5",children:[i.jsx(yn,{src:((Le=Ye(L.created_by))==null?void 0:Le.avatar_url)||void 0}),i.jsx(wn,{className:"text-[8px]",children:rt(((Qe=Ye(L.created_by))==null?void 0:Qe.name)||"U")})]}),i.jsx("span",{className:"text-sm font-medium",children:((nt=Ye(L.created_by))==null?void 0:nt.name)||"Desconhecido"})]})]}),L.assigned_to&&i.jsxs("div",{className:"p-3 rounded-lg bg-accent/20 border border-border",children:[i.jsx(ve,{className:"text-muted-foreground text-[10px] uppercase tracking-wider block mb-1",children:"Responsvel"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(xn,{className:"w-5 h-5",children:[i.jsx(yn,{src:(($t=Ye(L.assigned_to))==null?void 0:$t.avatar_url)||void 0}),i.jsx(wn,{className:"text-[8px]",children:rt(((ir=Ye(L.assigned_to))==null?void 0:ir.name)||"U")})]}),i.jsx("span",{className:"text-sm font-medium",children:((jt=Ye(L.assigned_to))==null?void 0:jt.name)||"Desconhecido"})]})]}),i.jsxs("div",{className:"p-3 rounded-lg bg-accent/20 border border-border",children:[i.jsx(ve,{className:"text-muted-foreground text-[10px] uppercase tracking-wider block mb-1",children:"Criado em"}),i.jsx("span",{className:"text-sm font-medium",children:new Date(L.created_at).toLocaleDateString("pt-BR")})]}),L.due_date&&i.jsxs("div",{className:"p-3 rounded-lg bg-accent/20 border border-border",children:[i.jsx(ve,{className:"text-muted-foreground text-[10px] uppercase tracking-wider block mb-1",children:"Data Limite"}),i.jsx("span",{className:"text-sm font-medium",children:new Date(L.due_date).toLocaleDateString("pt-BR")})]})]})]})]})}),i.jsx(Tt,{open:N,onOpenChange:R,children:i.jsxs(Et,{className:"max-w-md glass-panel",children:[i.jsx(kt,{children:i.jsx(At,{children:"Gerenciar Categorias"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Oe,{value:Kr,onChange:Q=>Ut(Q.target.value),placeholder:"Nome da categoria",className:"glass-input flex-1"}),i.jsx(Oe,{type:"color",value:er,onChange:Q=>tr(Q.target.value),className:"w-14 h-10 p-1 rounded cursor-pointer"}),i.jsx(fe,{onClick:Pe,disabled:_,size:"icon",className:"btn-neon",children:i.jsx(qr,{className:"w-4 h-4"})})]}),i.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:u.length===0?i.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Nenhuma categoria criada"}):u.map(Q=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-accent/30 border border-border",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:Q.color}}),i.jsx("span",{children:Q.name})]}),i.jsx(fe,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:async()=>{await re.from("pendencias_categories").delete().eq("id",Q.id),rr()},children:i.jsx(an,{className:"w-4 h-4"})})]},Q.id))})]})]})}),i.jsx(Tt,{open:k,onOpenChange:O,children:i.jsxs(Et,{className:"max-w-sm glass-panel",children:[i.jsxs(kt,{children:[i.jsx(At,{children:"Confirmar Excluso"}),i.jsx(dr,{children:"Deseja realmente excluir esta pendncia? Esta ao no pode ser desfeita."})]}),i.jsxs(qt,{children:[i.jsx(fe,{variant:"outline",onClick:()=>O(!1),children:"Cancelar"}),i.jsxs(fe,{variant:"destructive",onClick:de,disabled:_,children:[_&&i.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}),"Excluir"]})]})]})})]})}const dJ=()=>{const e=Qd();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),i.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),i.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},fJ=new GL,hJ=()=>i.jsx(KL,{client:fJ,children:i.jsx(iB,{children:i.jsx(cB,{children:i.jsx(uB,{children:i.jsx(SL,{children:i.jsxs(aB,{children:[i.jsx(aD,{}),i.jsx(LD,{}),i.jsx(B6,{children:i.jsxs(F6,{children:[i.jsx(Ln,{path:"/login",element:i.jsx(zB,{})}),i.jsx(Ln,{path:"/dashboard",element:i.jsx(ca,{children:i.jsx(n7,{})})}),i.jsx(Ln,{path:"/interview",element:i.jsx(ca,{requiredPermission:"conduct_interviews",children:i.jsx(D7,{})})}),i.jsx(Ln,{path:"/history",element:i.jsx(ca,{requiredPermission:"view_all_history",children:i.jsx(Mz,{})})}),i.jsx(Ln,{path:"/support",element:i.jsx(ca,{requiredPermission:"create_support_tickets",children:i.jsx(cJ,{})})}),i.jsx(Ln,{path:"/live",element:i.jsx(ca,{requiredPermission:"live_monitoring",children:i.jsx(U7,{})})}),i.jsx(Ln,{path:"/users",element:i.jsx(ca,{requiredPermission:"manage_users",children:i.jsx(J7,{})})}),i.jsx(Ln,{path:"/questions",element:i.jsx(ca,{requiredPermission:"manage_questions",children:i.jsx(Fz,{})})}),i.jsx(Ln,{path:"/reports",element:i.jsx(ca,{requiredPermission:"manage_reports",children:i.jsx(oJ,{})})}),i.jsx(Ln,{path:"/pendencias",element:i.jsx(ca,{requiredPermission:"view_pendencias",children:i.jsx(uJ,{})})}),i.jsx(Ln,{path:"/settings",element:i.jsx(ca,{children:i.jsx(gV,{})})}),i.jsx(Ln,{path:"/",element:i.jsx(zv,{to:"/dashboard",replace:!0})}),i.jsx(Ln,{path:"*",element:i.jsx(dJ,{})})]})})]})})})})})});PN(document.getElementById("root")).render(i.jsx(hJ,{}));
